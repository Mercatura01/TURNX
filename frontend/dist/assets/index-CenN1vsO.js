var QE=Object.defineProperty;var Xy=e=>{throw TypeError(e)};var ZE=(e,t,n)=>t in e?QE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var lt=(e,t,n)=>ZE(e,typeof t!="symbol"?t+"":t,n),gd=(e,t,n)=>t.has(e)||Xy("Cannot "+n);var x=(e,t,n)=>(gd(e,t,"read from private field"),n?n.call(e):t.get(e)),V=(e,t,n)=>t.has(e)?Xy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),k=(e,t,n,a)=>(gd(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n),Q=(e,t,n)=>(gd(e,t,"access private method"),n);var Cl=(e,t,n,a)=>({set _(r){k(e,t,r,n)},get _(){return x(e,t,a)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Gb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kb={exports:{}},J={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh=Symbol.for("react.transitional.element"),XE=Symbol.for("react.portal"),$E=Symbol.for("react.fragment"),PE=Symbol.for("react.strict_mode"),FE=Symbol.for("react.profiler"),JE=Symbol.for("react.consumer"),WE=Symbol.for("react.context"),ew=Symbol.for("react.forward_ref"),tw=Symbol.for("react.suspense"),nw=Symbol.for("react.memo"),Yb=Symbol.for("react.lazy"),$y=Symbol.iterator;function aw(e){return e===null||typeof e!="object"?null:(e=$y&&e[$y]||e["@@iterator"],typeof e=="function"?e:null)}var Lb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ib=Object.assign,Qb={};function bl(e,t,n){this.props=e,this.context=t,this.refs=Qb,this.updater=n||Lb}bl.prototype.isReactComponent={};bl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zb(){}Zb.prototype=bl.prototype;function ah(e,t,n){this.props=e,this.context=t,this.refs=Qb,this.updater=n||Lb}var rh=ah.prototype=new Zb;rh.constructor=ah;Ib(rh,bl.prototype);rh.isPureReactComponent=!0;var Py=Array.isArray,Re={H:null,A:null,T:null,S:null,V:null},Xb=Object.prototype.hasOwnProperty;function sh(e,t,n,a,r,s){return n=s.ref,{$$typeof:nh,type:e,key:t,ref:n!==void 0?n:null,props:s}}function rw(e,t){return sh(e.type,t,void 0,void 0,void 0,e.props)}function ih(e){return typeof e=="object"&&e!==null&&e.$$typeof===nh}function sw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Fy=/\/+/g;function pd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sw(""+e.key):t.toString(36)}function Jy(){}function iw(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Jy,Jy):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Js(e,t,n,a,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case nh:case XE:l=!0;break;case Yb:return l=e._init,Js(l(e._payload),t,n,a,r)}}if(l)return r=r(e),l=a===""?"."+pd(e,0):a,Py(r)?(n="",l!=null&&(n=l.replace(Fy,"$&/")+"/"),Js(r,t,n,"",function(f){return f})):r!=null&&(ih(r)&&(r=rw(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(Fy,"$&/")+"/")+l)),t.push(r)),1;l=0;var c=a===""?".":a+":";if(Py(e))for(var o=0;o<e.length;o++)a=e[o],s=c+pd(a,o),l+=Js(a,t,n,s,r);else if(o=aw(e),typeof o=="function")for(e=o.call(e),o=0;!(a=e.next()).done;)a=a.value,s=c+pd(a,o++),l+=Js(a,t,n,s,r);else if(s==="object"){if(typeof e.then=="function")return Js(iw(e),t,n,a,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function qo(e,t,n){if(e==null)return e;var a=[],r=0;return Js(e,a,"","",function(s){return t.call(n,s,r++)}),a}function lw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Wy=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function cw(){}J.Children={map:qo,forEach:function(e,t,n){qo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return qo(e,function(){t++}),t},toArray:function(e){return qo(e,function(t){return t})||[]},only:function(e){if(!ih(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=bl;J.Fragment=$E;J.Profiler=FE;J.PureComponent=ah;J.StrictMode=PE;J.Suspense=tw;J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Re;J.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Re.H.useMemoCache(e)}};J.cache=function(e){return function(){return e.apply(null,arguments)}};J.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=Ib({},e.props),r=e.key,s=void 0;if(t!=null)for(l in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(r=""+t.key),t)!Xb.call(t,l)||l==="key"||l==="__self"||l==="__source"||l==="ref"&&t.ref===void 0||(a[l]=t[l]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),o=0;o<l;o++)c[o]=arguments[o+2];a.children=c}return sh(e.type,r,void 0,void 0,s,a)};J.createContext=function(e){return e={$$typeof:WE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:JE,_context:e},e};J.createElement=function(e,t,n){var a,r={},s=null;if(t!=null)for(a in t.key!==void 0&&(s=""+t.key),t)Xb.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(r[a]=t[a]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),o=0;o<l;o++)c[o]=arguments[o+2];r.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)r[a]===void 0&&(r[a]=l[a]);return sh(e,s,void 0,void 0,null,r)};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:ew,render:e}};J.isValidElement=ih;J.lazy=function(e){return{$$typeof:Yb,_payload:{_status:-1,_result:e},_init:lw}};J.memo=function(e,t){return{$$typeof:nw,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=Re.T,n={};Re.T=n;try{var a=e(),r=Re.S;r!==null&&r(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(cw,Wy)}catch(s){Wy(s)}finally{Re.T=t}};J.unstable_useCacheRefresh=function(){return Re.H.useCacheRefresh()};J.use=function(e){return Re.H.use(e)};J.useActionState=function(e,t,n){return Re.H.useActionState(e,t,n)};J.useCallback=function(e,t){return Re.H.useCallback(e,t)};J.useContext=function(e){return Re.H.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e,t){return Re.H.useDeferredValue(e,t)};J.useEffect=function(e,t,n){var a=Re.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return a.useEffect(e,t)};J.useId=function(){return Re.H.useId()};J.useImperativeHandle=function(e,t,n){return Re.H.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return Re.H.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return Re.H.useLayoutEffect(e,t)};J.useMemo=function(e,t){return Re.H.useMemo(e,t)};J.useOptimistic=function(e,t){return Re.H.useOptimistic(e,t)};J.useReducer=function(e,t,n){return Re.H.useReducer(e,t,n)};J.useRef=function(e){return Re.H.useRef(e)};J.useState=function(e){return Re.H.useState(e)};J.useSyncExternalStore=function(e,t,n){return Re.H.useSyncExternalStore(e,t,n)};J.useTransition=function(){return Re.H.useTransition()};J.version="19.1.0";Kb.exports=J;var G=Kb.exports;const i=Gb(G);var $b={exports:{}},Df={},Pb={exports:{}},Fb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,q){var R=A.length;A.push(q);e:for(;0<R;){var z=R-1>>>1,K=A[z];if(0<r(K,q))A[z]=q,A[R]=K,R=z;else break e}}function n(A){return A.length===0?null:A[0]}function a(A){if(A.length===0)return null;var q=A[0],R=A.pop();if(R!==q){A[0]=R;e:for(var z=0,K=A.length,L=K>>>1;z<L;){var Y=2*(z+1)-1,ye=A[Y],Ee=Y+1,Qe=A[Ee];if(0>r(ye,R))Ee<K&&0>r(Qe,ye)?(A[z]=Qe,A[Ee]=R,z=Ee):(A[z]=ye,A[Y]=R,z=Y);else if(Ee<K&&0>r(Qe,R))A[z]=Qe,A[Ee]=R,z=Ee;else break e}}return q}function r(A,q){var R=A.sortIndex-q.sortIndex;return R!==0?R:A.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var o=[],f=[],g=1,h=null,u=3,d=!1,m=!1,S=!1,v=!1,p=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function N(A){for(var q=n(f);q!==null;){if(q.callback===null)a(f);else if(q.startTime<=A)a(f),q.sortIndex=q.expirationTime,t(o,q);else break;q=n(f)}}function w(A){if(S=!1,N(A),!m)if(n(o)!==null)m=!0,C||(C=!0,U());else{var q=n(f);q!==null&&M(w,q.startTime-A)}}var C=!1,B=-1,D=5,j=-1;function O(){return v?!0:!(e.unstable_now()-j<D)}function _(){if(v=!1,C){var A=e.unstable_now();j=A;var q=!0;try{e:{m=!1,S&&(S=!1,y(B),B=-1),d=!0;var R=u;try{t:{for(N(A),h=n(o);h!==null&&!(h.expirationTime>A&&O());){var z=h.callback;if(typeof z=="function"){h.callback=null,u=h.priorityLevel;var K=z(h.expirationTime<=A);if(A=e.unstable_now(),typeof K=="function"){h.callback=K,N(A),q=!0;break t}h===n(o)&&a(o),N(A)}else a(o);h=n(o)}if(h!==null)q=!0;else{var L=n(f);L!==null&&M(w,L.startTime-A),q=!1}}break e}finally{h=null,u=R,d=!1}q=void 0}}finally{q?U():C=!1}}}var U;if(typeof b=="function")U=function(){b(_)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,T=E.port2;E.port1.onmessage=_,U=function(){T.postMessage(null)}}else U=function(){p(_,0)};function M(A,q){B=p(function(){A(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_next=function(A){switch(u){case 1:case 2:case 3:var q=3;break;default:q=u}var R=u;u=q;try{return A()}finally{u=R}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(A,q){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var R=u;u=A;try{return q()}finally{u=R}},e.unstable_scheduleCallback=function(A,q,R){var z=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?z+R:z):R=z,A){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=R+K,A={id:g++,callback:q,priorityLevel:A,startTime:R,expirationTime:K,sortIndex:-1},R>z?(A.sortIndex=R,t(f,A),n(o)===null&&A===n(f)&&(S?(y(B),B=-1):S=!0,M(w,R-z))):(A.sortIndex=K,t(o,A),m||d||(m=!0,C||(C=!0,U()))),A},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(A){var q=u;return function(){var R=u;u=q;try{return A.apply(this,arguments)}finally{u=R}}}})(Fb);Pb.exports=Fb;var ow=Pb.exports,Jb={exports:{}},Ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw=G;function Wb(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ka(){}var Rt={d:{f:ka,r:function(){throw Error(Wb(522))},D:ka,C:ka,L:ka,m:ka,X:ka,S:ka,M:ka},p:0,findDOMNode:null},fw=Symbol.for("react.portal");function dw(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fw,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var $l=uw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function zf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Rt;Ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Wb(299));return dw(e,t,null,n)};Ot.flushSync=function(e){var t=$l.T,n=Rt.p;try{if($l.T=null,Rt.p=2,e)return e()}finally{$l.T=t,Rt.p=n,Rt.d.f()}};Ot.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Rt.d.C(e,t))};Ot.prefetchDNS=function(e){typeof e=="string"&&Rt.d.D(e)};Ot.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=zf(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Rt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:r,fetchPriority:s}):n==="script"&&Rt.d.X(e,{crossOrigin:a,integrity:r,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ot.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=zf(t.as,t.crossOrigin);Rt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Rt.d.M(e)};Ot.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=zf(n,t.crossOrigin);Rt.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ot.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=zf(t.as,t.crossOrigin);Rt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Rt.d.m(e)};Ot.requestFormReset=function(e){Rt.d.r(e)};Ot.unstable_batchedUpdates=function(e,t){return e(t)};Ot.useFormState=function(e,t,n){return $l.H.useFormState(e,t,n)};Ot.useFormStatus=function(){return $l.H.useHostTransitionStatus()};Ot.version="19.1.0";function e1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e1)}catch(e){console.error(e)}}e1(),Jb.exports=Ot;var mw=Jb.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var We=ow,t1=G,hw=mw;function H(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function a1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function eg(e){if(fo(e)!==e)throw Error(H(188))}function yw(e){var t=e.alternate;if(!t){if(t=fo(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(a=r.return,a!==null){n=a;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return eg(r),e;if(s===a)return eg(r),t;s=s.sibling}throw Error(H(188))}if(n.return!==a.return)n=r,a=s;else{for(var l=!1,c=r.child;c;){if(c===n){l=!0,n=r,a=s;break}if(c===a){l=!0,a=r,n=s;break}c=c.sibling}if(!l){for(c=s.child;c;){if(c===n){l=!0,n=s,a=r;break}if(c===a){l=!0,a=s,n=r;break}c=c.sibling}if(!l)throw Error(H(189))}}if(n.alternate!==a)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function r1(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=r1(e),t!==null)return t;e=e.sibling}return null}var Te=Object.assign,gw=Symbol.for("react.element"),Do=Symbol.for("react.transitional.element"),Kl=Symbol.for("react.portal"),ii=Symbol.for("react.fragment"),s1=Symbol.for("react.strict_mode"),Rm=Symbol.for("react.profiler"),pw=Symbol.for("react.provider"),i1=Symbol.for("react.consumer"),ba=Symbol.for("react.context"),lh=Symbol.for("react.forward_ref"),Om=Symbol.for("react.suspense"),Cm=Symbol.for("react.suspense_list"),ch=Symbol.for("react.memo"),Xa=Symbol.for("react.lazy"),Mm=Symbol.for("react.activity"),bw=Symbol.for("react.memo_cache_sentinel"),tg=Symbol.iterator;function Ml(e){return e===null||typeof e!="object"?null:(e=tg&&e[tg]||e["@@iterator"],typeof e=="function"?e:null)}var xw=Symbol.for("react.client.reference");function Bm(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===xw?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ii:return"Fragment";case Rm:return"Profiler";case s1:return"StrictMode";case Om:return"Suspense";case Cm:return"SuspenseList";case Mm:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Kl:return"Portal";case ba:return(e.displayName||"Context")+".Provider";case i1:return(e._context.displayName||"Context")+".Consumer";case lh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ch:return t=e.displayName||null,t!==null?t:Bm(e.type)||"Memo";case Xa:t=e._payload,e=e._init;try{return Bm(e(t))}catch{}}return null}var Yl=Array.isArray,P=t1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=hw.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bs={pending:!1,data:null,method:null,action:null},Um=[],li=-1;function Jn(e){return{current:e}}function it(e){0>li||(e.current=Um[li],Um[li]=null,li--)}function Oe(e,t){li++,Um[li]=e.current,e.current=t}var Zn=Jn(null),gc=Jn(null),Tr=Jn(null),Ru=Jn(null);function Ou(e,t){switch(Oe(Tr,t),Oe(gc,e),Oe(Zn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ip(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ip(t),e=N2(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}it(Zn),Oe(Zn,e)}function tl(){it(Zn),it(gc),it(Tr)}function qm(e){e.memoizedState!==null&&Oe(Ru,e);var t=Zn.current,n=N2(t,e.type);t!==n&&(Oe(gc,e),Oe(Zn,n))}function Cu(e){gc.current===e&&(it(Zn),it(gc)),Ru.current===e&&(it(Ru),Tc._currentValue=bs)}var Dm=Object.prototype.hasOwnProperty,oh=We.unstable_scheduleCallback,bd=We.unstable_cancelCallback,vw=We.unstable_shouldYield,Ew=We.unstable_requestPaint,Xn=We.unstable_now,ww=We.unstable_getCurrentPriorityLevel,l1=We.unstable_ImmediatePriority,c1=We.unstable_UserBlockingPriority,Mu=We.unstable_NormalPriority,Nw=We.unstable_LowPriority,o1=We.unstable_IdlePriority,Sw=We.log,_w=We.unstable_setDisableYieldValue,mo=null,$t=null;function wr(e){if(typeof Sw=="function"&&_w(e),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(mo,e)}catch{}}var Pt=Math.clz32?Math.clz32:Rw,Tw=Math.log,Aw=Math.LN2;function Rw(e){return e>>>=0,e===0?32:31-(Tw(e)/Aw|0)|0}var zo=256,jo=4194304;function Pr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function jf(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var c=a&134217727;return c!==0?(a=c&~s,a!==0?r=Pr(a):(l&=c,l!==0?r=Pr(l):n||(n=c&~e,n!==0&&(r=Pr(n))))):(c=a&~s,c!==0?r=Pr(c):l!==0?r=Pr(l):n||(n=a&~e,n!==0&&(r=Pr(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function ho(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ow(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u1(){var e=zo;return zo<<=1,!(zo&4194048)&&(zo=256),e}function f1(){var e=jo;return jo<<=1,!(jo&62914560)&&(jo=4194304),e}function xd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yo(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Cw(e,t,n,a,r,s){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var c=e.entanglements,o=e.expirationTimes,f=e.hiddenUpdates;for(n=l&~n;0<n;){var g=31-Pt(n),h=1<<g;c[g]=0,o[g]=-1;var u=f[g];if(u!==null)for(f[g]=null,g=0;g<u.length;g++){var d=u[g];d!==null&&(d.lane&=-536870913)}n&=~h}a!==0&&d1(e,a,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(l&~t))}function d1(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Pt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194090}function m1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Pt(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}function uh(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function fh(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function h1(){var e=fe.p;return e!==0?e:(e=window.event,e===void 0?32:U2(e.type))}function Mw(e,t){var n=fe.p;try{return fe.p=e,t()}finally{fe.p=n}}var Ir=Math.random().toString(36).slice(2),bt="__reactFiber$"+Ir,kt="__reactProps$"+Ir,xl="__reactContainer$"+Ir,zm="__reactEvents$"+Ir,Bw="__reactListeners$"+Ir,Uw="__reactHandles$"+Ir,ng="__reactResources$"+Ir,go="__reactMarker$"+Ir;function dh(e){delete e[bt],delete e[kt],delete e[zm],delete e[Bw],delete e[Uw]}function ci(e){var t=e[bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xl]||n[bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=op(e);e!==null;){if(n=e[bt])return n;e=op(e)}return t}e=n,n=e.parentNode}return null}function vl(e){if(e=e[bt]||e[xl]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ll(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(H(33))}function Si(e){var t=e[ng];return t||(t=e[ng]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function at(e){e[go]=!0}var y1=new Set,g1={};function Vs(e,t){nl(e,t),nl(e+"Capture",t)}function nl(e,t){for(g1[e]=t,e=0;e<t.length;e++)y1.add(t[e])}var qw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ag={},rg={};function Dw(e){return Dm.call(rg,e)?!0:Dm.call(ag,e)?!1:qw.test(e)?rg[e]=!0:(ag[e]=!0,!1)}function ru(e,t,n){if(Dw(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ko(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ta(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}var vd,sg;function Ws(e){if(vd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);vd=t&&t[1]||"",sg=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vd+e+sg}var Ed=!1;function wd(e,t){if(!e||Ed)return"";Ed=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(d){var u=d}Reflect.construct(e,[],h)}else{try{h.call()}catch(d){u=d}e.call(h.prototype)}}else{try{throw Error()}catch(d){u=d}(h=e())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(d){if(d&&u&&typeof d.stack=="string")return[d.stack,u.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),l=s[0],c=s[1];if(l&&c){var o=l.split(`
`),f=c.split(`
`);for(r=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;r<f.length&&!f[r].includes("DetermineComponentFrameRoot");)r++;if(a===o.length||r===f.length)for(a=o.length-1,r=f.length-1;1<=a&&0<=r&&o[a]!==f[r];)r--;for(;1<=a&&0<=r;a--,r--)if(o[a]!==f[r]){if(a!==1||r!==1)do if(a--,r--,0>r||o[a]!==f[r]){var g=`
`+o[a].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=a&&0<=r);break}}}finally{Ed=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ws(n):""}function zw(e){switch(e.tag){case 26:case 27:case 5:return Ws(e.type);case 16:return Ws("Lazy");case 13:return Ws("Suspense");case 19:return Ws("SuspenseList");case 0:case 15:return wd(e.type,!1);case 11:return wd(e.type.render,!1);case 1:return wd(e.type,!0);case 31:return Ws("Activity");default:return""}}function ig(e){try{var t="";do t+=zw(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function p1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jw(e){var t=p1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(l){a=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bu(e){e._valueTracker||(e._valueTracker=jw(e))}function b1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=p1(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Uu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var kw=/[\n"\\]/g;function dn(e){return e.replace(kw,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function jm(e,t,n,a,r,s,l,c){e.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.type=l:e.removeAttribute("type"),t!=null?l==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+cn(t)):e.value!==""+cn(t)&&(e.value=""+cn(t)):l!=="submit"&&l!=="reset"||e.removeAttribute("value"),t!=null?km(e,l,cn(t)):n!=null?km(e,l,cn(n)):a!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.name=""+cn(c):e.removeAttribute("name")}function x1(e,t,n,a,r,s,l,c){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+cn(n):"",t=t!=null?""+cn(t):n,c||t===e.value||(e.value=t),e.defaultValue=t}a=a??r,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=c?e.checked:!!a,e.defaultChecked=!!a,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.name=l)}function km(e,t,n){t==="number"&&Uu(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _i(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+cn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,a&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function v1(e,t,n){if(t!=null&&(t=""+cn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+cn(n):""}function E1(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(H(92));if(Yl(a)){if(1<a.length)throw Error(H(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=cn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function al(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lg(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Hw.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function w1(e,t,n){if(t!=null&&typeof t!="object")throw Error(H(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var r in t)a=t[r],t.hasOwnProperty(r)&&n[r]!==a&&lg(e,r,a)}else for(var s in t)t.hasOwnProperty(s)&&lg(e,s,t[s])}function mh(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function su(e){return Gw.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Hm=null;function hh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oi=null,Ti=null;function cg(e){var t=vl(e);if(t&&(e=t.stateNode)){var n=e[kt]||null;e:switch(e=t.stateNode,t.type){case"input":if(jm(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+dn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=a[kt]||null;if(!r)throw Error(H(90));jm(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&b1(a)}break e;case"textarea":v1(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&_i(e,!!n.multiple,t,!1)}}}var Nd=!1;function N1(e,t,n){if(Nd)return e(t,n);Nd=!0;try{var a=e(t);return a}finally{if(Nd=!1,(oi!==null||Ti!==null)&&(Zf(),oi&&(t=oi,e=Ti,Ti=oi=null,cg(t),e)))for(t=0;t<e.length;t++)cg(e[t])}}function pc(e,t){var n=e.stateNode;if(n===null)return null;var a=n[kt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var Oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vm=!1;if(Oa)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){Vm=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{Vm=!1}var Nr=null,yh=null,iu=null;function S1(){if(iu)return iu;var e,t=yh,n=t.length,a,r="value"in Nr?Nr.value:Nr.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var l=n-e;for(a=1;a<=l&&t[n-a]===r[s-a];a++);return iu=r.slice(e,1<a?1-a:void 0)}function lu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ho(){return!0}function og(){return!1}function Ht(e){function t(n,a,r,s,l){this._reactName=n,this._targetInst=r,this.type=a,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ho:og,this.isPropagationStopped=og,this}return Te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ho)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ho)},persist:function(){},isPersistent:Ho}),t}var Gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kf=Ht(Gs),po=Te({},Gs,{view:0,detail:0}),Kw=Ht(po),Sd,_d,Ul,Hf=Te({},po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ul&&(Ul&&e.type==="mousemove"?(Sd=e.screenX-Ul.screenX,_d=e.screenY-Ul.screenY):_d=Sd=0,Ul=e),Sd)},movementY:function(e){return"movementY"in e?e.movementY:_d}}),ug=Ht(Hf),Yw=Te({},Hf,{dataTransfer:0}),Lw=Ht(Yw),Iw=Te({},po,{relatedTarget:0}),Td=Ht(Iw),Qw=Te({},Gs,{animationName:0,elapsedTime:0,pseudoElement:0}),Zw=Ht(Qw),Xw=Te({},Gs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$w=Ht(Xw),Pw=Te({},Gs,{data:0}),fg=Ht(Pw),Fw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ww={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ww[e])?!!t[e]:!1}function gh(){return e6}var t6=Te({},po,{key:function(e){if(e.key){var t=Fw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gh,charCode:function(e){return e.type==="keypress"?lu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),n6=Ht(t6),a6=Te({},Hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dg=Ht(a6),r6=Te({},po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gh}),s6=Ht(r6),i6=Te({},Gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),l6=Ht(i6),c6=Te({},Hf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),o6=Ht(c6),u6=Te({},Gs,{newState:0,oldState:0}),f6=Ht(u6),d6=[9,13,27,32],ph=Oa&&"CompositionEvent"in window,Pl=null;Oa&&"documentMode"in document&&(Pl=document.documentMode);var m6=Oa&&"TextEvent"in window&&!Pl,_1=Oa&&(!ph||Pl&&8<Pl&&11>=Pl),mg=" ",hg=!1;function T1(e,t){switch(e){case"keyup":return d6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ui=!1;function h6(e,t){switch(e){case"compositionend":return A1(t);case"keypress":return t.which!==32?null:(hg=!0,mg);case"textInput":return e=t.data,e===mg&&hg?null:e;default:return null}}function y6(e,t){if(ui)return e==="compositionend"||!ph&&T1(e,t)?(e=S1(),iu=yh=Nr=null,ui=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _1&&t.locale!=="ko"?null:t.data;default:return null}}var g6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!g6[e.type]:t==="textarea"}function R1(e,t,n,a){oi?Ti?Ti.push(a):Ti=[a]:oi=a,t=Fu(t,"onChange"),0<t.length&&(n=new kf("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Fl=null,bc=null;function p6(e){v2(e,0)}function Vf(e){var t=Ll(e);if(b1(t))return e}function gg(e,t){if(e==="change")return t}var O1=!1;if(Oa){var Ad;if(Oa){var Rd="oninput"in document;if(!Rd){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),Rd=typeof pg.oninput=="function"}Ad=Rd}else Ad=!1;O1=Ad&&(!document.documentMode||9<document.documentMode)}function bg(){Fl&&(Fl.detachEvent("onpropertychange",C1),bc=Fl=null)}function C1(e){if(e.propertyName==="value"&&Vf(bc)){var t=[];R1(t,bc,e,hh(e)),N1(p6,t)}}function b6(e,t,n){e==="focusin"?(bg(),Fl=t,bc=n,Fl.attachEvent("onpropertychange",C1)):e==="focusout"&&bg()}function x6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vf(bc)}function v6(e,t){if(e==="click")return Vf(t)}function E6(e,t){if(e==="input"||e==="change")return Vf(t)}function w6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wt=typeof Object.is=="function"?Object.is:w6;function xc(e,t){if(Wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!Dm.call(t,r)||!Wt(e[r],t[r]))return!1}return!0}function xg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vg(e,t){var n=xg(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xg(n)}}function M1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?M1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function B1(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Uu(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Uu(e.document)}return t}function bh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var N6=Oa&&"documentMode"in document&&11>=document.documentMode,fi=null,Gm=null,Jl=null,Km=!1;function Eg(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Km||fi==null||fi!==Uu(a)||(a=fi,"selectionStart"in a&&bh(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Jl&&xc(Jl,a)||(Jl=a,a=Fu(Gm,"onSelect"),0<a.length&&(t=new kf("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=fi)))}function $r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var di={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},Od={},U1={};Oa&&(U1=document.createElement("div").style,"AnimationEvent"in window||(delete di.animationend.animation,delete di.animationiteration.animation,delete di.animationstart.animation),"TransitionEvent"in window||delete di.transitionend.transition);function Ks(e){if(Od[e])return Od[e];if(!di[e])return e;var t=di[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in U1)return Od[e]=t[n];return e}var q1=Ks("animationend"),D1=Ks("animationiteration"),z1=Ks("animationstart"),S6=Ks("transitionrun"),_6=Ks("transitionstart"),T6=Ks("transitioncancel"),j1=Ks("transitionend"),k1=new Map,Ym="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ym.push("scrollEnd");function Cn(e,t){k1.set(e,t),Vs(t,[e])}var wg=new WeakMap;function mn(e,t){if(typeof e=="object"&&e!==null){var n=wg.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ig(t)},wg.set(e,t),t)}return{value:e,source:t,stack:ig(t)}}var rn=[],mi=0,xh=0;function Gf(){for(var e=mi,t=xh=mi=0;t<e;){var n=rn[t];rn[t++]=null;var a=rn[t];rn[t++]=null;var r=rn[t];rn[t++]=null;var s=rn[t];if(rn[t++]=null,a!==null&&r!==null){var l=a.pending;l===null?r.next=r:(r.next=l.next,l.next=r),a.pending=r}s!==0&&H1(n,r,s)}}function Kf(e,t,n,a){rn[mi++]=e,rn[mi++]=t,rn[mi++]=n,rn[mi++]=a,xh|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function vh(e,t,n,a){return Kf(e,t,n,a),qu(e)}function El(e,t){return Kf(e,null,null,t),qu(e)}function H1(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-Pt(n),e=s.hiddenUpdates,a=e[r],a===null?e[r]=[t]:a.push(t),t.lane=n|536870912),s):null}function qu(e){if(50<cc)throw cc=0,u0=null,Error(H(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var hi={};function A6(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(e,t,n,a){return new A6(e,t,n,a)}function Eh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _a(e,t){var n=e.alternate;return n===null?(n=Qt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function V1(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function cu(e,t,n,a,r,s){var l=0;if(a=e,typeof e=="function")Eh(e)&&(l=1);else if(typeof e=="string")l=O3(e,n,Zn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Mm:return e=Qt(31,n,t,r),e.elementType=Mm,e.lanes=s,e;case ii:return xs(n.children,r,s,t);case s1:l=8,r|=24;break;case Rm:return e=Qt(12,n,t,r|2),e.elementType=Rm,e.lanes=s,e;case Om:return e=Qt(13,n,t,r),e.elementType=Om,e.lanes=s,e;case Cm:return e=Qt(19,n,t,r),e.elementType=Cm,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pw:case ba:l=10;break e;case i1:l=9;break e;case lh:l=11;break e;case ch:l=14;break e;case Xa:l=16,a=null;break e}l=29,n=Error(H(130,e===null?"null":typeof e,"")),a=null}return t=Qt(l,n,t,r),t.elementType=e,t.type=a,t.lanes=s,t}function xs(e,t,n,a){return e=Qt(7,e,a,t),e.lanes=n,e}function Cd(e,t,n){return e=Qt(6,e,null,t),e.lanes=n,e}function Md(e,t,n){return t=Qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var yi=[],gi=0,Du=null,zu=0,on=[],un=0,vs=null,xa=1,va="";function Fr(e,t){yi[gi++]=zu,yi[gi++]=Du,Du=e,zu=t}function G1(e,t,n){on[un++]=xa,on[un++]=va,on[un++]=vs,vs=e;var a=xa;e=va;var r=32-Pt(a)-1;a&=~(1<<r),n+=1;var s=32-Pt(t)+r;if(30<s){var l=r-r%5;s=(a&(1<<l)-1).toString(32),a>>=l,r-=l,xa=1<<32-Pt(t)+r|n<<r|a,va=s+e}else xa=1<<s|n<<r|a,va=e}function wh(e){e.return!==null&&(Fr(e,1),G1(e,1,0))}function Nh(e){for(;e===Du;)Du=yi[--gi],yi[gi]=null,zu=yi[--gi],yi[gi]=null;for(;e===vs;)vs=on[--un],on[un]=null,va=on[--un],on[un]=null,xa=on[--un],on[un]=null}var At=null,qe=null,oe=!1,Es=null,Gn=!1,Lm=Error(H(519));function Rs(e){var t=Error(H(418,""));throw vc(mn(t,e)),Lm}function Ng(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[bt]=e,t[kt]=a,n){case"dialog":ee("cancel",t),ee("close",t);break;case"iframe":case"object":case"embed":ee("load",t);break;case"video":case"audio":for(n=0;n<Nc.length;n++)ee(Nc[n],t);break;case"source":ee("error",t);break;case"img":case"image":case"link":ee("error",t),ee("load",t);break;case"details":ee("toggle",t);break;case"input":ee("invalid",t),x1(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Bu(t);break;case"select":ee("invalid",t);break;case"textarea":ee("invalid",t),E1(t,a.value,a.defaultValue,a.children),Bu(t)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||w2(t.textContent,n)?(a.popover!=null&&(ee("beforetoggle",t),ee("toggle",t)),a.onScroll!=null&&ee("scroll",t),a.onScrollEnd!=null&&ee("scrollend",t),a.onClick!=null&&(t.onclick=Pf),t=!0):t=!1,t||Rs(e)}function Sg(e){for(At=e.return;At;)switch(At.tag){case 5:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:At=At.return}}function ql(e){if(e!==At)return!1;if(!oe)return Sg(e),oe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||g0(e.type,e.memoizedProps)),n=!n),n&&qe&&Rs(e),Sg(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){qe=On(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}qe=null}}else t===27?(t=qe,Qr(e.type)?(e=x0,x0=null,qe=e):qe=t):qe=At?On(e.stateNode.nextSibling):null;return!0}function bo(){qe=At=null,oe=!1}function _g(){var e=Es;return e!==null&&(Dt===null?Dt=e:Dt.push.apply(Dt,e),Es=null),e}function vc(e){Es===null?Es=[e]:Es.push(e)}var Im=Jn(null),Ys=null,Ea=null;function Wa(e,t,n){Oe(Im,t._currentValue),t._currentValue=n}function Ta(e){e._currentValue=Im.current,it(Im)}function Qm(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Zm(e,t,n,a){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var l=r.child;s=s.firstContext;e:for(;s!==null;){var c=s;s=r;for(var o=0;o<t.length;o++)if(c.context===t[o]){s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Qm(s.return,n,e),a||(l=null);break e}s=c.next}}else if(r.tag===18){if(l=r.return,l===null)throw Error(H(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),Qm(l,n,e),l=null}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===e){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}}function xo(e,t,n,a){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var l=r.alternate;if(l===null)throw Error(H(387));if(l=l.memoizedProps,l!==null){var c=r.type;Wt(r.pendingProps.value,l.value)||(e!==null?e.push(c):e=[c])}}else if(r===Ru.current){if(l=r.alternate,l===null)throw Error(H(387));l.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Tc):e=[Tc])}r=r.return}e!==null&&Zm(t,e,n,a),t.flags|=262144}function ju(e){for(e=e.firstContext;e!==null;){if(!Wt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Os(e){Ys=e,Ea=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function xt(e){return K1(Ys,e)}function Vo(e,t){return Ys===null&&Os(e),K1(e,t)}function K1(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ea===null){if(e===null)throw Error(H(308));Ea=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ea=Ea.next=t;return n}var R6=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},O6=We.unstable_scheduleCallback,C6=We.unstable_NormalPriority,Pe={$$typeof:ba,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sh(){return{controller:new R6,data:new Map,refCount:0}}function vo(e){e.refCount--,e.refCount===0&&O6(C6,function(){e.controller.abort()})}var Wl=null,Xm=0,rl=0,Ai=null;function M6(e,t){if(Wl===null){var n=Wl=[];Xm=0,rl=Zh(),Ai={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Xm++,t.then(Tg,Tg),t}function Tg(){if(--Xm===0&&Wl!==null){Ai!==null&&(Ai.status="fulfilled");var e=Wl;Wl=null,rl=0,Ai=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function B6(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(a.status="rejected",a.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),a}var Ag=P.S;P.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&M6(e,t),Ag!==null&&Ag(e,t)};var ws=Jn(null);function _h(){var e=ws.current;return e!==null?e:Se.pooledCache}function ou(e,t){t===null?Oe(ws,ws.current):Oe(ws,t.pool)}function Y1(){var e=_h();return e===null?null:{parent:Pe._currentValue,pool:e}}var Eo=Error(H(460)),L1=Error(H(474)),Yf=Error(H(542)),$m={then:function(){}};function Rg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Go(){}function I1(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Go,Go),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cg(e),e;default:if(typeof t.status=="string")t.then(Go,Go);else{if(e=Se,e!==null&&100<e.shellSuspendCounter)throw Error(H(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=a}},function(a){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cg(e),e}throw ec=t,Eo}}var ec=null;function Og(){if(ec===null)throw Error(H(459));var e=ec;return ec=null,e}function Cg(e){if(e===Eo||e===Yf)throw Error(H(483))}var $a=!1;function Th(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ar(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rr(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,be&2){var r=a.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),a.pending=t,t=qu(e),H1(e,null,n),t}return Kf(e,a,t,n),qu(e)}function tc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,m1(e,n)}}function Bd(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Fm=!1;function nc(){if(Fm){var e=Ai;if(e!==null)throw e}}function ac(e,t,n,a){Fm=!1;var r=e.updateQueue;$a=!1;var s=r.firstBaseUpdate,l=r.lastBaseUpdate,c=r.shared.pending;if(c!==null){r.shared.pending=null;var o=c,f=o.next;o.next=null,l===null?s=f:l.next=f,l=o;var g=e.alternate;g!==null&&(g=g.updateQueue,c=g.lastBaseUpdate,c!==l&&(c===null?g.firstBaseUpdate=f:c.next=f,g.lastBaseUpdate=o))}if(s!==null){var h=r.baseState;l=0,g=f=o=null,c=s;do{var u=c.lane&-536870913,d=u!==c.lane;if(d?(ie&u)===u:(a&u)===u){u!==0&&u===rl&&(Fm=!0),g!==null&&(g=g.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var m=e,S=c;u=t;var v=n;switch(S.tag){case 1:if(m=S.payload,typeof m=="function"){h=m.call(v,h,u);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=S.payload,u=typeof m=="function"?m.call(v,h,u):m,u==null)break e;h=Te({},h,u);break e;case 2:$a=!0}}u=c.callback,u!==null&&(e.flags|=64,d&&(e.flags|=8192),d=r.callbacks,d===null?r.callbacks=[u]:d.push(u))}else d={lane:u,tag:c.tag,payload:c.payload,callback:c.callback,next:null},g===null?(f=g=d,o=h):g=g.next=d,l|=u;if(c=c.next,c===null){if(c=r.shared.pending,c===null)break;d=c,c=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);g===null&&(o=h),r.baseState=o,r.firstBaseUpdate=f,r.lastBaseUpdate=g,s===null&&(r.shared.lanes=0),Kr|=l,e.lanes=l,e.memoizedState=h}}function Q1(e,t){if(typeof e!="function")throw Error(H(191,e));e.call(t)}function Z1(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Q1(n[e],t)}var sl=Jn(null),ku=Jn(0);function Mg(e,t){e=Ba,Oe(ku,e),Oe(sl,t),Ba=e|t.baseLanes}function Jm(){Oe(ku,Ba),Oe(sl,sl.current)}function Ah(){Ba=ku.current,it(sl),it(ku)}var Vr=0,W=null,ve=null,Le=null,Hu=!1,Ri=!1,Cs=!1,Vu=0,Ec=0,Oi=null,U6=0;function je(){throw Error(H(321))}function Rh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function Oh(e,t,n,a,r,s){return Vr=s,W=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=e===null||e.memoizedState===null?Sx:_x,Cs=!1,s=n(a,r),Cs=!1,Ri&&(s=$1(t,n,a,r)),X1(e),s}function X1(e){P.H=Gu;var t=ve!==null&&ve.next!==null;if(Vr=0,Le=ve=W=null,Hu=!1,Ec=0,Oi=null,t)throw Error(H(300));e===null||st||(e=e.dependencies,e!==null&&ju(e)&&(st=!0))}function $1(e,t,n,a){W=e;var r=0;do{if(Ri&&(Oi=null),Ec=0,Ri=!1,25<=r)throw Error(H(301));if(r+=1,Le=ve=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}P.H=V6,s=t(n,a)}while(Ri);return s}function q6(){var e=P.H,t=e.useState()[0];return t=typeof t.then=="function"?wo(t):t,e=e.useState()[0],(ve!==null?ve.memoizedState:null)!==e&&(W.flags|=1024),t}function Ch(){var e=Vu!==0;return Vu=0,e}function Mh(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Bh(e){if(Hu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Hu=!1}Vr=0,Le=ve=W=null,Ri=!1,Ec=Vu=0,Oi=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?W.memoizedState=Le=e:Le=Le.next=e,Le}function Ie(){if(ve===null){var e=W.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=Le===null?W.memoizedState:Le.next;if(t!==null)Le=t,ve=e;else{if(e===null)throw W.alternate===null?Error(H(467)):Error(H(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Le===null?W.memoizedState=Le=e:Le=Le.next=e}return Le}function Uh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wo(e){var t=Ec;return Ec+=1,Oi===null&&(Oi=[]),e=I1(Oi,e,t),t=W,(Le===null?t.memoizedState:Le.next)===null&&(t=t.alternate,P.H=t===null||t.memoizedState===null?Sx:_x),e}function Lf(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return wo(e);if(e.$$typeof===ba)return xt(e)}throw Error(H(438,String(e)))}function qh(e){var t=null,n=W.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=W.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Uh(),W.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=bw;return t.index++,n}function Ca(e,t){return typeof t=="function"?t(e):t}function uu(e){var t=Ie();return Dh(t,ve,e)}function Dh(e,t,n){var a=e.queue;if(a===null)throw Error(H(311));a.lastRenderedReducer=n;var r=e.baseQueue,s=a.pending;if(s!==null){if(r!==null){var l=r.next;r.next=s.next,s.next=l}t.baseQueue=r=s,a.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var c=l=null,o=null,f=t,g=!1;do{var h=f.lane&-536870913;if(h!==f.lane?(ie&h)===h:(Vr&h)===h){var u=f.revertLane;if(u===0)o!==null&&(o=o.next={lane:0,revertLane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),h===rl&&(g=!0);else if((Vr&u)===u){f=f.next,u===rl&&(g=!0);continue}else h={lane:0,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},o===null?(c=o=h,l=s):o=o.next=h,W.lanes|=u,Kr|=u;h=f.action,Cs&&n(s,h),s=f.hasEagerState?f.eagerState:n(s,h)}else u={lane:h,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},o===null?(c=o=u,l=s):o=o.next=u,W.lanes|=h,Kr|=h;f=f.next}while(f!==null&&f!==t);if(o===null?l=s:o.next=c,!Wt(s,e.memoizedState)&&(st=!0,g&&(n=Ai,n!==null)))throw n;e.memoizedState=s,e.baseState=l,e.baseQueue=o,a.lastRenderedState=s}return r===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Ud(e){var t=Ie(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do s=e(s,l.action),l=l.next;while(l!==r);Wt(s,t.memoizedState)||(st=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function P1(e,t,n){var a=W,r=Ie(),s=oe;if(s){if(n===void 0)throw Error(H(407));n=n()}else n=t();var l=!Wt((ve||r).memoizedState,n);l&&(r.memoizedState=n,st=!0),r=r.queue;var c=W1.bind(null,a,r,e);if(No(2048,8,c,[e]),r.getSnapshot!==t||l||Le!==null&&Le.memoizedState.tag&1){if(a.flags|=2048,il(9,If(),J1.bind(null,a,r,n,t),null),Se===null)throw Error(H(349));s||Vr&124||F1(a,t,n)}return n}function F1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=W.updateQueue,t===null?(t=Uh(),W.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function J1(e,t,n,a){t.value=n,t.getSnapshot=a,ex(t)&&tx(e)}function W1(e,t,n){return n(function(){ex(t)&&tx(e)})}function ex(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch{return!0}}function tx(e){var t=El(e,2);t!==null&&Jt(t,e,2)}function Wm(e){var t=Ut();if(typeof e=="function"){var n=e;if(e=n(),Cs){wr(!0);try{n()}finally{wr(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t}function nx(e,t,n,a){return e.baseState=n,Dh(e,ve,typeof a=="function"?a:Ca)}function D6(e,t,n,a,r){if(Qf(e))throw Error(H(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){s.listeners.push(l)}};P.T!==null?n(!0):s.isTransition=!1,a(s),n=t.pending,n===null?(s.next=t.pending=s,ax(t,s)):(s.next=n.next,t.pending=n.next=s)}}function ax(e,t){var n=t.action,a=t.payload,r=e.state;if(t.isTransition){var s=P.T,l={};P.T=l;try{var c=n(r,a),o=P.S;o!==null&&o(l,c),Bg(e,t,c)}catch(f){e0(e,t,f)}finally{P.T=s}}else try{s=n(r,a),Bg(e,t,s)}catch(f){e0(e,t,f)}}function Bg(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Ug(e,t,a)},function(a){return e0(e,t,a)}):Ug(e,t,n)}function Ug(e,t,n){t.status="fulfilled",t.value=n,rx(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ax(e,n)))}function e0(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,rx(t),t=t.next;while(t!==a)}e.action=null}function rx(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function sx(e,t){return t}function qg(e,t){if(oe){var n=Se.formState;if(n!==null){e:{var a=W;if(oe){if(qe){t:{for(var r=qe,s=Gn;r.nodeType!==8;){if(!s){r=null;break t}if(r=On(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){qe=On(r.nextSibling),a=r.data==="F!";break e}}Rs(a)}a=!1}a&&(t=n[0])}}return n=Ut(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sx,lastRenderedState:t},n.queue=a,n=Ex.bind(null,W,a),a.dispatch=n,a=Wm(!1),s=Hh.bind(null,W,!1,a.queue),a=Ut(),r={state:t,dispatch:null,action:e,pending:null},a.queue=r,n=D6.bind(null,W,r,s,n),r.dispatch=n,a.memoizedState=e,[t,n,!1]}function Dg(e){var t=Ie();return ix(t,ve,e)}function ix(e,t,n){if(t=Dh(e,t,sx)[0],e=uu(Ca)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=wo(t)}catch(l){throw l===Eo?Yf:l}else a=t;t=Ie();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(W.flags|=2048,il(9,If(),z6.bind(null,r,n),null)),[a,s,e]}function z6(e,t){e.action=t}function zg(e){var t=Ie(),n=ve;if(n!==null)return ix(t,n,e);Ie(),t=t.memoizedState,n=Ie();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function il(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=W.updateQueue,t===null&&(t=Uh(),W.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function If(){return{destroy:void 0,resource:void 0}}function lx(){return Ie().memoizedState}function fu(e,t,n,a){var r=Ut();a=a===void 0?null:a,W.flags|=e,r.memoizedState=il(1|t,If(),n,a)}function No(e,t,n,a){var r=Ie();a=a===void 0?null:a;var s=r.memoizedState.inst;ve!==null&&a!==null&&Rh(a,ve.memoizedState.deps)?r.memoizedState=il(t,s,n,a):(W.flags|=e,r.memoizedState=il(1|t,s,n,a))}function jg(e,t){fu(8390656,8,e,t)}function cx(e,t){No(2048,8,e,t)}function ox(e,t){return No(4,2,e,t)}function ux(e,t){return No(4,4,e,t)}function fx(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dx(e,t,n){n=n!=null?n.concat([e]):null,No(4,4,fx.bind(null,t,e),n)}function zh(){}function mx(e,t){var n=Ie();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Rh(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function hx(e,t){var n=Ie();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Rh(t,a[1]))return a[0];if(a=e(),Cs){wr(!0);try{e()}finally{wr(!1)}}return n.memoizedState=[a,t],a}function jh(e,t,n){return n===void 0||Vr&1073741824?e.memoizedState=t:(e.memoizedState=n,e=r2(),W.lanes|=e,Kr|=e,n)}function yx(e,t,n,a){return Wt(n,t)?n:sl.current!==null?(e=jh(e,n,a),Wt(e,t)||(st=!0),e):Vr&42?(e=r2(),W.lanes|=e,Kr|=e,t):(st=!0,e.memoizedState=n)}function gx(e,t,n,a,r){var s=fe.p;fe.p=s!==0&&8>s?s:8;var l=P.T,c={};P.T=c,Hh(e,!1,t,n);try{var o=r(),f=P.S;if(f!==null&&f(c,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var g=B6(o,a);rc(e,t,g,Ft(e))}else rc(e,t,a,Ft(e))}catch(h){rc(e,t,{then:function(){},status:"rejected",reason:h},Ft())}finally{fe.p=s,P.T=l}}function j6(){}function t0(e,t,n,a){if(e.tag!==5)throw Error(H(476));var r=px(e).queue;gx(e,r,t,bs,n===null?j6:function(){return bx(e),n(a)})}function px(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:bs,baseState:bs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:bs},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function bx(e){var t=px(e).next.queue;rc(e,t,{},Ft())}function kh(){return xt(Tc)}function xx(){return Ie().memoizedState}function vx(){return Ie().memoizedState}function k6(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ft();e=Ar(n);var a=Rr(t,e,n);a!==null&&(Jt(a,t,n),tc(a,t,n)),t={cache:Sh()},e.payload=t;return}t=t.return}}function H6(e,t,n){var a=Ft();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Qf(e)?wx(t,n):(n=vh(e,t,n,a),n!==null&&(Jt(n,e,a),Nx(n,t,a)))}function Ex(e,t,n){var a=Ft();rc(e,t,n,a)}function rc(e,t,n,a){var r={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qf(e))wx(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,c=s(l,n);if(r.hasEagerState=!0,r.eagerState=c,Wt(c,l))return Kf(e,t,r,0),Se===null&&Gf(),!1}catch{}finally{}if(n=vh(e,t,r,a),n!==null)return Jt(n,e,a),Nx(n,t,a),!0}return!1}function Hh(e,t,n,a){if(a={lane:2,revertLane:Zh(),action:a,hasEagerState:!1,eagerState:null,next:null},Qf(e)){if(t)throw Error(H(479))}else t=vh(e,n,a,2),t!==null&&Jt(t,e,2)}function Qf(e){var t=e.alternate;return e===W||t!==null&&t===W}function wx(e,t){Ri=Hu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Nx(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,m1(e,n)}}var Gu={readContext:xt,use:Lf,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je},Sx={readContext:xt,use:Lf,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:jg,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,fu(4194308,4,fx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fu(4194308,4,e,t)},useInsertionEffect:function(e,t){fu(4,2,e,t)},useMemo:function(e,t){var n=Ut();t=t===void 0?null:t;var a=e();if(Cs){wr(!0);try{e()}finally{wr(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Ut();if(n!==void 0){var r=n(t);if(Cs){wr(!0);try{n(t)}finally{wr(!1)}}}else r=t;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=H6.bind(null,W,e),[a.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:function(e){e=Wm(e);var t=e.queue,n=Ex.bind(null,W,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:zh,useDeferredValue:function(e,t){var n=Ut();return jh(n,e,t)},useTransition:function(){var e=Wm(!1);return e=gx.bind(null,W,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=W,r=Ut();if(oe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),Se===null)throw Error(H(349));ie&124||F1(a,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,jg(W1.bind(null,a,s,e),[e]),a.flags|=2048,il(9,If(),J1.bind(null,a,s,n,t),null),n},useId:function(){var e=Ut(),t=Se.identifierPrefix;if(oe){var n=va,a=xa;n=(a&~(1<<32-Pt(a)-1)).toString(32)+n,t=""+t+"R"+n,n=Vu++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=U6++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:kh,useFormState:qg,useActionState:qg,useOptimistic:function(e){var t=Ut();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Hh.bind(null,W,!0,n),n.dispatch=t,[e,t]},useMemoCache:qh,useCacheRefresh:function(){return Ut().memoizedState=k6.bind(null,W)}},_x={readContext:xt,use:Lf,useCallback:mx,useContext:xt,useEffect:cx,useImperativeHandle:dx,useInsertionEffect:ox,useLayoutEffect:ux,useMemo:hx,useReducer:uu,useRef:lx,useState:function(){return uu(Ca)},useDebugValue:zh,useDeferredValue:function(e,t){var n=Ie();return yx(n,ve.memoizedState,e,t)},useTransition:function(){var e=uu(Ca)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:wo(e),t]},useSyncExternalStore:P1,useId:xx,useHostTransitionStatus:kh,useFormState:Dg,useActionState:Dg,useOptimistic:function(e,t){var n=Ie();return nx(n,ve,e,t)},useMemoCache:qh,useCacheRefresh:vx},V6={readContext:xt,use:Lf,useCallback:mx,useContext:xt,useEffect:cx,useImperativeHandle:dx,useInsertionEffect:ox,useLayoutEffect:ux,useMemo:hx,useReducer:Ud,useRef:lx,useState:function(){return Ud(Ca)},useDebugValue:zh,useDeferredValue:function(e,t){var n=Ie();return ve===null?jh(n,e,t):yx(n,ve.memoizedState,e,t)},useTransition:function(){var e=Ud(Ca)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:wo(e),t]},useSyncExternalStore:P1,useId:xx,useHostTransitionStatus:kh,useFormState:zg,useActionState:zg,useOptimistic:function(e,t){var n=Ie();return ve!==null?nx(n,ve,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:qh,useCacheRefresh:vx},Ci=null,wc=0;function Ko(e){var t=wc;return wc+=1,Ci===null&&(Ci=[]),I1(Ci,e,t)}function Dl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Yo(e,t){throw t.$$typeof===gw?Error(H(525)):(e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function kg(e){var t=e._init;return t(e._payload)}function Tx(e){function t(p,y){if(e){var b=p.deletions;b===null?(p.deletions=[y],p.flags|=16):b.push(y)}}function n(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function a(p){for(var y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function r(p,y){return p=_a(p,y),p.index=0,p.sibling=null,p}function s(p,y,b){return p.index=b,e?(b=p.alternate,b!==null?(b=b.index,b<y?(p.flags|=67108866,y):b):(p.flags|=67108866,y)):(p.flags|=1048576,y)}function l(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function c(p,y,b,N){return y===null||y.tag!==6?(y=Cd(b,p.mode,N),y.return=p,y):(y=r(y,b),y.return=p,y)}function o(p,y,b,N){var w=b.type;return w===ii?g(p,y,b.props.children,N,b.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Xa&&kg(w)===y.type)?(y=r(y,b.props),Dl(y,b),y.return=p,y):(y=cu(b.type,b.key,b.props,null,p.mode,N),Dl(y,b),y.return=p,y)}function f(p,y,b,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Md(b,p.mode,N),y.return=p,y):(y=r(y,b.children||[]),y.return=p,y)}function g(p,y,b,N,w){return y===null||y.tag!==7?(y=xs(b,p.mode,N,w),y.return=p,y):(y=r(y,b),y.return=p,y)}function h(p,y,b){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Cd(""+y,p.mode,b),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Do:return b=cu(y.type,y.key,y.props,null,p.mode,b),Dl(b,y),b.return=p,b;case Kl:return y=Md(y,p.mode,b),y.return=p,y;case Xa:var N=y._init;return y=N(y._payload),h(p,y,b)}if(Yl(y)||Ml(y))return y=xs(y,p.mode,b,null),y.return=p,y;if(typeof y.then=="function")return h(p,Ko(y),b);if(y.$$typeof===ba)return h(p,Vo(p,y),b);Yo(p,y)}return null}function u(p,y,b,N){var w=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return w!==null?null:c(p,y,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Do:return b.key===w?o(p,y,b,N):null;case Kl:return b.key===w?f(p,y,b,N):null;case Xa:return w=b._init,b=w(b._payload),u(p,y,b,N)}if(Yl(b)||Ml(b))return w!==null?null:g(p,y,b,N,null);if(typeof b.then=="function")return u(p,y,Ko(b),N);if(b.$$typeof===ba)return u(p,y,Vo(p,b),N);Yo(p,b)}return null}function d(p,y,b,N,w){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return p=p.get(b)||null,c(y,p,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Do:return p=p.get(N.key===null?b:N.key)||null,o(y,p,N,w);case Kl:return p=p.get(N.key===null?b:N.key)||null,f(y,p,N,w);case Xa:var C=N._init;return N=C(N._payload),d(p,y,b,N,w)}if(Yl(N)||Ml(N))return p=p.get(b)||null,g(y,p,N,w,null);if(typeof N.then=="function")return d(p,y,b,Ko(N),w);if(N.$$typeof===ba)return d(p,y,b,Vo(y,N),w);Yo(y,N)}return null}function m(p,y,b,N){for(var w=null,C=null,B=y,D=y=0,j=null;B!==null&&D<b.length;D++){B.index>D?(j=B,B=null):j=B.sibling;var O=u(p,B,b[D],N);if(O===null){B===null&&(B=j);break}e&&B&&O.alternate===null&&t(p,B),y=s(O,y,D),C===null?w=O:C.sibling=O,C=O,B=j}if(D===b.length)return n(p,B),oe&&Fr(p,D),w;if(B===null){for(;D<b.length;D++)B=h(p,b[D],N),B!==null&&(y=s(B,y,D),C===null?w=B:C.sibling=B,C=B);return oe&&Fr(p,D),w}for(B=a(B);D<b.length;D++)j=d(B,p,D,b[D],N),j!==null&&(e&&j.alternate!==null&&B.delete(j.key===null?D:j.key),y=s(j,y,D),C===null?w=j:C.sibling=j,C=j);return e&&B.forEach(function(_){return t(p,_)}),oe&&Fr(p,D),w}function S(p,y,b,N){if(b==null)throw Error(H(151));for(var w=null,C=null,B=y,D=y=0,j=null,O=b.next();B!==null&&!O.done;D++,O=b.next()){B.index>D?(j=B,B=null):j=B.sibling;var _=u(p,B,O.value,N);if(_===null){B===null&&(B=j);break}e&&B&&_.alternate===null&&t(p,B),y=s(_,y,D),C===null?w=_:C.sibling=_,C=_,B=j}if(O.done)return n(p,B),oe&&Fr(p,D),w;if(B===null){for(;!O.done;D++,O=b.next())O=h(p,O.value,N),O!==null&&(y=s(O,y,D),C===null?w=O:C.sibling=O,C=O);return oe&&Fr(p,D),w}for(B=a(B);!O.done;D++,O=b.next())O=d(B,p,D,O.value,N),O!==null&&(e&&O.alternate!==null&&B.delete(O.key===null?D:O.key),y=s(O,y,D),C===null?w=O:C.sibling=O,C=O);return e&&B.forEach(function(U){return t(p,U)}),oe&&Fr(p,D),w}function v(p,y,b,N){if(typeof b=="object"&&b!==null&&b.type===ii&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Do:e:{for(var w=b.key;y!==null;){if(y.key===w){if(w=b.type,w===ii){if(y.tag===7){n(p,y.sibling),N=r(y,b.props.children),N.return=p,p=N;break e}}else if(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Xa&&kg(w)===y.type){n(p,y.sibling),N=r(y,b.props),Dl(N,b),N.return=p,p=N;break e}n(p,y);break}else t(p,y);y=y.sibling}b.type===ii?(N=xs(b.props.children,p.mode,N,b.key),N.return=p,p=N):(N=cu(b.type,b.key,b.props,null,p.mode,N),Dl(N,b),N.return=p,p=N)}return l(p);case Kl:e:{for(w=b.key;y!==null;){if(y.key===w)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(p,y.sibling),N=r(y,b.children||[]),N.return=p,p=N;break e}else{n(p,y);break}else t(p,y);y=y.sibling}N=Md(b,p.mode,N),N.return=p,p=N}return l(p);case Xa:return w=b._init,b=w(b._payload),v(p,y,b,N)}if(Yl(b))return m(p,y,b,N);if(Ml(b)){if(w=Ml(b),typeof w!="function")throw Error(H(150));return b=w.call(b),S(p,y,b,N)}if(typeof b.then=="function")return v(p,y,Ko(b),N);if(b.$$typeof===ba)return v(p,y,Vo(p,b),N);Yo(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,y!==null&&y.tag===6?(n(p,y.sibling),N=r(y,b),N.return=p,p=N):(n(p,y),N=Cd(b,p.mode,N),N.return=p,p=N),l(p)):n(p,y)}return function(p,y,b,N){try{wc=0;var w=v(p,y,b,N);return Ci=null,w}catch(B){if(B===Eo||B===Yf)throw B;var C=Qt(29,B,null,p.mode);return C.lanes=N,C.return=p,C}finally{}}}var ll=Tx(!0),Ax=Tx(!1),gn=Jn(null),$n=null;function er(e){var t=e.alternate;Oe(Je,Je.current&1),Oe(gn,e),$n===null&&(t===null||sl.current!==null||t.memoizedState!==null)&&($n=e)}function Rx(e){if(e.tag===22){if(Oe(Je,Je.current),Oe(gn,e),$n===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&($n=e)}}else tr()}function tr(){Oe(Je,Je.current),Oe(gn,gn.current)}function wa(e){it(gn),$n===e&&($n=null),it(Je)}var Je=Jn(0);function Ku(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||b0(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function qd(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:Te({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var n0={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Ft(),r=Ar(a);r.payload=t,n!=null&&(r.callback=n),t=Rr(e,r,a),t!==null&&(Jt(t,e,a),tc(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Ft(),r=Ar(a);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Rr(e,r,a),t!==null&&(Jt(t,e,a),tc(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ft(),a=Ar(n);a.tag=2,t!=null&&(a.callback=t),t=Rr(e,a,n),t!==null&&(Jt(t,e,n),tc(t,e,n))}};function Hg(e,t,n,a,r,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,l):t.prototype&&t.prototype.isPureReactComponent?!xc(n,a)||!xc(r,s):!0}function Vg(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&n0.enqueueReplaceState(t,t.state,null)}function Ms(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=Te({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var Yu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ox(e){Yu(e)}function Cx(e){console.error(e)}function Mx(e){Yu(e)}function Lu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Gg(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function a0(e,t,n){return n=Ar(n),n.tag=3,n.payload={element:null},n.callback=function(){Lu(e,t)},n}function Bx(e){return e=Ar(e),e.tag=3,e}function Ux(e,t,n,a){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=a.value;e.payload=function(){return r(s)},e.callback=function(){Gg(t,n,a)}}var l=n.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(e.callback=function(){Gg(t,n,a),typeof r!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var c=a.stack;this.componentDidCatch(a.value,{componentStack:c!==null?c:""})})}function G6(e,t,n,a,r){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&xo(t,n,r,!0),n=gn.current,n!==null){switch(n.tag){case 13:return $n===null?f0():n.alternate===null&&De===0&&(De=3),n.flags&=-257,n.flags|=65536,n.lanes=r,a===$m?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Id(e,a,r)),!1;case 22:return n.flags|=65536,a===$m?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Id(e,a,r)),!1}throw Error(H(435,n.tag))}return Id(e,a,r),f0(),!1}if(oe)return t=gn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,a!==Lm&&(e=Error(H(422),{cause:a}),vc(mn(e,n)))):(a!==Lm&&(t=Error(H(423),{cause:a}),vc(mn(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,a=mn(a,n),r=a0(e.stateNode,a,r),Bd(e,r),De!==4&&(De=2)),!1;var s=Error(H(520),{cause:a});if(s=mn(s,n),lc===null?lc=[s]:lc.push(s),De!==4&&(De=2),t===null)return!0;a=mn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=a0(n.stateNode,a,e),Bd(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Or===null||!Or.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=Bx(r),Ux(r,e,n,a),Bd(n,r),!1}n=n.return}while(n!==null);return!1}var qx=Error(H(461)),st=!1;function ot(e,t,n,a){t.child=e===null?Ax(t,null,n,a):ll(t,e.child,n,a)}function Kg(e,t,n,a,r){n=n.render;var s=t.ref;if("ref"in a){var l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}else l=a;return Os(t),a=Oh(e,t,n,l,s,r),c=Ch(),e!==null&&!st?(Mh(e,t,r),Ma(e,t,r)):(oe&&c&&wh(t),t.flags|=1,ot(e,t,a,r),t.child)}function Yg(e,t,n,a,r){if(e===null){var s=n.type;return typeof s=="function"&&!Eh(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Dx(e,t,s,a,r)):(e=cu(n.type,null,a,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Vh(e,r)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:xc,n(l,a)&&e.ref===t.ref)return Ma(e,t,r)}return t.flags|=1,e=_a(s,a),e.ref=t.ref,e.return=t,t.child=e}function Dx(e,t,n,a,r){if(e!==null){var s=e.memoizedProps;if(xc(s,a)&&e.ref===t.ref)if(st=!1,t.pendingProps=a=s,Vh(e,r))e.flags&131072&&(st=!0);else return t.lanes=e.lanes,Ma(e,t,r)}return r0(e,t,n,a,r)}function zx(e,t,n){var a=t.pendingProps,r=a.children,s=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if(t.flags&128){if(a=s!==null?s.baseLanes|n:n,e!==null){for(r=t.child=e.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~a}else t.childLanes=0,t.child=null;return Lg(e,t,a,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ou(t,s!==null?s.cachePool:null),s!==null?Mg(t,s):Jm(),Rx(t);else return t.lanes=t.childLanes=536870912,Lg(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(ou(t,s.cachePool),Mg(t,s),tr(),t.memoizedState=null):(e!==null&&ou(t,null),Jm(),tr());return ot(e,t,r,n),t.child}function Lg(e,t,n,a){var r=_h();return r=r===null?null:{parent:Pe._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&ou(t,null),Jm(),Rx(t),e!==null&&xo(e,t,a,!0),null}function du(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(H(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function r0(e,t,n,a,r){return Os(t),n=Oh(e,t,n,a,void 0,r),a=Ch(),e!==null&&!st?(Mh(e,t,r),Ma(e,t,r)):(oe&&a&&wh(t),t.flags|=1,ot(e,t,n,r),t.child)}function Ig(e,t,n,a,r,s){return Os(t),t.updateQueue=null,n=$1(t,a,n,r),X1(e),a=Ch(),e!==null&&!st?(Mh(e,t,s),Ma(e,t,s)):(oe&&a&&wh(t),t.flags|=1,ot(e,t,n,s),t.child)}function Qg(e,t,n,a,r){if(Os(t),t.stateNode===null){var s=hi,l=n.contextType;typeof l=="object"&&l!==null&&(s=xt(l)),s=new n(a,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=n0,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=a,s.state=t.memoizedState,s.refs={},Th(t),l=n.contextType,s.context=typeof l=="object"&&l!==null?xt(l):hi,s.state=t.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(qd(t,n,l,a),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(l=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),l!==s.state&&n0.enqueueReplaceState(s,s.state,null),ac(t,a,s,r),nc(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){s=t.stateNode;var c=t.memoizedProps,o=Ms(n,c);s.props=o;var f=s.context,g=n.contextType;l=hi,typeof g=="object"&&g!==null&&(l=xt(g));var h=n.getDerivedStateFromProps;g=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function",c=t.pendingProps!==c,g||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c||f!==l)&&Vg(t,s,a,l),$a=!1;var u=t.memoizedState;s.state=u,ac(t,a,s,r),nc(),f=t.memoizedState,c||u!==f||$a?(typeof h=="function"&&(qd(t,n,h,a),f=t.memoizedState),(o=$a||Hg(t,n,o,a,u,f,l))?(g||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=f),s.props=a,s.state=f,s.context=l,a=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,Pm(e,t),l=t.memoizedProps,g=Ms(n,l),s.props=g,h=t.pendingProps,u=s.context,f=n.contextType,o=hi,typeof f=="object"&&f!==null&&(o=xt(f)),c=n.getDerivedStateFromProps,(f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==h||u!==o)&&Vg(t,s,a,o),$a=!1,u=t.memoizedState,s.state=u,ac(t,a,s,r),nc();var d=t.memoizedState;l!==h||u!==d||$a||e!==null&&e.dependencies!==null&&ju(e.dependencies)?(typeof c=="function"&&(qd(t,n,c,a),d=t.memoizedState),(g=$a||Hg(t,n,g,a,u,d,o)||e!==null&&e.dependencies!==null&&ju(e.dependencies))?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,d,o),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,d,o)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=d),s.props=a,s.state=d,s.context=o,a=g):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,du(e,t),a=(t.flags&128)!==0,s||a?(s=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&a?(t.child=ll(t,e.child,null,r),t.child=ll(t,null,n,r)):ot(e,t,n,r),t.memoizedState=s.state,e=t.child):e=Ma(e,t,r),e}function Zg(e,t,n,a){return bo(),t.flags|=256,ot(e,t,n,a),t.child}var Dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zd(e){return{baseLanes:e,cachePool:Y1()}}function jd(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=yn),e}function jx(e,t,n){var a=t.pendingProps,r=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),l&&(r=!0,t.flags&=-129),l=(t.flags&32)!==0,t.flags&=-33,e===null){if(oe){if(r?er(t):tr(),oe){var c=qe,o;if(o=c){e:{for(o=c,c=Gn;o.nodeType!==8;){if(!c){c=null;break e}if(o=On(o.nextSibling),o===null){c=null;break e}}c=o}c!==null?(t.memoizedState={dehydrated:c,treeContext:vs!==null?{id:xa,overflow:va}:null,retryLane:536870912,hydrationErrors:null},o=Qt(18,null,null,0),o.stateNode=c,o.return=t,t.child=o,At=t,qe=null,o=!0):o=!1}o||Rs(t)}if(c=t.memoizedState,c!==null&&(c=c.dehydrated,c!==null))return b0(c)?t.lanes=32:t.lanes=536870912,null;wa(t)}return c=a.children,a=a.fallback,r?(tr(),r=t.mode,c=Iu({mode:"hidden",children:c},r),a=xs(a,r,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,r=t.child,r.memoizedState=zd(n),r.childLanes=jd(e,l,n),t.memoizedState=Dd,a):(er(t),s0(t,c))}if(o=e.memoizedState,o!==null&&(c=o.dehydrated,c!==null)){if(s)t.flags&256?(er(t),t.flags&=-257,t=kd(e,t,n)):t.memoizedState!==null?(tr(),t.child=e.child,t.flags|=128,t=null):(tr(),r=a.fallback,c=t.mode,a=Iu({mode:"visible",children:a.children},c),r=xs(r,c,n,null),r.flags|=2,a.return=t,r.return=t,a.sibling=r,t.child=a,ll(t,e.child,null,n),a=t.child,a.memoizedState=zd(n),a.childLanes=jd(e,l,n),t.memoizedState=Dd,t=r);else if(er(t),b0(c)){if(l=c.nextSibling&&c.nextSibling.dataset,l)var f=l.dgst;l=f,a=Error(H(419)),a.stack="",a.digest=l,vc({value:a,source:null,stack:null}),t=kd(e,t,n)}else if(st||xo(e,t,n,!1),l=(n&e.childLanes)!==0,st||l){if(l=Se,l!==null&&(a=n&-n,a=a&42?1:uh(a),a=a&(l.suspendedLanes|n)?0:a,a!==0&&a!==o.retryLane))throw o.retryLane=a,El(e,a),Jt(l,e,a),qx;c.data==="$?"||f0(),t=kd(e,t,n)}else c.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,qe=On(c.nextSibling),At=t,oe=!0,Es=null,Gn=!1,e!==null&&(on[un++]=xa,on[un++]=va,on[un++]=vs,xa=e.id,va=e.overflow,vs=t),t=s0(t,a.children),t.flags|=4096);return t}return r?(tr(),r=a.fallback,c=t.mode,o=e.child,f=o.sibling,a=_a(o,{mode:"hidden",children:a.children}),a.subtreeFlags=o.subtreeFlags&65011712,f!==null?r=_a(f,r):(r=xs(r,c,n,null),r.flags|=2),r.return=t,a.return=t,a.sibling=r,t.child=a,a=r,r=t.child,c=e.child.memoizedState,c===null?c=zd(n):(o=c.cachePool,o!==null?(f=Pe._currentValue,o=o.parent!==f?{parent:f,pool:f}:o):o=Y1(),c={baseLanes:c.baseLanes|n,cachePool:o}),r.memoizedState=c,r.childLanes=jd(e,l,n),t.memoizedState=Dd,a):(er(t),n=e.child,e=n.sibling,n=_a(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=n,t.memoizedState=null,n)}function s0(e,t){return t=Iu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Iu(e,t){return e=Qt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function kd(e,t,n){return ll(t,e.child,null,n),e=s0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xg(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Qm(e.return,t,n)}function Hd(e,t,n,a,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=r)}function kx(e,t,n){var a=t.pendingProps,r=a.revealOrder,s=a.tail;if(ot(e,t,a.children,n),a=Je.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xg(e,n,t);else if(e.tag===19)Xg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(Oe(Je,a),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Ku(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Hd(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Ku(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Hd(t,!0,n,null,s);break;case"together":Hd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ma(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kr|=t.lanes,!(n&t.childLanes))if(e!==null){if(xo(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=_a(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_a(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vh(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&ju(e)))}function K6(e,t,n){switch(t.tag){case 3:Ou(t,t.stateNode.containerInfo),Wa(t,Pe,e.memoizedState.cache),bo();break;case 27:case 5:qm(t);break;case 4:Ou(t,t.stateNode.containerInfo);break;case 10:Wa(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(er(t),t.flags|=128,null):n&t.child.childLanes?jx(e,t,n):(er(t),e=Ma(e,t,n),e!==null?e.sibling:null);er(t);break;case 19:var r=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(xo(e,t,n,!1),a=(n&t.childLanes)!==0),r){if(a)return kx(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Oe(Je,Je.current),a)break;return null;case 22:case 23:return t.lanes=0,zx(e,t,n);case 24:Wa(t,Pe,e.memoizedState.cache)}return Ma(e,t,n)}function Hx(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)st=!0;else{if(!Vh(e,n)&&!(t.flags&128))return st=!1,K6(e,t,n);st=!!(e.flags&131072)}else st=!1,oe&&t.flags&1048576&&G1(t,zu,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,r=a._init;if(a=r(a._payload),t.type=a,typeof a=="function")Eh(a)?(e=Ms(a,e),t.tag=1,t=Qg(null,t,a,e,n)):(t.tag=0,t=r0(null,t,a,e,n));else{if(a!=null){if(r=a.$$typeof,r===lh){t.tag=11,t=Kg(null,t,a,e,n);break e}else if(r===ch){t.tag=14,t=Yg(null,t,a,e,n);break e}}throw t=Bm(a)||a,Error(H(306,t,""))}}return t;case 0:return r0(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,r=Ms(a,t.pendingProps),Qg(e,t,a,r,n);case 3:e:{if(Ou(t,t.stateNode.containerInfo),e===null)throw Error(H(387));a=t.pendingProps;var s=t.memoizedState;r=s.element,Pm(e,t),ac(t,a,null,n);var l=t.memoizedState;if(a=l.cache,Wa(t,Pe,a),a!==s.cache&&Zm(t,[Pe],n,!0),nc(),a=l.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Zg(e,t,a,n);break e}else if(a!==r){r=mn(Error(H(424)),t),vc(r),t=Zg(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(qe=On(e.firstChild),At=t,oe=!0,Es=null,Gn=!0,n=Ax(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(bo(),a===r){t=Ma(e,t,n);break e}ot(e,t,a,n)}t=t.child}return t;case 26:return du(e,t),e===null?(n=fp(t.type,null,t.pendingProps,null))?t.memoizedState=n:oe||(n=t.type,e=t.pendingProps,a=Ju(Tr.current).createElement(n),a[bt]=t,a[kt]=e,mt(a,n,e),at(a),t.stateNode=a):t.memoizedState=fp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return qm(t),e===null&&oe&&(a=t.stateNode=_2(t.type,t.pendingProps,Tr.current),At=t,Gn=!0,r=qe,Qr(t.type)?(x0=r,qe=On(a.firstChild)):qe=r),ot(e,t,t.pendingProps.children,n),du(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&oe&&((r=a=qe)&&(a=g3(a,t.type,t.pendingProps,Gn),a!==null?(t.stateNode=a,At=t,qe=On(a.firstChild),Gn=!1,r=!0):r=!1),r||Rs(t)),qm(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,a=s.children,g0(r,s)?a=null:l!==null&&g0(r,l)&&(t.flags|=32),t.memoizedState!==null&&(r=Oh(e,t,q6,null,null,n),Tc._currentValue=r),du(e,t),ot(e,t,a,n),t.child;case 6:return e===null&&oe&&((e=n=qe)&&(n=p3(n,t.pendingProps,Gn),n!==null?(t.stateNode=n,At=t,qe=null,e=!0):e=!1),e||Rs(t)),null;case 13:return jx(e,t,n);case 4:return Ou(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ll(t,null,a,n):ot(e,t,a,n),t.child;case 11:return Kg(e,t,t.type,t.pendingProps,n);case 7:return ot(e,t,t.pendingProps,n),t.child;case 8:return ot(e,t,t.pendingProps.children,n),t.child;case 12:return ot(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Wa(t,t.type,a.value),ot(e,t,a.children,n),t.child;case 9:return r=t.type._context,a=t.pendingProps.children,Os(t),r=xt(r),a=a(r),t.flags|=1,ot(e,t,a,n),t.child;case 14:return Yg(e,t,t.type,t.pendingProps,n);case 15:return Dx(e,t,t.type,t.pendingProps,n);case 19:return kx(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},e===null?(n=Iu(a,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=_a(e.child,a),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return zx(e,t,n);case 24:return Os(t),a=xt(Pe),e===null?(r=_h(),r===null&&(r=Se,s=Sh(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:a,cache:r},Th(t),Wa(t,Pe,r)):(e.lanes&n&&(Pm(e,t),ac(t,null,null,n),nc()),r=e.memoizedState,s=t.memoizedState,r.parent!==a?(r={parent:a,cache:a},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Wa(t,Pe,a)):(a=s.cache,Wa(t,Pe,a),a!==r.cache&&Zm(t,[Pe],n,!0))),ot(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(H(156,t.tag))}function na(e){e.flags|=4}function $g(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!R2(t)){if(t=gn.current,t!==null&&((ie&4194048)===ie?$n!==null:(ie&62914560)!==ie&&!(ie&536870912)||t!==$n))throw ec=$m,L1;e.flags|=8192}}function Lo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?f1():536870912,e.lanes|=t,cl|=t)}function zl(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags&65011712,a|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Y6(e,t,n){var a=t.pendingProps;switch(Nh(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Me(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ta(Pe),tl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ql(t)?na(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_g())),Me(t),null;case 26:return n=t.memoizedState,e===null?(na(t),n!==null?(Me(t),$g(t,n)):(Me(t),t.flags&=-16777217)):n?n!==e.memoizedState?(na(t),Me(t),$g(t,n)):(Me(t),t.flags&=-16777217):(e.memoizedProps!==a&&na(t),Me(t),t.flags&=-16777217),null;case 27:Cu(t),n=Tr.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&na(t);else{if(!a){if(t.stateNode===null)throw Error(H(166));return Me(t),null}e=Zn.current,ql(t)?Ng(t):(e=_2(r,a,n),t.stateNode=e,na(t))}return Me(t),null;case 5:if(Cu(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&na(t);else{if(!a){if(t.stateNode===null)throw Error(H(166));return Me(t),null}if(e=Zn.current,ql(t))Ng(t);else{switch(r=Ju(Tr.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?r.createElement(n,{is:a.is}):r.createElement(n)}}e[bt]=t,e[kt]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(mt(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&na(t)}}return Me(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&na(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(H(166));if(e=Tr.current,ql(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,r=At,r!==null)switch(r.tag){case 27:case 5:a=r.memoizedProps}e[bt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||w2(e.nodeValue,n)),e||Rs(t)}else e=Ju(e).createTextNode(a),e[bt]=t,t.stateNode=e}return Me(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=ql(t),a!==null&&a.dehydrated!==null){if(e===null){if(!r)throw Error(H(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(H(317));r[bt]=t}else bo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Me(t),r=!1}else r=_g(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(wa(t),t):(wa(t),null)}if(wa(t),t.flags&128)return t.lanes=n,t;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=t.child,r=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(r=a.alternate.memoizedState.cachePool.pool);var s=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==r&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Lo(t,t.updateQueue),Me(t),null;case 4:return tl(),e===null&&Xh(t.stateNode.containerInfo),Me(t),null;case 10:return Ta(t.type),Me(t),null;case 19:if(it(Je),r=t.memoizedState,r===null)return Me(t),null;if(a=(t.flags&128)!==0,s=r.rendering,s===null)if(a)zl(r,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ku(e),s!==null){for(t.flags|=128,zl(r,!1),e=s.updateQueue,t.updateQueue=e,Lo(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)V1(n,e),n=n.sibling;return Oe(Je,Je.current&1|2),t.child}e=e.sibling}r.tail!==null&&Xn()>Zu&&(t.flags|=128,a=!0,zl(r,!1),t.lanes=4194304)}else{if(!a)if(e=Ku(s),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Lo(t,e),zl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!oe)return Me(t),null}else 2*Xn()-r.renderingStartTime>Zu&&n!==536870912&&(t.flags|=128,a=!0,zl(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(e=r.last,e!==null?e.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Xn(),t.sibling=null,e=Je.current,Oe(Je,a?e&1|2:e&1),t):(Me(t),null);case 22:case 23:return wa(t),Ah(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),n=t.updateQueue,n!==null&&Lo(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&it(ws),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ta(Pe),Me(t),null;case 25:return null;case 30:return null}throw Error(H(156,t.tag))}function L6(e,t){switch(Nh(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ta(Pe),tl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Cu(t),null;case 13:if(wa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));bo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return it(Je),null;case 4:return tl(),null;case 10:return Ta(t.type),null;case 22:case 23:return wa(t),Ah(),e!==null&&it(ws),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ta(Pe),null;case 25:return null;default:return null}}function Vx(e,t){switch(Nh(t),t.tag){case 3:Ta(Pe),tl();break;case 26:case 27:case 5:Cu(t);break;case 4:tl();break;case 13:wa(t);break;case 19:it(Je);break;case 10:Ta(t.type);break;case 22:case 23:wa(t),Ah(),e!==null&&it(ws);break;case 24:Ta(Pe)}}function So(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var r=a.next;n=r;do{if((n.tag&e)===e){a=void 0;var s=n.create,l=n.inst;a=s(),l.destroy=a}n=n.next}while(n!==r)}}catch(c){we(t,t.return,c)}}function Gr(e,t,n){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var s=r.next;a=s;do{if((a.tag&e)===e){var l=a.inst,c=l.destroy;if(c!==void 0){l.destroy=void 0,r=t;var o=n,f=c;try{f()}catch(g){we(r,o,g)}}}a=a.next}while(a!==s)}}catch(g){we(t,t.return,g)}}function Gx(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Z1(t,n)}catch(a){we(e,e.return,a)}}}function Kx(e,t,n){n.props=Ms(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){we(e,t,a)}}function sc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(r){we(e,t,r)}}function In(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(r){we(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){we(e,t,r)}else n.current=null}function Yx(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(r){we(e,e.return,r)}}function Vd(e,t,n){try{var a=e.stateNode;f3(a,e.type,n,t),a[kt]=t}catch(r){we(e,e.return,r)}}function Lx(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qr(e.type)||e.tag===4}function Gd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function i0(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pf));else if(a!==4&&(a===27&&Qr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(i0(e,t,n),e=e.sibling;e!==null;)i0(e,t,n),e=e.sibling}function Qu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Qr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Qu(e,t,n),e=e.sibling;e!==null;)Qu(e,t,n),e=e.sibling}function Ix(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);mt(t,a,n),t[bt]=e,t[kt]=n}catch(s){we(e,e.return,s)}}var ya=!1,He=!1,Kd=!1,Pg=typeof WeakSet=="function"?WeakSet:Set,nt=null;function I6(e,t){if(e=e.containerInfo,h0=nf,e=B1(e),bh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var r=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,c=-1,o=-1,f=0,g=0,h=e,u=null;t:for(;;){for(var d;h!==n||r!==0&&h.nodeType!==3||(c=l+r),h!==s||a!==0&&h.nodeType!==3||(o=l+a),h.nodeType===3&&(l+=h.nodeValue.length),(d=h.firstChild)!==null;)u=h,h=d;for(;;){if(h===e)break t;if(u===n&&++f===r&&(c=l),u===s&&++g===a&&(o=l),(d=h.nextSibling)!==null)break;h=u,u=h.parentNode}h=d}n=c===-1||o===-1?null:{start:c,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(y0={focusedElem:e,selectionRange:n},nf=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){switch(t=nt,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var m=Ms(n.type,r,n.elementType===n.type);e=a.getSnapshotBeforeUpdate(m,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(S){we(n,n.return,S)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)p0(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":p0(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(H(163))}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}}function Qx(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Ha(e,n),a&4&&So(5,n);break;case 1:if(Ha(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(l){we(n,n.return,l)}else{var r=Ms(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){we(n,n.return,l)}}a&64&&Gx(n),a&512&&sc(n,n.return);break;case 3:if(Ha(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Z1(e,t)}catch(l){we(n,n.return,l)}}break;case 27:t===null&&a&4&&Ix(n);case 26:case 5:Ha(e,n),t===null&&a&4&&Yx(n),a&512&&sc(n,n.return);break;case 12:Ha(e,n);break;case 13:Ha(e,n),a&4&&$x(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=e3.bind(null,n),b3(e,n))));break;case 22:if(a=n.memoizedState!==null||ya,!a){t=t!==null&&t.memoizedState!==null||He,r=ya;var s=He;ya=a,(He=t)&&!s?Ia(e,n,(n.subtreeFlags&8772)!==0):Ha(e,n),ya=r,He=s}break;case 30:break;default:Ha(e,n)}}function Zx(e){var t=e.alternate;t!==null&&(e.alternate=null,Zx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&dh(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ae=null,qt=!1;function aa(e,t,n){for(n=n.child;n!==null;)Xx(e,t,n),n=n.sibling}function Xx(e,t,n){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(mo,n)}catch{}switch(n.tag){case 26:He||In(n,t),aa(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:He||In(n,t);var a=Ae,r=qt;Qr(n.type)&&(Ae=n.stateNode,qt=!1),aa(e,t,n),oc(n.stateNode),Ae=a,qt=r;break;case 5:He||In(n,t);case 6:if(a=Ae,r=qt,Ae=null,aa(e,t,n),Ae=a,qt=r,Ae!==null)if(qt)try{(Ae.nodeType===9?Ae.body:Ae.nodeName==="HTML"?Ae.ownerDocument.body:Ae).removeChild(n.stateNode)}catch(s){we(n,t,s)}else try{Ae.removeChild(n.stateNode)}catch(s){we(n,t,s)}break;case 18:Ae!==null&&(qt?(e=Ae,cp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Oc(e)):cp(Ae,n.stateNode));break;case 4:a=Ae,r=qt,Ae=n.stateNode.containerInfo,qt=!0,aa(e,t,n),Ae=a,qt=r;break;case 0:case 11:case 14:case 15:He||Gr(2,n,t),He||Gr(4,n,t),aa(e,t,n);break;case 1:He||(In(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Kx(n,t,a)),aa(e,t,n);break;case 21:aa(e,t,n);break;case 22:He=(a=He)||n.memoizedState!==null,aa(e,t,n),He=a;break;default:aa(e,t,n)}}function $x(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Oc(e)}catch(n){we(t,t.return,n)}}function Q6(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Pg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Pg),t;default:throw Error(H(435,e.tag))}}function Yd(e,t){var n=Q6(e);t.forEach(function(a){var r=t3.bind(null,e,a);n.has(a)||(n.add(a),a.then(r,r))})}function Vt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var r=n[a],s=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 27:if(Qr(c.type)){Ae=c.stateNode,qt=!1;break e}break;case 5:Ae=c.stateNode,qt=!1;break e;case 3:case 4:Ae=c.stateNode.containerInfo,qt=!0;break e}c=c.return}if(Ae===null)throw Error(H(160));Xx(s,l,r),Ae=null,qt=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Px(t,e),t=t.sibling}var _n=null;function Px(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vt(t,e),Gt(e),a&4&&(Gr(3,e,e.return),So(3,e),Gr(5,e,e.return));break;case 1:Vt(t,e),Gt(e),a&512&&(He||n===null||In(n,n.return)),a&64&&ya&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var r=_n;if(Vt(t,e),Gt(e),a&512&&(He||n===null||In(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":s=r.getElementsByTagName("title")[0],(!s||s[go]||s[bt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(a),r.head.insertBefore(s,r.querySelector("head > title"))),mt(s,a,n),s[bt]=e,at(s),a=s;break e;case"link":var l=mp("link","href",r).get(a+(n.href||""));if(l){for(var c=0;c<l.length;c++)if(s=l[c],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){l.splice(c,1);break t}}s=r.createElement(a),mt(s,a,n),r.head.appendChild(s);break;case"meta":if(l=mp("meta","content",r).get(a+(n.content||""))){for(c=0;c<l.length;c++)if(s=l[c],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){l.splice(c,1);break t}}s=r.createElement(a),mt(s,a,n),r.head.appendChild(s);break;default:throw Error(H(468,a))}s[bt]=e,at(s),a=s}e.stateNode=a}else hp(r,e.type,e.stateNode);else e.stateNode=dp(r,a,e.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?hp(r,e.type,e.stateNode):dp(r,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Vd(e,e.memoizedProps,n.memoizedProps)}break;case 27:Vt(t,e),Gt(e),a&512&&(He||n===null||In(n,n.return)),n!==null&&a&4&&Vd(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Vt(t,e),Gt(e),a&512&&(He||n===null||In(n,n.return)),e.flags&32){r=e.stateNode;try{al(r,"")}catch(d){we(e,e.return,d)}}a&4&&e.stateNode!=null&&(r=e.memoizedProps,Vd(e,r,n!==null?n.memoizedProps:r)),a&1024&&(Kd=!0);break;case 6:if(Vt(t,e),Gt(e),a&4){if(e.stateNode===null)throw Error(H(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(d){we(e,e.return,d)}}break;case 3:if(yu=null,r=_n,_n=Wu(t.containerInfo),Vt(t,e),_n=r,Gt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Oc(t.containerInfo)}catch(d){we(e,e.return,d)}Kd&&(Kd=!1,Fx(e));break;case 4:a=_n,_n=Wu(e.stateNode.containerInfo),Vt(t,e),Gt(e),_n=a;break;case 12:Vt(t,e),Gt(e);break;case 13:Vt(t,e),Gt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ih=Xn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Yd(e,a)));break;case 22:r=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,f=ya,g=He;if(ya=f||r,He=g||o,Vt(t,e),He=g,ya=f,Gt(e),a&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||o||ya||He||Jr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(s=o.stateNode,r)l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{c=o.stateNode;var h=o.memoizedProps.style,u=h!=null&&h.hasOwnProperty("display")?h.display:null;c.style.display=u==null||typeof u=="boolean"?"":(""+u).trim()}}catch(d){we(o,o.return,d)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=r?"":o.memoizedProps}catch(d){we(o,o.return,d)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Yd(e,n))));break;case 19:Vt(t,e),Gt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Yd(e,a)));break;case 30:break;case 21:break;default:Vt(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Lx(a)){n=a;break}a=a.return}if(n==null)throw Error(H(160));switch(n.tag){case 27:var r=n.stateNode,s=Gd(e);Qu(e,s,r);break;case 5:var l=n.stateNode;n.flags&32&&(al(l,""),n.flags&=-33);var c=Gd(e);Qu(e,c,l);break;case 3:case 4:var o=n.stateNode.containerInfo,f=Gd(e);i0(e,f,o);break;default:throw Error(H(161))}}catch(g){we(e,e.return,g)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fx(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Fx(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ha(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Qx(e,t.alternate,t),t=t.sibling}function Jr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Gr(4,t,t.return),Jr(t);break;case 1:In(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Kx(t,t.return,n),Jr(t);break;case 27:oc(t.stateNode);case 26:case 5:In(t,t.return),Jr(t);break;case 22:t.memoizedState===null&&Jr(t);break;case 30:Jr(t);break;default:Jr(t)}e=e.sibling}}function Ia(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,r=e,s=t,l=s.flags;switch(s.tag){case 0:case 11:case 15:Ia(r,s,n),So(4,s);break;case 1:if(Ia(r,s,n),a=s,r=a.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(f){we(a,a.return,f)}if(a=s,r=a.updateQueue,r!==null){var c=a.stateNode;try{var o=r.shared.hiddenCallbacks;if(o!==null)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)Q1(o[r],c)}catch(f){we(a,a.return,f)}}n&&l&64&&Gx(s),sc(s,s.return);break;case 27:Ix(s);case 26:case 5:Ia(r,s,n),n&&a===null&&l&4&&Yx(s),sc(s,s.return);break;case 12:Ia(r,s,n);break;case 13:Ia(r,s,n),n&&l&4&&$x(r,s);break;case 22:s.memoizedState===null&&Ia(r,s,n),sc(s,s.return);break;case 30:break;default:Ia(r,s,n)}t=t.sibling}}function Gh(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&vo(n))}function Kh(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vo(e))}function Mn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jx(e,t,n,a),t=t.sibling}function Jx(e,t,n,a){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Mn(e,t,n,a),r&2048&&So(9,t);break;case 1:Mn(e,t,n,a);break;case 3:Mn(e,t,n,a),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vo(e)));break;case 12:if(r&2048){Mn(e,t,n,a),e=t.stateNode;try{var s=t.memoizedProps,l=s.id,c=s.onPostCommit;typeof c=="function"&&c(l,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){we(t,t.return,o)}}else Mn(e,t,n,a);break;case 13:Mn(e,t,n,a);break;case 23:break;case 22:s=t.stateNode,l=t.alternate,t.memoizedState!==null?s._visibility&2?Mn(e,t,n,a):ic(e,t):s._visibility&2?Mn(e,t,n,a):(s._visibility|=2,ei(e,t,n,a,(t.subtreeFlags&10256)!==0)),r&2048&&Gh(l,t);break;case 24:Mn(e,t,n,a),r&2048&&Kh(t.alternate,t);break;default:Mn(e,t,n,a)}}function ei(e,t,n,a,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,l=t,c=n,o=a,f=l.flags;switch(l.tag){case 0:case 11:case 15:ei(s,l,c,o,r),So(8,l);break;case 23:break;case 22:var g=l.stateNode;l.memoizedState!==null?g._visibility&2?ei(s,l,c,o,r):ic(s,l):(g._visibility|=2,ei(s,l,c,o,r)),r&&f&2048&&Gh(l.alternate,l);break;case 24:ei(s,l,c,o,r),r&&f&2048&&Kh(l.alternate,l);break;default:ei(s,l,c,o,r)}t=t.sibling}}function ic(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,r=a.flags;switch(a.tag){case 22:ic(n,a),r&2048&&Gh(a.alternate,a);break;case 24:ic(n,a),r&2048&&Kh(a.alternate,a);break;default:ic(n,a)}t=t.sibling}}var Il=8192;function Qs(e){if(e.subtreeFlags&Il)for(e=e.child;e!==null;)Wx(e),e=e.sibling}function Wx(e){switch(e.tag){case 26:Qs(e),e.flags&Il&&e.memoizedState!==null&&M3(_n,e.memoizedState,e.memoizedProps);break;case 5:Qs(e);break;case 3:case 4:var t=_n;_n=Wu(e.stateNode.containerInfo),Qs(e),_n=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Il,Il=16777216,Qs(e),Il=t):Qs(e));break;default:Qs(e)}}function e2(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function jl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];nt=a,n2(a,e)}e2(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)t2(e),e=e.sibling}function t2(e){switch(e.tag){case 0:case 11:case 15:jl(e),e.flags&2048&&Gr(9,e,e.return);break;case 3:jl(e);break;case 12:jl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,mu(e)):jl(e);break;default:jl(e)}}function mu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];nt=a,n2(a,e)}e2(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Gr(8,t,t.return),mu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,mu(t));break;default:mu(t)}e=e.sibling}}function n2(e,t){for(;nt!==null;){var n=nt;switch(n.tag){case 0:case 11:case 15:Gr(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:vo(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,nt=a;else e:for(n=e;nt!==null;){a=nt;var r=a.sibling,s=a.return;if(Zx(a),a===n){nt=null;break e}if(r!==null){r.return=s,nt=r;break e}nt=s}}}var Z6={getCacheForType:function(e){var t=xt(Pe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},X6=typeof WeakMap=="function"?WeakMap:Map,be=0,Se=null,te=null,ie=0,pe=0,Kt=null,Sr=!1,wl=!1,Yh=!1,Ba=0,De=0,Kr=0,Ns=0,Lh=0,yn=0,cl=0,lc=null,Dt=null,l0=!1,Ih=0,Zu=1/0,Xu=null,Or=null,ft=0,Cr=null,ol=null,Mi=0,c0=0,o0=null,a2=null,cc=0,u0=null;function Ft(){if(be&2&&ie!==0)return ie&-ie;if(P.T!==null){var e=rl;return e!==0?e:Zh()}return h1()}function r2(){yn===0&&(yn=!(ie&536870912)||oe?u1():536870912);var e=gn.current;return e!==null&&(e.flags|=32),yn}function Jt(e,t,n){(e===Se&&(pe===2||pe===9)||e.cancelPendingCommit!==null)&&(ul(e,0),_r(e,ie,yn,!1)),yo(e,n),(!(be&2)||e!==Se)&&(e===Se&&(!(be&2)&&(Ns|=n),De===4&&_r(e,ie,yn,!1)),Wn(e))}function s2(e,t,n){if(be&6)throw Error(H(327));var a=!n&&(t&124)===0&&(t&e.expiredLanes)===0||ho(e,t),r=a?F6(e,t):Ld(e,t,!0),s=a;do{if(r===0){wl&&!a&&_r(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!$6(n)){r=Ld(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var l=0;else l=e.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){t=l;e:{var c=e;r=lc;var o=c.current.memoizedState.isDehydrated;if(o&&(ul(c,l).flags|=256),l=Ld(c,l,!1),l!==2){if(Yh&&!o){c.errorRecoveryDisabledLanes|=s,Ns|=s,r=4;break e}s=Dt,Dt=r,s!==null&&(Dt===null?Dt=s:Dt.push.apply(Dt,s))}r=l}if(s=!1,r!==2)continue}}if(r===1){ul(e,0),_r(e,t,0,!0);break}e:{switch(a=e,s=r,s){case 0:case 1:throw Error(H(345));case 4:if((t&4194048)!==t)break;case 6:_r(a,t,yn,!Sr);break e;case 2:Dt=null;break;case 3:case 5:break;default:throw Error(H(329))}if((t&62914560)===t&&(r=Ih+300-Xn(),10<r)){if(_r(a,t,yn,!Sr),jf(a,0,!0)!==0)break e;a.timeoutHandle=S2(Fg.bind(null,a,n,Dt,Xu,l0,t,yn,Ns,cl,Sr,s,2,-0,0),r);break e}Fg(a,n,Dt,Xu,l0,t,yn,Ns,cl,Sr,s,0,-0,0)}}break}while(!0);Wn(e)}function Fg(e,t,n,a,r,s,l,c,o,f,g,h,u,d){if(e.timeoutHandle=-1,h=t.subtreeFlags,(h&8192||(h&16785408)===16785408)&&(_c={stylesheets:null,count:0,unsuspend:C3},Wx(t),h=B3(),h!==null)){e.cancelPendingCommit=h(Wg.bind(null,e,t,s,n,a,r,l,c,o,g,1,u,d)),_r(e,s,l,!f);return}Wg(e,t,s,n,a,r,l,c,o)}function $6(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var r=n[a],s=r.getSnapshot;r=r.value;try{if(!Wt(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _r(e,t,n,a){t&=~Lh,t&=~Ns,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var r=t;0<r;){var s=31-Pt(r),l=1<<s;a[s]=-1,r&=~l}n!==0&&d1(e,n,t)}function Zf(){return be&6?!0:(_o(0),!1)}function Qh(){if(te!==null){if(pe===0)var e=te.return;else e=te,Ea=Ys=null,Bh(e),Ci=null,wc=0,e=te;for(;e!==null;)Vx(e.alternate,e),e=e.return;te=null}}function ul(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,m3(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Qh(),Se=e,te=n=_a(e.current,null),ie=t,pe=0,Kt=null,Sr=!1,wl=ho(e,t),Yh=!1,cl=yn=Lh=Ns=Kr=De=0,Dt=lc=null,l0=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var r=31-Pt(a),s=1<<r;t|=e[r],a&=~s}return Ba=t,Gf(),n}function i2(e,t){W=null,P.H=Gu,t===Eo||t===Yf?(t=Og(),pe=3):t===L1?(t=Og(),pe=4):pe=t===qx?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Kt=t,te===null&&(De=1,Lu(e,mn(t,e.current)))}function l2(){var e=P.H;return P.H=Gu,e===null?Gu:e}function c2(){var e=P.A;return P.A=Z6,e}function f0(){De=4,Sr||(ie&4194048)!==ie&&gn.current!==null||(wl=!0),!(Kr&134217727)&&!(Ns&134217727)||Se===null||_r(Se,ie,yn,!1)}function Ld(e,t,n){var a=be;be|=2;var r=l2(),s=c2();(Se!==e||ie!==t)&&(Xu=null,ul(e,t)),t=!1;var l=De;e:do try{if(pe!==0&&te!==null){var c=te,o=Kt;switch(pe){case 8:Qh(),l=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(t=!0);var f=pe;if(pe=0,Kt=null,pi(e,c,o,f),n&&wl){l=0;break e}break;default:f=pe,pe=0,Kt=null,pi(e,c,o,f)}}P6(),l=De;break}catch(g){i2(e,g)}while(!0);return t&&e.shellSuspendCounter++,Ea=Ys=null,be=a,P.H=r,P.A=s,te===null&&(Se=null,ie=0,Gf()),l}function P6(){for(;te!==null;)o2(te)}function F6(e,t){var n=be;be|=2;var a=l2(),r=c2();Se!==e||ie!==t?(Xu=null,Zu=Xn()+500,ul(e,t)):wl=ho(e,t);e:do try{if(pe!==0&&te!==null){t=te;var s=Kt;t:switch(pe){case 1:pe=0,Kt=null,pi(e,t,s,1);break;case 2:case 9:if(Rg(s)){pe=0,Kt=null,Jg(t);break}t=function(){pe!==2&&pe!==9||Se!==e||(pe=7),Wn(e)},s.then(t,t);break e;case 3:pe=7;break e;case 4:pe=5;break e;case 7:Rg(s)?(pe=0,Kt=null,Jg(t)):(pe=0,Kt=null,pi(e,t,s,7));break;case 5:var l=null;switch(te.tag){case 26:l=te.memoizedState;case 5:case 27:var c=te;if(!l||R2(l)){pe=0,Kt=null;var o=c.sibling;if(o!==null)te=o;else{var f=c.return;f!==null?(te=f,Xf(f)):te=null}break t}}pe=0,Kt=null,pi(e,t,s,5);break;case 6:pe=0,Kt=null,pi(e,t,s,6);break;case 8:Qh(),De=6;break e;default:throw Error(H(462))}}J6();break}catch(g){i2(e,g)}while(!0);return Ea=Ys=null,P.H=a,P.A=r,be=n,te!==null?0:(Se=null,ie=0,Gf(),De)}function J6(){for(;te!==null&&!vw();)o2(te)}function o2(e){var t=Hx(e.alternate,e,Ba);e.memoizedProps=e.pendingProps,t===null?Xf(e):te=t}function Jg(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ig(n,t,t.pendingProps,t.type,void 0,ie);break;case 11:t=Ig(n,t,t.pendingProps,t.type.render,t.ref,ie);break;case 5:Bh(t);default:Vx(n,t),t=te=V1(t,Ba),t=Hx(n,t,Ba)}e.memoizedProps=e.pendingProps,t===null?Xf(e):te=t}function pi(e,t,n,a){Ea=Ys=null,Bh(t),Ci=null,wc=0;var r=t.return;try{if(G6(e,r,t,n,ie)){De=1,Lu(e,mn(n,e.current)),te=null;return}}catch(s){if(r!==null)throw te=r,s;De=1,Lu(e,mn(n,e.current)),te=null;return}t.flags&32768?(oe||a===1?e=!0:wl||ie&536870912?e=!1:(Sr=e=!0,(a===2||a===9||a===3||a===6)&&(a=gn.current,a!==null&&a.tag===13&&(a.flags|=16384))),u2(t,e)):Xf(t)}function Xf(e){var t=e;do{if(t.flags&32768){u2(t,Sr);return}e=t.return;var n=Y6(t.alternate,t,Ba);if(n!==null){te=n;return}if(t=t.sibling,t!==null){te=t;return}te=t=e}while(t!==null);De===0&&(De=5)}function u2(e,t){do{var n=L6(e.alternate,e);if(n!==null){n.flags&=32767,te=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){te=e;return}te=e=n}while(e!==null);De=6,te=null}function Wg(e,t,n,a,r,s,l,c,o){e.cancelPendingCommit=null;do $f();while(ft!==0);if(be&6)throw Error(H(327));if(t!==null){if(t===e.current)throw Error(H(177));if(s=t.lanes|t.childLanes,s|=xh,Cw(e,n,s,l,c,o),e===Se&&(te=Se=null,ie=0),ol=t,Cr=e,Mi=n,c0=s,o0=r,a2=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,n3(Mu,function(){return y2(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=P.T,P.T=null,r=fe.p,fe.p=2,l=be,be|=4;try{I6(e,t,n)}finally{be=l,fe.p=r,P.T=a}}ft=1,f2(),d2(),m2()}}function f2(){if(ft===1){ft=0;var e=Cr,t=ol,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=P.T,P.T=null;var a=fe.p;fe.p=2;var r=be;be|=4;try{Px(t,e);var s=y0,l=B1(e.containerInfo),c=s.focusedElem,o=s.selectionRange;if(l!==c&&c&&c.ownerDocument&&M1(c.ownerDocument.documentElement,c)){if(o!==null&&bh(c)){var f=o.start,g=o.end;if(g===void 0&&(g=f),"selectionStart"in c)c.selectionStart=f,c.selectionEnd=Math.min(g,c.value.length);else{var h=c.ownerDocument||document,u=h&&h.defaultView||window;if(u.getSelection){var d=u.getSelection(),m=c.textContent.length,S=Math.min(o.start,m),v=o.end===void 0?S:Math.min(o.end,m);!d.extend&&S>v&&(l=v,v=S,S=l);var p=vg(c,S),y=vg(c,v);if(p&&y&&(d.rangeCount!==1||d.anchorNode!==p.node||d.anchorOffset!==p.offset||d.focusNode!==y.node||d.focusOffset!==y.offset)){var b=h.createRange();b.setStart(p.node,p.offset),d.removeAllRanges(),S>v?(d.addRange(b),d.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),d.addRange(b))}}}}for(h=[],d=c;d=d.parentNode;)d.nodeType===1&&h.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<h.length;c++){var N=h[c];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}nf=!!h0,y0=h0=null}finally{be=r,fe.p=a,P.T=n}}e.current=t,ft=2}}function d2(){if(ft===2){ft=0;var e=Cr,t=ol,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=P.T,P.T=null;var a=fe.p;fe.p=2;var r=be;be|=4;try{Qx(e,t.alternate,t)}finally{be=r,fe.p=a,P.T=n}}ft=3}}function m2(){if(ft===4||ft===3){ft=0,Ew();var e=Cr,t=ol,n=Mi,a=a2;t.subtreeFlags&10256||t.flags&10256?ft=5:(ft=0,ol=Cr=null,h2(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Or=null),fh(n),t=t.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(mo,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=P.T,r=fe.p,fe.p=2,P.T=null;try{for(var s=e.onRecoverableError,l=0;l<a.length;l++){var c=a[l];s(c.value,{componentStack:c.stack})}}finally{P.T=t,fe.p=r}}Mi&3&&$f(),Wn(e),r=e.pendingLanes,n&4194090&&r&42?e===u0?cc++:(cc=0,u0=e):cc=0,_o(0)}}function h2(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,vo(t)))}function $f(e){return f2(),d2(),m2(),y2()}function y2(){if(ft!==5)return!1;var e=Cr,t=c0;c0=0;var n=fh(Mi),a=P.T,r=fe.p;try{fe.p=32>n?32:n,P.T=null,n=o0,o0=null;var s=Cr,l=Mi;if(ft=0,ol=Cr=null,Mi=0,be&6)throw Error(H(331));var c=be;if(be|=4,t2(s.current),Jx(s,s.current,l,n),be=c,_o(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(mo,s)}catch{}return!0}finally{fe.p=r,P.T=a,h2(e,t)}}function ep(e,t,n){t=mn(n,t),t=a0(e.stateNode,t,2),e=Rr(e,t,2),e!==null&&(yo(e,2),Wn(e))}function we(e,t,n){if(e.tag===3)ep(e,e,n);else for(;t!==null;){if(t.tag===3){ep(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Or===null||!Or.has(a))){e=mn(n,e),n=Bx(2),a=Rr(t,n,2),a!==null&&(Ux(n,a,t,e),yo(a,2),Wn(a));break}}t=t.return}}function Id(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new X6;var r=new Set;a.set(t,r)}else r=a.get(t),r===void 0&&(r=new Set,a.set(t,r));r.has(n)||(Yh=!0,r.add(n),e=W6.bind(null,e,t,n),t.then(e,e))}function W6(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Se===e&&(ie&n)===n&&(De===4||De===3&&(ie&62914560)===ie&&300>Xn()-Ih?!(be&2)&&ul(e,0):Lh|=n,cl===ie&&(cl=0)),Wn(e)}function g2(e,t){t===0&&(t=f1()),e=El(e,t),e!==null&&(yo(e,t),Wn(e))}function e3(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),g2(e,n)}function t3(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(H(314))}a!==null&&a.delete(t),g2(e,n)}function n3(e,t){return oh(e,t)}var $u=null,ti=null,d0=!1,Pu=!1,Qd=!1,Ss=0;function Wn(e){e!==ti&&e.next===null&&(ti===null?$u=ti=e:ti=ti.next=e),Pu=!0,d0||(d0=!0,r3())}function _o(e,t){if(!Qd&&Pu){Qd=!0;do for(var n=!1,a=$u;a!==null;){if(e!==0){var r=a.pendingLanes;if(r===0)var s=0;else{var l=a.suspendedLanes,c=a.pingedLanes;s=(1<<31-Pt(42|e)+1)-1,s&=r&~(l&~c),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,tp(a,s))}else s=ie,s=jf(a,a===Se?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(s&3)||ho(a,s)||(n=!0,tp(a,s));a=a.next}while(n);Qd=!1}}function a3(){p2()}function p2(){Pu=d0=!1;var e=0;Ss!==0&&(d3()&&(e=Ss),Ss=0);for(var t=Xn(),n=null,a=$u;a!==null;){var r=a.next,s=b2(a,t);s===0?(a.next=null,n===null?$u=r:n.next=r,r===null&&(ti=n)):(n=a,(e!==0||s&3)&&(Pu=!0)),a=r}_o(e)}function b2(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var l=31-Pt(s),c=1<<l,o=r[l];o===-1?(!(c&n)||c&a)&&(r[l]=Ow(c,t)):o<=t&&(e.expiredLanes|=c),s&=~c}if(t=Se,n=ie,n=jf(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(pe===2||pe===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&bd(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||ho(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&bd(a),fh(n)){case 2:case 8:n=c1;break;case 32:n=Mu;break;case 268435456:n=o1;break;default:n=Mu}return a=x2.bind(null,e),n=oh(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&bd(a),e.callbackPriority=2,e.callbackNode=null,2}function x2(e,t){if(ft!==0&&ft!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if($f()&&e.callbackNode!==n)return null;var a=ie;return a=jf(e,e===Se?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(s2(e,a,t),b2(e,Xn()),e.callbackNode!=null&&e.callbackNode===n?x2.bind(null,e):null)}function tp(e,t){if($f())return null;s2(e,t,!0)}function r3(){h3(function(){be&6?oh(l1,a3):p2()})}function Zh(){return Ss===0&&(Ss=u1()),Ss}function np(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:su(""+e)}function ap(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function s3(e,t,n,a,r){if(t==="submit"&&n&&n.stateNode===r){var s=np((r[kt]||null).action),l=a.submitter;l&&(t=(t=l[kt]||null)?np(t.formAction):l.getAttribute("formAction"),t!==null&&(s=t,l=null));var c=new kf("action","action",null,a,r);e.push({event:c,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Ss!==0){var o=l?ap(r,l):new FormData(r);t0(n,{pending:!0,data:o,method:r.method,action:s},null,o)}}else typeof s=="function"&&(c.preventDefault(),o=l?ap(r,l):new FormData(r),t0(n,{pending:!0,data:o,method:r.method,action:s},s,o))},currentTarget:r}]})}}for(var Zd=0;Zd<Ym.length;Zd++){var Xd=Ym[Zd],i3=Xd.toLowerCase(),l3=Xd[0].toUpperCase()+Xd.slice(1);Cn(i3,"on"+l3)}Cn(q1,"onAnimationEnd");Cn(D1,"onAnimationIteration");Cn(z1,"onAnimationStart");Cn("dblclick","onDoubleClick");Cn("focusin","onFocus");Cn("focusout","onBlur");Cn(S6,"onTransitionRun");Cn(_6,"onTransitionStart");Cn(T6,"onTransitionCancel");Cn(j1,"onTransitionEnd");nl("onMouseEnter",["mouseout","mouseover"]);nl("onMouseLeave",["mouseout","mouseover"]);nl("onPointerEnter",["pointerout","pointerover"]);nl("onPointerLeave",["pointerout","pointerover"]);Vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nc));function v2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var l=a.length-1;0<=l;l--){var c=a[l],o=c.instance,f=c.currentTarget;if(c=c.listener,o!==s&&r.isPropagationStopped())break e;s=c,r.currentTarget=f;try{s(r)}catch(g){Yu(g)}r.currentTarget=null,s=o}else for(l=0;l<a.length;l++){if(c=a[l],o=c.instance,f=c.currentTarget,c=c.listener,o!==s&&r.isPropagationStopped())break e;s=c,r.currentTarget=f;try{s(r)}catch(g){Yu(g)}r.currentTarget=null,s=o}}}}function ee(e,t){var n=t[zm];n===void 0&&(n=t[zm]=new Set);var a=e+"__bubble";n.has(a)||(E2(t,e,2,!1),n.add(a))}function $d(e,t,n){var a=0;t&&(a|=4),E2(n,e,a,t)}var Io="_reactListening"+Math.random().toString(36).slice(2);function Xh(e){if(!e[Io]){e[Io]=!0,y1.forEach(function(n){n!=="selectionchange"&&(c3.has(n)||$d(n,!1,e),$d(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Io]||(t[Io]=!0,$d("selectionchange",!1,t))}}function E2(e,t,n,a){switch(U2(t)){case 2:var r=D3;break;case 8:r=z3;break;default:r=Jh}n=r.bind(null,t,n,e),r=void 0,!Vm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),a?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Pd(e,t,n,a,r){var s=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var c=a.stateNode.containerInfo;if(c===r)break;if(l===4)for(l=a.return;l!==null;){var o=l.tag;if((o===3||o===4)&&l.stateNode.containerInfo===r)return;l=l.return}for(;c!==null;){if(l=ci(c),l===null)return;if(o=l.tag,o===5||o===6||o===26||o===27){a=s=l;continue e}c=c.parentNode}}a=a.return}N1(function(){var f=s,g=hh(n),h=[];e:{var u=k1.get(e);if(u!==void 0){var d=kf,m=e;switch(e){case"keypress":if(lu(n)===0)break e;case"keydown":case"keyup":d=n6;break;case"focusin":m="focus",d=Td;break;case"focusout":m="blur",d=Td;break;case"beforeblur":case"afterblur":d=Td;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=ug;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Lw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=s6;break;case q1:case D1:case z1:d=Zw;break;case j1:d=l6;break;case"scroll":case"scrollend":d=Kw;break;case"wheel":d=o6;break;case"copy":case"cut":case"paste":d=$w;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=dg;break;case"toggle":case"beforetoggle":d=f6}var S=(t&4)!==0,v=!S&&(e==="scroll"||e==="scrollend"),p=S?u!==null?u+"Capture":null:u;S=[];for(var y=f,b;y!==null;){var N=y;if(b=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||b===null||p===null||(N=pc(y,p),N!=null&&S.push(Sc(y,N,b))),v)break;y=y.return}0<S.length&&(u=new d(u,m,null,n,g),h.push({event:u,listeners:S}))}}if(!(t&7)){e:{if(u=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",u&&n!==Hm&&(m=n.relatedTarget||n.fromElement)&&(ci(m)||m[xl]))break e;if((d||u)&&(u=g.window===g?g:(u=g.ownerDocument)?u.defaultView||u.parentWindow:window,d?(m=n.relatedTarget||n.toElement,d=f,m=m?ci(m):null,m!==null&&(v=fo(m),S=m.tag,m!==v||S!==5&&S!==27&&S!==6)&&(m=null)):(d=null,m=f),d!==m)){if(S=ug,N="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(S=dg,N="onPointerLeave",p="onPointerEnter",y="pointer"),v=d==null?u:Ll(d),b=m==null?u:Ll(m),u=new S(N,y+"leave",d,n,g),u.target=v,u.relatedTarget=b,N=null,ci(g)===f&&(S=new S(p,y+"enter",m,n,g),S.target=b,S.relatedTarget=v,N=S),v=N,d&&m)t:{for(S=d,p=m,y=0,b=S;b;b=Zs(b))y++;for(b=0,N=p;N;N=Zs(N))b++;for(;0<y-b;)S=Zs(S),y--;for(;0<b-y;)p=Zs(p),b--;for(;y--;){if(S===p||p!==null&&S===p.alternate)break t;S=Zs(S),p=Zs(p)}S=null}else S=null;d!==null&&rp(h,u,d,S,!1),m!==null&&v!==null&&rp(h,v,m,S,!0)}}e:{if(u=f?Ll(f):window,d=u.nodeName&&u.nodeName.toLowerCase(),d==="select"||d==="input"&&u.type==="file")var w=gg;else if(yg(u))if(O1)w=E6;else{w=x6;var C=b6}else d=u.nodeName,!d||d.toLowerCase()!=="input"||u.type!=="checkbox"&&u.type!=="radio"?f&&mh(f.elementType)&&(w=gg):w=v6;if(w&&(w=w(e,f))){R1(h,w,n,g);break e}C&&C(e,u,f),e==="focusout"&&f&&u.type==="number"&&f.memoizedProps.value!=null&&km(u,"number",u.value)}switch(C=f?Ll(f):window,e){case"focusin":(yg(C)||C.contentEditable==="true")&&(fi=C,Gm=f,Jl=null);break;case"focusout":Jl=Gm=fi=null;break;case"mousedown":Km=!0;break;case"contextmenu":case"mouseup":case"dragend":Km=!1,Eg(h,n,g);break;case"selectionchange":if(N6)break;case"keydown":case"keyup":Eg(h,n,g)}var B;if(ph)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else ui?T1(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(_1&&n.locale!=="ko"&&(ui||D!=="onCompositionStart"?D==="onCompositionEnd"&&ui&&(B=S1()):(Nr=g,yh="value"in Nr?Nr.value:Nr.textContent,ui=!0)),C=Fu(f,D),0<C.length&&(D=new fg(D,e,null,n,g),h.push({event:D,listeners:C}),B?D.data=B:(B=A1(n),B!==null&&(D.data=B)))),(B=m6?h6(e,n):y6(e,n))&&(D=Fu(f,"onBeforeInput"),0<D.length&&(C=new fg("onBeforeInput","beforeinput",null,n,g),h.push({event:C,listeners:D}),C.data=B)),s3(h,e,f,n,g)}v2(h,t)})}function Sc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fu(e,t){for(var n=t+"Capture",a=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=pc(e,n),r!=null&&a.unshift(Sc(e,r,s)),r=pc(e,t),r!=null&&a.push(Sc(e,r,s))),e.tag===3)return a;e=e.return}return[]}function Zs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function rp(e,t,n,a,r){for(var s=t._reactName,l=[];n!==null&&n!==a;){var c=n,o=c.alternate,f=c.stateNode;if(c=c.tag,o!==null&&o===a)break;c!==5&&c!==26&&c!==27||f===null||(o=f,r?(f=pc(n,s),f!=null&&l.unshift(Sc(n,f,o))):r||(f=pc(n,s),f!=null&&l.push(Sc(n,f,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var o3=/\r\n?/g,u3=/\u0000|\uFFFD/g;function sp(e){return(typeof e=="string"?e:""+e).replace(o3,`
`).replace(u3,"")}function w2(e,t){return t=sp(t),sp(e)===t}function Pf(){}function xe(e,t,n,a,r,s){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||al(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&al(e,""+a);break;case"className":ko(e,"class",a);break;case"tabIndex":ko(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ko(e,n,a);break;case"style":w1(e,a,s);break;case"data":if(t!=="object"){ko(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=su(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&xe(e,t,"name",r.name,r,null),xe(e,t,"formEncType",r.formEncType,r,null),xe(e,t,"formMethod",r.formMethod,r,null),xe(e,t,"formTarget",r.formTarget,r,null)):(xe(e,t,"encType",r.encType,r,null),xe(e,t,"method",r.method,r,null),xe(e,t,"target",r.target,r,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=su(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Pf);break;case"onScroll":a!=null&&ee("scroll",e);break;case"onScrollEnd":a!=null&&ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(H(61));if(n=a.__html,n!=null){if(r.children!=null)throw Error(H(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=su(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":ee("beforetoggle",e),ee("toggle",e),ru(e,"popover",a);break;case"xlinkActuate":ta(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ta(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ta(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ta(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ta(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ta(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ta(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ta(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ta(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ru(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Vw.get(n)||n,ru(e,n,a))}}function m0(e,t,n,a,r,s){switch(n){case"style":w1(e,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(H(61));if(n=a.__html,n!=null){if(r.children!=null)throw Error(H(60));e.innerHTML=n}}break;case"children":typeof a=="string"?al(e,a):(typeof a=="number"||typeof a=="bigint")&&al(e,""+a);break;case"onScroll":a!=null&&ee("scroll",e);break;case"onScrollEnd":a!=null&&ee("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Pf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!g1.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[kt]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof a=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,r);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):ru(e,n,a)}}}function mt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ee("error",e),ee("load",e);var a=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var l=n[s];if(l!=null)switch(s){case"src":a=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(H(137,t));default:xe(e,t,s,l,n,null)}}r&&xe(e,t,"srcSet",n.srcSet,n,null),a&&xe(e,t,"src",n.src,n,null);return;case"input":ee("invalid",e);var c=s=l=r=null,o=null,f=null;for(a in n)if(n.hasOwnProperty(a)){var g=n[a];if(g!=null)switch(a){case"name":r=g;break;case"type":l=g;break;case"checked":o=g;break;case"defaultChecked":f=g;break;case"value":s=g;break;case"defaultValue":c=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(H(137,t));break;default:xe(e,t,a,g,n,null)}}x1(e,s,c,o,f,l,r,!1),Bu(e);return;case"select":ee("invalid",e),a=l=s=null;for(r in n)if(n.hasOwnProperty(r)&&(c=n[r],c!=null))switch(r){case"value":s=c;break;case"defaultValue":l=c;break;case"multiple":a=c;default:xe(e,t,r,c,n,null)}t=s,n=l,e.multiple=!!a,t!=null?_i(e,!!a,t,!1):n!=null&&_i(e,!!a,n,!0);return;case"textarea":ee("invalid",e),s=r=a=null;for(l in n)if(n.hasOwnProperty(l)&&(c=n[l],c!=null))switch(l){case"value":a=c;break;case"defaultValue":r=c;break;case"children":s=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(H(91));break;default:xe(e,t,l,c,n,null)}E1(e,a,r,s),Bu(e);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:xe(e,t,o,a,n,null)}return;case"dialog":ee("beforetoggle",e),ee("toggle",e),ee("cancel",e),ee("close",e);break;case"iframe":case"object":ee("load",e);break;case"video":case"audio":for(a=0;a<Nc.length;a++)ee(Nc[a],e);break;case"image":ee("error",e),ee("load",e);break;case"details":ee("toggle",e);break;case"embed":case"source":case"link":ee("error",e),ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(a=n[f],a!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(H(137,t));default:xe(e,t,f,a,n,null)}return;default:if(mh(t)){for(g in n)n.hasOwnProperty(g)&&(a=n[g],a!==void 0&&m0(e,t,g,a,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(a=n[c],a!=null&&xe(e,t,c,a,n,null))}function f3(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,l=null,c=null,o=null,f=null,g=null;for(d in n){var h=n[d];if(n.hasOwnProperty(d)&&h!=null)switch(d){case"checked":break;case"value":break;case"defaultValue":o=h;default:a.hasOwnProperty(d)||xe(e,t,d,null,a,h)}}for(var u in a){var d=a[u];if(h=n[u],a.hasOwnProperty(u)&&(d!=null||h!=null))switch(u){case"type":s=d;break;case"name":r=d;break;case"checked":f=d;break;case"defaultChecked":g=d;break;case"value":l=d;break;case"defaultValue":c=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(H(137,t));break;default:d!==h&&xe(e,t,u,d,a,h)}}jm(e,l,c,o,f,g,s,r);return;case"select":d=l=c=u=null;for(s in n)if(o=n[s],n.hasOwnProperty(s)&&o!=null)switch(s){case"value":break;case"multiple":d=o;default:a.hasOwnProperty(s)||xe(e,t,s,null,a,o)}for(r in a)if(s=a[r],o=n[r],a.hasOwnProperty(r)&&(s!=null||o!=null))switch(r){case"value":u=s;break;case"defaultValue":c=s;break;case"multiple":l=s;default:s!==o&&xe(e,t,r,s,a,o)}t=c,n=l,a=d,u!=null?_i(e,!!n,u,!1):!!a!=!!n&&(t!=null?_i(e,!!n,t,!0):_i(e,!!n,n?[]:"",!1));return;case"textarea":d=u=null;for(c in n)if(r=n[c],n.hasOwnProperty(c)&&r!=null&&!a.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:xe(e,t,c,null,a,r)}for(l in a)if(r=a[l],s=n[l],a.hasOwnProperty(l)&&(r!=null||s!=null))switch(l){case"value":u=r;break;case"defaultValue":d=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(H(91));break;default:r!==s&&xe(e,t,l,r,a,s)}v1(e,u,d);return;case"option":for(var m in n)if(u=n[m],n.hasOwnProperty(m)&&u!=null&&!a.hasOwnProperty(m))switch(m){case"selected":e.selected=!1;break;default:xe(e,t,m,null,a,u)}for(o in a)if(u=a[o],d=n[o],a.hasOwnProperty(o)&&u!==d&&(u!=null||d!=null))switch(o){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:xe(e,t,o,u,a,d)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var S in n)u=n[S],n.hasOwnProperty(S)&&u!=null&&!a.hasOwnProperty(S)&&xe(e,t,S,null,a,u);for(f in a)if(u=a[f],d=n[f],a.hasOwnProperty(f)&&u!==d&&(u!=null||d!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(H(137,t));break;default:xe(e,t,f,u,a,d)}return;default:if(mh(t)){for(var v in n)u=n[v],n.hasOwnProperty(v)&&u!==void 0&&!a.hasOwnProperty(v)&&m0(e,t,v,void 0,a,u);for(g in a)u=a[g],d=n[g],!a.hasOwnProperty(g)||u===d||u===void 0&&d===void 0||m0(e,t,g,u,a,d);return}}for(var p in n)u=n[p],n.hasOwnProperty(p)&&u!=null&&!a.hasOwnProperty(p)&&xe(e,t,p,null,a,u);for(h in a)u=a[h],d=n[h],!a.hasOwnProperty(h)||u===d||u==null&&d==null||xe(e,t,h,u,a,d)}var h0=null,y0=null;function Ju(e){return e.nodeType===9?e:e.ownerDocument}function ip(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N2(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function g0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fd=null;function d3(){var e=window.event;return e&&e.type==="popstate"?e===Fd?!1:(Fd=e,!0):(Fd=null,!1)}var S2=typeof setTimeout=="function"?setTimeout:void 0,m3=typeof clearTimeout=="function"?clearTimeout:void 0,lp=typeof Promise=="function"?Promise:void 0,h3=typeof queueMicrotask=="function"?queueMicrotask:typeof lp<"u"?function(e){return lp.resolve(null).then(e).catch(y3)}:S2;function y3(e){setTimeout(function(){throw e})}function Qr(e){return e==="head"}function cp(e,t){var n=t,a=0,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<a&&8>a){n=a;var l=e.ownerDocument;if(n&1&&oc(l.documentElement),n&2&&oc(l.body),n&4)for(n=l.head,oc(n),l=n.firstChild;l;){var c=l.nextSibling,o=l.nodeName;l[go]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&l.rel.toLowerCase()==="stylesheet"||n.removeChild(l),l=c}}if(r===0){e.removeChild(s),Oc(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:a=n.charCodeAt(0)-48;else a=0;n=s}while(n);Oc(t)}function p0(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":p0(n),dh(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function g3(e,t,n,a){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[go])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function p3(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function b0(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function b3(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function On(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var x0=null;function op(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function _2(e,t,n){switch(t=Ju(n),e){case"html":if(e=t.documentElement,!e)throw Error(H(452));return e;case"head":if(e=t.head,!e)throw Error(H(453));return e;case"body":if(e=t.body,!e)throw Error(H(454));return e;default:throw Error(H(451))}}function oc(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);dh(e)}var pn=new Map,up=new Set;function Wu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var za=fe.d;fe.d={f:x3,r:v3,D:E3,C:w3,L:N3,m:S3,X:T3,S:_3,M:A3};function x3(){var e=za.f(),t=Zf();return e||t}function v3(e){var t=vl(e);t!==null&&t.tag===5&&t.type==="form"?bx(t):za.r(e)}var Nl=typeof document>"u"?null:document;function T2(e,t,n){var a=Nl;if(a&&typeof t=="string"&&t){var r=dn(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),up.has(r)||(up.add(r),e={rel:e,crossOrigin:n,href:t},a.querySelector(r)===null&&(t=a.createElement("link"),mt(t,"link",e),at(t),a.head.appendChild(t)))}}function E3(e){za.D(e),T2("dns-prefetch",e,null)}function w3(e,t){za.C(e,t),T2("preconnect",e,t)}function N3(e,t,n){za.L(e,t,n);var a=Nl;if(a&&e&&t){var r='link[rel="preload"][as="'+dn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+dn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+dn(n.imageSizes)+'"]')):r+='[href="'+dn(e)+'"]';var s=r;switch(t){case"style":s=fl(e);break;case"script":s=Sl(e)}pn.has(s)||(e=Te({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),pn.set(s,e),a.querySelector(r)!==null||t==="style"&&a.querySelector(To(s))||t==="script"&&a.querySelector(Ao(s))||(t=a.createElement("link"),mt(t,"link",e),at(t),a.head.appendChild(t)))}}function S3(e,t){za.m(e,t);var n=Nl;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+dn(a)+'"][href="'+dn(e)+'"]',s=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Sl(e)}if(!pn.has(s)&&(e=Te({rel:"modulepreload",href:e},t),pn.set(s,e),n.querySelector(r)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ao(s)))return}a=n.createElement("link"),mt(a,"link",e),at(a),n.head.appendChild(a)}}}function _3(e,t,n){za.S(e,t,n);var a=Nl;if(a&&e){var r=Si(a).hoistableStyles,s=fl(e);t=t||"default";var l=r.get(s);if(!l){var c={loading:0,preload:null};if(l=a.querySelector(To(s)))c.loading=5;else{e=Te({rel:"stylesheet",href:e,"data-precedence":t},n),(n=pn.get(s))&&$h(e,n);var o=l=a.createElement("link");at(o),mt(o,"link",e),o._p=new Promise(function(f,g){o.onload=f,o.onerror=g}),o.addEventListener("load",function(){c.loading|=1}),o.addEventListener("error",function(){c.loading|=2}),c.loading|=4,hu(l,t,a)}l={type:"stylesheet",instance:l,count:1,state:c},r.set(s,l)}}}function T3(e,t){za.X(e,t);var n=Nl;if(n&&e){var a=Si(n).hoistableScripts,r=Sl(e),s=a.get(r);s||(s=n.querySelector(Ao(r)),s||(e=Te({src:e,async:!0},t),(t=pn.get(r))&&Ph(e,t),s=n.createElement("script"),at(s),mt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(r,s))}}function A3(e,t){za.M(e,t);var n=Nl;if(n&&e){var a=Si(n).hoistableScripts,r=Sl(e),s=a.get(r);s||(s=n.querySelector(Ao(r)),s||(e=Te({src:e,async:!0,type:"module"},t),(t=pn.get(r))&&Ph(e,t),s=n.createElement("script"),at(s),mt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(r,s))}}function fp(e,t,n,a){var r=(r=Tr.current)?Wu(r):null;if(!r)throw Error(H(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=fl(n.href),n=Si(r).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=fl(n.href);var s=Si(r).hoistableStyles,l=s.get(e);if(l||(r=r.ownerDocument||r,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,l),(s=r.querySelector(To(e)))&&!s._p&&(l.instance=s,l.state.loading=5),pn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},pn.set(e,n),s||R3(r,e,n,l.state))),t&&a===null)throw Error(H(528,""));return l}if(t&&a!==null)throw Error(H(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Sl(n),n=Si(r).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(H(444,e))}}function fl(e){return'href="'+dn(e)+'"'}function To(e){return'link[rel="stylesheet"]['+e+"]"}function A2(e){return Te({},e,{"data-precedence":e.precedence,precedence:null})}function R3(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),mt(t,"link",n),at(t),e.head.appendChild(t))}function Sl(e){return'[src="'+dn(e)+'"]'}function Ao(e){return"script[async]"+e}function dp(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+dn(n.href)+'"]');if(a)return t.instance=a,at(a),a;var r=Te({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),at(a),mt(a,"style",r),hu(a,n.precedence,e),t.instance=a;case"stylesheet":r=fl(n.href);var s=e.querySelector(To(r));if(s)return t.state.loading|=4,t.instance=s,at(s),s;a=A2(n),(r=pn.get(r))&&$h(a,r),s=(e.ownerDocument||e).createElement("link"),at(s);var l=s;return l._p=new Promise(function(c,o){l.onload=c,l.onerror=o}),mt(s,"link",a),t.state.loading|=4,hu(s,n.precedence,e),t.instance=s;case"script":return s=Sl(n.src),(r=e.querySelector(Ao(s)))?(t.instance=r,at(r),r):(a=n,(r=pn.get(s))&&(a=Te({},n),Ph(a,r)),e=e.ownerDocument||e,r=e.createElement("script"),at(r),mt(r,"link",a),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(H(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,hu(a,n.precedence,e));return t.instance}function hu(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,s=r,l=0;l<a.length;l++){var c=a[l];if(c.dataset.precedence===t)s=c;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function $h(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ph(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var yu=null;function mp(e,t,n){if(yu===null){var a=new Map,r=yu=new Map;r.set(n,a)}else r=yu,a=r.get(n),a||(a=new Map,r.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[go]||s[bt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var l=s.getAttribute(t)||"";l=e+l;var c=a.get(l);c?c.push(s):a.set(l,[s])}}return a}function hp(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function O3(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function R2(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var _c=null;function C3(){}function M3(e,t,n){if(_c===null)throw Error(H(475));var a=_c;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=fl(n.href),s=e.querySelector(To(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=ef.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=s,at(s);return}s=e.ownerDocument||e,n=A2(n),(r=pn.get(r))&&$h(n,r),s=s.createElement("link"),at(s);var l=s;l._p=new Promise(function(c,o){l.onload=c,l.onerror=o}),mt(s,"link",n),t.instance=s}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(a.count++,t=ef.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function B3(){if(_c===null)throw Error(H(475));var e=_c;return e.stylesheets&&e.count===0&&v0(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&v0(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function ef(){if(this.count--,this.count===0){if(this.stylesheets)v0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var tf=null;function v0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,tf=new Map,t.forEach(U3,e),tf=null,ef.call(e))}function U3(e,t){if(!(t.state.loading&4)){var n=tf.get(e);if(n)var a=n.get(null);else{n=new Map,tf.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var l=r[s];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(n.set(l.dataset.precedence,l),a=l)}a&&n.set(null,a)}r=t.instance,l=r.getAttribute("data-precedence"),s=n.get(l)||a,s===a&&n.set(null,r),n.set(l,r),this.count++,a=ef.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Tc={$$typeof:ba,Provider:null,Consumer:null,_currentValue:bs,_currentValue2:bs,_threadCount:0};function q3(e,t,n,a,r,s,l,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xd(0),this.hiddenUpdates=xd(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function O2(e,t,n,a,r,s,l,c,o,f,g,h){return e=new q3(e,t,n,l,c,o,f,h),t=1,s===!0&&(t|=24),s=Qt(3,null,null,t),e.current=s,s.stateNode=e,t=Sh(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:t},Th(s),e}function C2(e){return e?(e=hi,e):hi}function M2(e,t,n,a,r,s){r=C2(r),a.context===null?a.context=r:a.pendingContext=r,a=Ar(t),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=Rr(e,a,t),n!==null&&(Jt(n,e,t),tc(n,e,t))}function yp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fh(e,t){yp(e,t),(e=e.alternate)&&yp(e,t)}function B2(e){if(e.tag===13){var t=El(e,67108864);t!==null&&Jt(t,e,67108864),Fh(e,67108864)}}var nf=!0;function D3(e,t,n,a){var r=P.T;P.T=null;var s=fe.p;try{fe.p=2,Jh(e,t,n,a)}finally{fe.p=s,P.T=r}}function z3(e,t,n,a){var r=P.T;P.T=null;var s=fe.p;try{fe.p=8,Jh(e,t,n,a)}finally{fe.p=s,P.T=r}}function Jh(e,t,n,a){if(nf){var r=E0(a);if(r===null)Pd(e,t,a,af,n),gp(e,a);else if(k3(r,e,t,n,a))a.stopPropagation();else if(gp(e,a),t&4&&-1<j3.indexOf(e)){for(;r!==null;){var s=vl(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var l=Pr(s.pendingLanes);if(l!==0){var c=s;for(c.pendingLanes|=2,c.entangledLanes|=2;l;){var o=1<<31-Pt(l);c.entanglements[1]|=o,l&=~o}Wn(s),!(be&6)&&(Zu=Xn()+500,_o(0))}}break;case 13:c=El(s,2),c!==null&&Jt(c,s,2),Zf(),Fh(s,2)}if(s=E0(a),s===null&&Pd(e,t,a,af,n),s===r)break;r=s}r!==null&&a.stopPropagation()}else Pd(e,t,a,null,n)}}function E0(e){return e=hh(e),Wh(e)}var af=null;function Wh(e){if(af=null,e=ci(e),e!==null){var t=fo(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=a1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return af=e,null}function U2(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ww()){case l1:return 2;case c1:return 8;case Mu:case Nw:return 32;case o1:return 268435456;default:return 32}default:return 32}}var w0=!1,Mr=null,Br=null,Ur=null,Ac=new Map,Rc=new Map,nr=[],j3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gp(e,t){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":Ac.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rc.delete(t.pointerId)}}function kl(e,t,n,a,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[r]},t!==null&&(t=vl(t),t!==null&&B2(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function k3(e,t,n,a,r){switch(t){case"focusin":return Mr=kl(Mr,e,t,n,a,r),!0;case"dragenter":return Br=kl(Br,e,t,n,a,r),!0;case"mouseover":return Ur=kl(Ur,e,t,n,a,r),!0;case"pointerover":var s=r.pointerId;return Ac.set(s,kl(Ac.get(s)||null,e,t,n,a,r)),!0;case"gotpointercapture":return s=r.pointerId,Rc.set(s,kl(Rc.get(s)||null,e,t,n,a,r)),!0}return!1}function q2(e){var t=ci(e.target);if(t!==null){var n=fo(t);if(n!==null){if(t=n.tag,t===13){if(t=a1(n),t!==null){e.blockedOn=t,Mw(e.priority,function(){if(n.tag===13){var a=Ft();a=uh(a);var r=El(n,a);r!==null&&Jt(r,n,a),Fh(n,a)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=E0(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Hm=a,n.target.dispatchEvent(a),Hm=null}else return t=vl(n),t!==null&&B2(t),e.blockedOn=n,!1;t.shift()}return!0}function pp(e,t,n){gu(e)&&n.delete(t)}function H3(){w0=!1,Mr!==null&&gu(Mr)&&(Mr=null),Br!==null&&gu(Br)&&(Br=null),Ur!==null&&gu(Ur)&&(Ur=null),Ac.forEach(pp),Rc.forEach(pp)}function Qo(e,t){e.blockedOn===t&&(e.blockedOn=null,w0||(w0=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,H3)))}var Zo=null;function bp(e){Zo!==e&&(Zo=e,We.unstable_scheduleCallback(We.unstable_NormalPriority,function(){Zo===e&&(Zo=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],r=e[t+2];if(typeof a!="function"){if(Wh(a||n)===null)continue;break}var s=vl(n);s!==null&&(e.splice(t,3),t-=3,t0(s,{pending:!0,data:r,method:n.method,action:a},a,r))}}))}function Oc(e){function t(o){return Qo(o,e)}Mr!==null&&Qo(Mr,e),Br!==null&&Qo(Br,e),Ur!==null&&Qo(Ur,e),Ac.forEach(t),Rc.forEach(t);for(var n=0;n<nr.length;n++){var a=nr[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<nr.length&&(n=nr[0],n.blockedOn===null);)q2(n),n.blockedOn===null&&nr.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var r=n[a],s=n[a+1],l=r[kt]||null;if(typeof s=="function")l||bp(n);else if(l){var c=null;if(s&&s.hasAttribute("formAction")){if(r=s,l=s[kt]||null)c=l.formAction;else if(Wh(r)!==null)continue}else c=l.action;typeof c=="function"?n[a+1]=c:(n.splice(a,3),a-=3),bp(n)}}}function ey(e){this._internalRoot=e}Ff.prototype.render=ey.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));var n=t.current,a=Ft();M2(n,a,e,t,null,null)};Ff.prototype.unmount=ey.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;M2(e.current,2,null,e,null,null),Zf(),t[xl]=null}};function Ff(e){this._internalRoot=e}Ff.prototype.unstable_scheduleHydration=function(e){if(e){var t=h1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<nr.length&&t!==0&&t<nr[n].priority;n++);nr.splice(n,0,e),n===0&&q2(e)}};var xp=t1.version;if(xp!=="19.1.0")throw Error(H(527,xp,"19.1.0"));fe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=yw(t),e=e!==null?r1(e):null,e=e===null?null:e.stateNode,e};var V3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xo.isDisabled&&Xo.supportsFiber)try{mo=Xo.inject(V3),$t=Xo}catch{}}Df.createRoot=function(e,t){if(!n1(e))throw Error(H(299));var n=!1,a="",r=Ox,s=Cx,l=Mx,c=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(c=t.unstable_transitionCallbacks)),t=O2(e,1,!1,null,null,n,a,r,s,l,c,null),e[xl]=t.current,Xh(e),new ey(t)};Df.hydrateRoot=function(e,t,n){if(!n1(e))throw Error(H(299));var a=!1,r="",s=Ox,l=Cx,c=Mx,o=null,f=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(l=n.onCaughtError),n.onRecoverableError!==void 0&&(c=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(o=n.unstable_transitionCallbacks),n.formState!==void 0&&(f=n.formState)),t=O2(e,1,!0,t,n??null,a,r,s,l,c,o,f),t.context=C2(null),n=t.current,a=Ft(),a=uh(a),r=Ar(a),r.callback=null,Rr(n,r,a),n=a,t.current.lanes=n,yo(t,n),Wn(t),e[xl]=t.current,Xh(e),new Ff(t)};Df.version="19.1.0";function D2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D2)}catch(e){console.error(e)}}D2(),$b.exports=Df;var G3=$b.exports;const K3=Gb(G3);var _l=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bs=typeof window>"u"||"Deno"in globalThis;function St(){}function Y3(e,t){return typeof e=="function"?e(t):e}function N0(e){return typeof e=="number"&&e>=0&&e!==1/0}function z2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function qr(e,t){return typeof e=="function"?e(t):e}function ln(e,t){return typeof e=="function"?e(t):e}function vp(e,t){const{type:n="all",exact:a,fetchStatus:r,predicate:s,queryKey:l,stale:c}=e;if(l){if(a){if(t.queryHash!==ty(l,t.options))return!1}else if(!Cc(t.queryKey,l))return!1}if(n!=="all"){const o=t.isActive();if(n==="active"&&!o||n==="inactive"&&o)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||r&&r!==t.state.fetchStatus||s&&!s(t))}function Ep(e,t){const{exact:n,status:a,predicate:r,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Us(t.options.mutationKey)!==Us(s))return!1}else if(!Cc(t.options.mutationKey,s))return!1}return!(a&&t.state.status!==a||r&&!r(t))}function ty(e,t){return((t==null?void 0:t.queryKeyHashFn)||Us)(e)}function Us(e){return JSON.stringify(e,(t,n)=>S0(n)?Object.keys(n).sort().reduce((a,r)=>(a[r]=n[r],a),{}):n)}function Cc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Cc(e[n],t[n])):!1}function j2(e,t){if(e===t)return e;const n=wp(e)&&wp(t);if(n||S0(e)&&S0(t)){const a=n?e:Object.keys(e),r=a.length,s=n?t:Object.keys(t),l=s.length,c=n?[]:{},o=new Set(a);let f=0;for(let g=0;g<l;g++){const h=n?g:s[g];(!n&&o.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(c[h]=void 0,f++):(c[h]=j2(e[h],t[h]),c[h]===e[h]&&e[h]!==void 0&&f++)}return r===l&&f===r?e:c}return t}function rf(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function wp(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function S0(e){if(!Np(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Np(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Np(e){return Object.prototype.toString.call(e)==="[object Object]"}function L3(e){return new Promise(t=>{setTimeout(t,e)})}function _0(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?j2(e,t):t}function I3(e,t,n=0){const a=[...e,t];return n&&a.length>n?a.slice(1):a}function Q3(e,t,n=0){const a=[t,...e];return n&&a.length>n?a.slice(0,-1):a}var ny=Symbol();function k2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ny?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function H2(e,t){return typeof e=="function"?e(...t):!!e}var is,ir,ki,Mb,Z3=(Mb=class extends _l{constructor(){super();V(this,is);V(this,ir);V(this,ki);k(this,ki,t=>{if(!Bs&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){x(this,ir)||this.setEventListener(x(this,ki))}onUnsubscribe(){var t;this.hasListeners()||((t=x(this,ir))==null||t.call(this),k(this,ir,void 0))}setEventListener(t){var n;k(this,ki,t),(n=x(this,ir))==null||n.call(this),k(this,ir,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){x(this,is)!==t&&(k(this,is,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof x(this,is)=="boolean"?x(this,is):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},is=new WeakMap,ir=new WeakMap,ki=new WeakMap,Mb),ay=new Z3,Hi,lr,Vi,Bb,X3=(Bb=class extends _l{constructor(){super();V(this,Hi,!0);V(this,lr);V(this,Vi);k(this,Vi,t=>{if(!Bs&&window.addEventListener){const n=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}})}onSubscribe(){x(this,lr)||this.setEventListener(x(this,Vi))}onUnsubscribe(){var t;this.hasListeners()||((t=x(this,lr))==null||t.call(this),k(this,lr,void 0))}setEventListener(t){var n;k(this,Vi,t),(n=x(this,lr))==null||n.call(this),k(this,lr,t(this.setOnline.bind(this)))}setOnline(t){x(this,Hi)!==t&&(k(this,Hi,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return x(this,Hi)}},Hi=new WeakMap,lr=new WeakMap,Vi=new WeakMap,Bb),sf=new X3;function T0(){let e,t;const n=new Promise((r,s)=>{e=r,t=s});n.status="pending",n.catch(()=>{});function a(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{a({status:"fulfilled",value:r}),e(r)},n.reject=r=>{a({status:"rejected",reason:r}),t(r)},n}function $3(e){return Math.min(1e3*2**e,3e4)}function V2(e){return(e??"online")==="online"?sf.isOnline():!0}var G2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Jd(e){return e instanceof G2}function K2(e){let t=!1,n=0,a=!1,r;const s=T0(),l=S=>{var v;a||(u(new G2(S)),(v=e.abort)==null||v.call(e))},c=()=>{t=!0},o=()=>{t=!1},f=()=>ay.isFocused()&&(e.networkMode==="always"||sf.isOnline())&&e.canRun(),g=()=>V2(e.networkMode)&&e.canRun(),h=S=>{var v;a||(a=!0,(v=e.onSuccess)==null||v.call(e,S),r==null||r(),s.resolve(S))},u=S=>{var v;a||(a=!0,(v=e.onError)==null||v.call(e,S),r==null||r(),s.reject(S))},d=()=>new Promise(S=>{var v;r=p=>{(a||f())&&S(p)},(v=e.onPause)==null||v.call(e)}).then(()=>{var S;r=void 0,a||(S=e.onContinue)==null||S.call(e)}),m=()=>{if(a)return;let S;const v=n===0?e.initialPromise:void 0;try{S=v??e.fn()}catch(p){S=Promise.reject(p)}Promise.resolve(S).then(h).catch(p=>{var C;if(a)return;const y=e.retry??(Bs?0:3),b=e.retryDelay??$3,N=typeof b=="function"?b(n,p):b,w=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,p);if(t||!w){u(p);return}n++,(C=e.onFail)==null||C.call(e,n,p),L3(N).then(()=>f()?void 0:d()).then(()=>{t?u(p):m()})})};return{promise:s,cancel:l,continue:()=>(r==null||r(),s),cancelRetry:c,continueRetry:o,canStart:g,start:()=>(g()?m():d().then(m),s)}}var P3=e=>setTimeout(e,0);function F3(){let e=[],t=0,n=c=>{c()},a=c=>{c()},r=P3;const s=c=>{t?e.push(c):r(()=>{n(c)})},l=()=>{const c=e;e=[],c.length&&r(()=>{a(()=>{c.forEach(o=>{n(o)})})})};return{batch:c=>{let o;t++;try{o=c()}finally{t--,t||l()}return o},batchCalls:c=>(...o)=>{s(()=>{c(...o)})},schedule:s,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{a=c},setScheduler:c=>{r=c}}}var Fe=F3(),ls,Ub,Y2=(Ub=class{constructor(){V(this,ls)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),N0(this.gcTime)&&k(this,ls,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Bs?1/0:5*60*1e3))}clearGcTimeout(){x(this,ls)&&(clearTimeout(x(this,ls)),k(this,ls,void 0))}},ls=new WeakMap,Ub),Gi,cs,tn,os,gt,Zc,us,En,ia,qb,J3=(qb=class extends Y2{constructor(t){super();V(this,En);V(this,Gi);V(this,cs);V(this,tn);V(this,os);V(this,gt);V(this,Zc);V(this,us);k(this,us,!1),k(this,Zc,t.defaultOptions),this.setOptions(t.options),this.observers=[],k(this,os,t.client),k(this,tn,x(this,os).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,k(this,Gi,W3(this.options)),this.state=t.state??x(this,Gi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=x(this,gt))==null?void 0:t.promise}setOptions(t){this.options={...x(this,Zc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&x(this,tn).remove(this)}setData(t,n){const a=_0(this.state.data,t,this.options);return Q(this,En,ia).call(this,{data:a,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),a}setState(t,n){Q(this,En,ia).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var a,r;const n=(a=x(this,gt))==null?void 0:a.promise;return(r=x(this,gt))==null||r.cancel(t),n?n.then(St).catch(St):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(x(this,Gi))}isActive(){return this.observers.some(t=>ln(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ny||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>qr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!z2(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=x(this,gt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=x(this,gt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),x(this,tn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(x(this,gt)&&(x(this,us)?x(this,gt).cancel({revert:!0}):x(this,gt).cancelRetry()),this.scheduleGc()),x(this,tn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Q(this,En,ia).call(this,{type:"invalidate"})}fetch(t,n){var f,g,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(x(this,gt))return x(this,gt).continueRetry(),x(this,gt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(d=>d.options.queryFn);u&&this.setOptions(u.options)}const a=new AbortController,r=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(k(this,us,!0),a.signal)})},s=()=>{const u=k2(this.options,n),m=(()=>{const S={client:x(this,os),queryKey:this.queryKey,meta:this.meta};return r(S),S})();return k(this,us,!1),this.options.persister?this.options.persister(u,m,this):u(m)},c=(()=>{const u={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:x(this,os),state:this.state,fetchFn:s};return r(u),u})();(f=this.options.behavior)==null||f.onFetch(c,this),k(this,cs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=c.fetchOptions)==null?void 0:g.meta))&&Q(this,En,ia).call(this,{type:"fetch",meta:(h=c.fetchOptions)==null?void 0:h.meta});const o=u=>{var d,m,S,v;Jd(u)&&u.silent||Q(this,En,ia).call(this,{type:"error",error:u}),Jd(u)||((m=(d=x(this,tn).config).onError)==null||m.call(d,u,this),(v=(S=x(this,tn).config).onSettled)==null||v.call(S,this.state.data,u,this)),this.scheduleGc()};return k(this,gt,K2({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:a.abort.bind(a),onSuccess:u=>{var d,m,S,v;if(u===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(p){o(p);return}(m=(d=x(this,tn).config).onSuccess)==null||m.call(d,u,this),(v=(S=x(this,tn).config).onSettled)==null||v.call(S,u,this.state.error,this),this.scheduleGc()},onError:o,onFail:(u,d)=>{Q(this,En,ia).call(this,{type:"failed",failureCount:u,error:d})},onPause:()=>{Q(this,En,ia).call(this,{type:"pause"})},onContinue:()=>{Q(this,En,ia).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),x(this,gt).start()}},Gi=new WeakMap,cs=new WeakMap,tn=new WeakMap,os=new WeakMap,gt=new WeakMap,Zc=new WeakMap,us=new WeakMap,En=new WeakSet,ia=function(t){const n=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...L2(a.data,this.options),fetchMeta:t.meta??null};case"success":return k(this,cs,void 0),{...a,data:t.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return Jd(r)&&r.revert&&x(this,cs)?{...x(this,cs),fetchStatus:"idle"}:{...a,error:r,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=n(this.state),Fe.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),x(this,tn).notify({query:this,type:"updated",action:t})})},qb);function L2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:V2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function W3(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,a=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Dn,Db,e4=(Db=class extends _l{constructor(t={}){super();V(this,Dn);this.config=t,k(this,Dn,new Map)}build(t,n,a){const r=n.queryKey,s=n.queryHash??ty(r,n);let l=this.get(s);return l||(l=new J3({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(n),state:a,defaultOptions:t.getQueryDefaults(r)}),this.add(l)),l}add(t){x(this,Dn).has(t.queryHash)||(x(this,Dn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=x(this,Dn).get(t.queryHash);n&&(t.destroy(),n===t&&x(this,Dn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Fe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return x(this,Dn).get(t)}getAll(){return[...x(this,Dn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(a=>vp(n,a))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(a=>vp(t,a)):n}notify(t){Fe.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Fe.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Fe.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Dn=new WeakMap,Db),zn,Et,fs,jn,Qa,zb,t4=(zb=class extends Y2{constructor(t){super();V(this,jn);V(this,zn);V(this,Et);V(this,fs);this.mutationId=t.mutationId,k(this,Et,t.mutationCache),k(this,zn,[]),this.state=t.state||I2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){x(this,zn).includes(t)||(x(this,zn).push(t),this.clearGcTimeout(),x(this,Et).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){k(this,zn,x(this,zn).filter(n=>n!==t)),this.scheduleGc(),x(this,Et).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){x(this,zn).length||(this.state.status==="pending"?this.scheduleGc():x(this,Et).remove(this))}continue(){var t;return((t=x(this,fs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,l,c,o,f,g,h,u,d,m,S,v,p,y,b,N,w,C,B,D;const n=()=>{Q(this,jn,Qa).call(this,{type:"continue"})};k(this,fs,K2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(j,O)=>{Q(this,jn,Qa).call(this,{type:"failed",failureCount:j,error:O})},onPause:()=>{Q(this,jn,Qa).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>x(this,Et).canRun(this)}));const a=this.state.status==="pending",r=!x(this,fs).canStart();try{if(a)n();else{Q(this,jn,Qa).call(this,{type:"pending",variables:t,isPaused:r}),await((l=(s=x(this,Et).config).onMutate)==null?void 0:l.call(s,t,this));const O=await((o=(c=this.options).onMutate)==null?void 0:o.call(c,t));O!==this.state.context&&Q(this,jn,Qa).call(this,{type:"pending",context:O,variables:t,isPaused:r})}const j=await x(this,fs).start();return await((g=(f=x(this,Et).config).onSuccess)==null?void 0:g.call(f,j,t,this.state.context,this)),await((u=(h=this.options).onSuccess)==null?void 0:u.call(h,j,t,this.state.context)),await((m=(d=x(this,Et).config).onSettled)==null?void 0:m.call(d,j,null,this.state.variables,this.state.context,this)),await((v=(S=this.options).onSettled)==null?void 0:v.call(S,j,null,t,this.state.context)),Q(this,jn,Qa).call(this,{type:"success",data:j}),j}catch(j){try{throw await((y=(p=x(this,Et).config).onError)==null?void 0:y.call(p,j,t,this.state.context,this)),await((N=(b=this.options).onError)==null?void 0:N.call(b,j,t,this.state.context)),await((C=(w=x(this,Et).config).onSettled)==null?void 0:C.call(w,void 0,j,this.state.variables,this.state.context,this)),await((D=(B=this.options).onSettled)==null?void 0:D.call(B,void 0,j,t,this.state.context)),j}finally{Q(this,jn,Qa).call(this,{type:"error",error:j})}}finally{x(this,Et).runNext(this)}}},zn=new WeakMap,Et=new WeakMap,fs=new WeakMap,jn=new WeakSet,Qa=function(t){const n=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Fe.batch(()=>{x(this,zn).forEach(a=>{a.onMutationUpdate(t)}),x(this,Et).notify({mutation:this,type:"updated",action:t})})},zb);function I2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ua,wn,Xc,jb,n4=(jb=class extends _l{constructor(t={}){super();V(this,ua);V(this,wn);V(this,Xc);this.config=t,k(this,ua,new Set),k(this,wn,new Map),k(this,Xc,0)}build(t,n,a){const r=new t4({mutationCache:this,mutationId:++Cl(this,Xc)._,options:t.defaultMutationOptions(n),state:a});return this.add(r),r}add(t){x(this,ua).add(t);const n=$o(t);if(typeof n=="string"){const a=x(this,wn).get(n);a?a.push(t):x(this,wn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(x(this,ua).delete(t)){const n=$o(t);if(typeof n=="string"){const a=x(this,wn).get(n);if(a)if(a.length>1){const r=a.indexOf(t);r!==-1&&a.splice(r,1)}else a[0]===t&&x(this,wn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=$o(t);if(typeof n=="string"){const a=x(this,wn).get(n),r=a==null?void 0:a.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){var a;const n=$o(t);if(typeof n=="string"){const r=(a=x(this,wn).get(n))==null?void 0:a.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Fe.batch(()=>{x(this,ua).forEach(t=>{this.notify({type:"removed",mutation:t})}),x(this,ua).clear(),x(this,wn).clear()})}getAll(){return Array.from(x(this,ua))}find(t){const n={exact:!0,...t};return this.getAll().find(a=>Ep(n,a))}findAll(t={}){return this.getAll().filter(n=>Ep(t,n))}notify(t){Fe.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Fe.batch(()=>Promise.all(t.map(n=>n.continue().catch(St))))}},ua=new WeakMap,wn=new WeakMap,Xc=new WeakMap,jb);function $o(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Sp(e){return{onFetch:(t,n)=>{var g,h,u,d,m;const a=t.options,r=(u=(h=(g=t.fetchOptions)==null?void 0:g.meta)==null?void 0:h.fetchMore)==null?void 0:u.direction,s=((d=t.state.data)==null?void 0:d.pages)||[],l=((m=t.state.data)==null?void 0:m.pageParams)||[];let c={pages:[],pageParams:[]},o=0;const f=async()=>{let S=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?S=!0:t.signal.addEventListener("abort",()=>{S=!0}),t.signal)})},p=k2(t.options,t.fetchOptions),y=async(b,N,w)=>{if(S)return Promise.reject();if(N==null&&b.pages.length)return Promise.resolve(b);const B=(()=>{const _={client:t.client,queryKey:t.queryKey,pageParam:N,direction:w?"backward":"forward",meta:t.options.meta};return v(_),_})(),D=await p(B),{maxPages:j}=t.options,O=w?Q3:I3;return{pages:O(b.pages,D,j),pageParams:O(b.pageParams,N,j)}};if(r&&s.length){const b=r==="backward",N=b?a4:_p,w={pages:s,pageParams:l},C=N(a,w);c=await y(w,C,b)}else{const b=e??s.length;do{const N=o===0?l[0]??a.initialPageParam:_p(a,c);if(o>0&&N==null)break;c=await y(c,N),o++}while(o<b)}return c};t.options.persister?t.fetchFn=()=>{var S,v;return(v=(S=t.options).persister)==null?void 0:v.call(S,f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=f}}}function _p(e,{pages:t,pageParams:n}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,n[a],n):void 0}function a4(e,{pages:t,pageParams:n}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,n[0],n):void 0}var Ue,cr,or,Ki,Yi,ur,Li,Ii,kb,r4=(kb=class{constructor(e={}){V(this,Ue);V(this,cr);V(this,or);V(this,Ki);V(this,Yi);V(this,ur);V(this,Li);V(this,Ii);k(this,Ue,e.queryCache||new e4),k(this,cr,e.mutationCache||new n4),k(this,or,e.defaultOptions||{}),k(this,Ki,new Map),k(this,Yi,new Map),k(this,ur,0)}mount(){Cl(this,ur)._++,x(this,ur)===1&&(k(this,Li,ay.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,Ue).onFocus())})),k(this,Ii,sf.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,Ue).onOnline())})))}unmount(){var e,t;Cl(this,ur)._--,x(this,ur)===0&&((e=x(this,Li))==null||e.call(this),k(this,Li,void 0),(t=x(this,Ii))==null||t.call(this),k(this,Ii,void 0))}isFetching(e){return x(this,Ue).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return x(this,cr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=x(this,Ue).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=x(this,Ue).build(this,t),a=n.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(qr(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return x(this,Ue).findAll(e).map(({queryKey:t,state:n})=>{const a=n.data;return[t,a]})}setQueryData(e,t,n){const a=this.defaultQueryOptions({queryKey:e}),r=x(this,Ue).get(a.queryHash),s=r==null?void 0:r.state.data,l=Y3(t,s);if(l!==void 0)return x(this,Ue).build(this,a).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return Fe.batch(()=>x(this,Ue).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=x(this,Ue).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=x(this,Ue);Fe.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=x(this,Ue);return Fe.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},a=Fe.batch(()=>x(this,Ue).findAll(e).map(r=>r.cancel(n)));return Promise.all(a).then(St).catch(St)}invalidateQueries(e,t={}){return Fe.batch(()=>(x(this,Ue).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},a=Fe.batch(()=>x(this,Ue).findAll(e).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let s=r.fetch(void 0,n);return n.throwOnError||(s=s.catch(St)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(a).then(St)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=x(this,Ue).build(this,t);return n.isStaleByTime(qr(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(St).catch(St)}fetchInfiniteQuery(e){return e.behavior=Sp(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(St).catch(St)}ensureInfiniteQueryData(e){return e.behavior=Sp(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return sf.isOnline()?x(this,cr).resumePausedMutations():Promise.resolve()}getQueryCache(){return x(this,Ue)}getMutationCache(){return x(this,cr)}getDefaultOptions(){return x(this,or)}setDefaultOptions(e){k(this,or,e)}setQueryDefaults(e,t){x(this,Ki).set(Us(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...x(this,Ki).values()],n={};return t.forEach(a=>{Cc(e,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(e,t){x(this,Yi).set(Us(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...x(this,Yi).values()],n={};return t.forEach(a=>{Cc(e,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...x(this,or).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ty(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ny&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...x(this,or).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){x(this,Ue).clear(),x(this,cr).clear()}},Ue=new WeakMap,cr=new WeakMap,or=new WeakMap,Ki=new WeakMap,Yi=new WeakMap,ur=new WeakMap,Li=new WeakMap,Ii=new WeakMap,kb),Mt,re,$c,wt,ds,Qi,fr,dr,Pc,Zi,Xi,ms,hs,mr,$i,he,Ql,A0,R0,O0,C0,M0,B0,U0,Q2,Hb,s4=(Hb=class extends _l{constructor(t,n){super();V(this,he);V(this,Mt);V(this,re);V(this,$c);V(this,wt);V(this,ds);V(this,Qi);V(this,fr);V(this,dr);V(this,Pc);V(this,Zi);V(this,Xi);V(this,ms);V(this,hs);V(this,mr);V(this,$i,new Set);this.options=n,k(this,Mt,t),k(this,dr,null),k(this,fr,T0()),this.options.experimental_prefetchInRender||x(this,fr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(x(this,re).addObserver(this),Tp(x(this,re),this.options)?Q(this,he,Ql).call(this):this.updateResult(),Q(this,he,C0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return q0(x(this,re),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return q0(x(this,re),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Q(this,he,M0).call(this),Q(this,he,B0).call(this),x(this,re).removeObserver(this)}setOptions(t){const n=this.options,a=x(this,re);if(this.options=x(this,Mt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ln(this.options.enabled,x(this,re))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Q(this,he,U0).call(this),x(this,re).setOptions(this.options),n._defaulted&&!rf(this.options,n)&&x(this,Mt).getQueryCache().notify({type:"observerOptionsUpdated",query:x(this,re),observer:this});const r=this.hasListeners();r&&Ap(x(this,re),a,this.options,n)&&Q(this,he,Ql).call(this),this.updateResult(),r&&(x(this,re)!==a||ln(this.options.enabled,x(this,re))!==ln(n.enabled,x(this,re))||qr(this.options.staleTime,x(this,re))!==qr(n.staleTime,x(this,re)))&&Q(this,he,A0).call(this);const s=Q(this,he,R0).call(this);r&&(x(this,re)!==a||ln(this.options.enabled,x(this,re))!==ln(n.enabled,x(this,re))||s!==x(this,mr))&&Q(this,he,O0).call(this,s)}getOptimisticResult(t){const n=x(this,Mt).getQueryCache().build(x(this,Mt),t),a=this.createResult(n,t);return l4(this,a)&&(k(this,wt,a),k(this,Qi,this.options),k(this,ds,x(this,re).state)),a}getCurrentResult(){return x(this,wt)}trackResult(t,n){return new Proxy(t,{get:(a,r)=>(this.trackProp(r),n==null||n(r),Reflect.get(a,r))})}trackProp(t){x(this,$i).add(t)}getCurrentQuery(){return x(this,re)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=x(this,Mt).defaultQueryOptions(t),a=x(this,Mt).getQueryCache().build(x(this,Mt),n);return a.fetch().then(()=>this.createResult(a,n))}fetch(t){return Q(this,he,Ql).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),x(this,wt)))}createResult(t,n){var j;const a=x(this,re),r=this.options,s=x(this,wt),l=x(this,ds),c=x(this,Qi),f=t!==a?t.state:x(this,$c),{state:g}=t;let h={...g},u=!1,d;if(n._optimisticResults){const O=this.hasListeners(),_=!O&&Tp(t,n),U=O&&Ap(t,a,n,r);(_||U)&&(h={...h,...L2(g.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:S,status:v}=h;d=h.data;let p=!1;if(n.placeholderData!==void 0&&d===void 0&&v==="pending"){let O;s!=null&&s.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(O=s.data,p=!0):O=typeof n.placeholderData=="function"?n.placeholderData((j=x(this,Xi))==null?void 0:j.state.data,x(this,Xi)):n.placeholderData,O!==void 0&&(v="success",d=_0(s==null?void 0:s.data,O,n),u=!0)}if(n.select&&d!==void 0&&!p)if(s&&d===(l==null?void 0:l.data)&&n.select===x(this,Pc))d=x(this,Zi);else try{k(this,Pc,n.select),d=n.select(d),d=_0(s==null?void 0:s.data,d,n),k(this,Zi,d),k(this,dr,null)}catch(O){k(this,dr,O)}x(this,dr)&&(m=x(this,dr),d=x(this,Zi),S=Date.now(),v="error");const y=h.fetchStatus==="fetching",b=v==="pending",N=v==="error",w=b&&y,C=d!==void 0,D={status:v,fetchStatus:h.fetchStatus,isPending:b,isSuccess:v==="success",isError:N,isInitialLoading:w,isLoading:w,data:d,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:S,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>f.dataUpdateCount||h.errorUpdateCount>f.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:N&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:u,isRefetchError:N&&C,isStale:ry(t,n),refetch:this.refetch,promise:x(this,fr),isEnabled:ln(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const O=E=>{D.status==="error"?E.reject(D.error):D.data!==void 0&&E.resolve(D.data)},_=()=>{const E=k(this,fr,D.promise=T0());O(E)},U=x(this,fr);switch(U.status){case"pending":t.queryHash===a.queryHash&&O(U);break;case"fulfilled":(D.status==="error"||D.data!==U.value)&&_();break;case"rejected":(D.status!=="error"||D.error!==U.reason)&&_();break}}return D}updateResult(){const t=x(this,wt),n=this.createResult(x(this,re),this.options);if(k(this,ds,x(this,re).state),k(this,Qi,this.options),x(this,ds).data!==void 0&&k(this,Xi,x(this,re)),rf(n,t))return;k(this,wt,n);const a=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!x(this,$i).size)return!0;const l=new Set(s??x(this,$i));return this.options.throwOnError&&l.add("error"),Object.keys(x(this,wt)).some(c=>{const o=c;return x(this,wt)[o]!==t[o]&&l.has(o)})};Q(this,he,Q2).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Q(this,he,C0).call(this)}},Mt=new WeakMap,re=new WeakMap,$c=new WeakMap,wt=new WeakMap,ds=new WeakMap,Qi=new WeakMap,fr=new WeakMap,dr=new WeakMap,Pc=new WeakMap,Zi=new WeakMap,Xi=new WeakMap,ms=new WeakMap,hs=new WeakMap,mr=new WeakMap,$i=new WeakMap,he=new WeakSet,Ql=function(t){Q(this,he,U0).call(this);let n=x(this,re).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(St)),n},A0=function(){Q(this,he,M0).call(this);const t=qr(this.options.staleTime,x(this,re));if(Bs||x(this,wt).isStale||!N0(t))return;const a=z2(x(this,wt).dataUpdatedAt,t)+1;k(this,ms,setTimeout(()=>{x(this,wt).isStale||this.updateResult()},a))},R0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(x(this,re)):this.options.refetchInterval)??!1},O0=function(t){Q(this,he,B0).call(this),k(this,mr,t),!(Bs||ln(this.options.enabled,x(this,re))===!1||!N0(x(this,mr))||x(this,mr)===0)&&k(this,hs,setInterval(()=>{(this.options.refetchIntervalInBackground||ay.isFocused())&&Q(this,he,Ql).call(this)},x(this,mr)))},C0=function(){Q(this,he,A0).call(this),Q(this,he,O0).call(this,Q(this,he,R0).call(this))},M0=function(){x(this,ms)&&(clearTimeout(x(this,ms)),k(this,ms,void 0))},B0=function(){x(this,hs)&&(clearInterval(x(this,hs)),k(this,hs,void 0))},U0=function(){const t=x(this,Mt).getQueryCache().build(x(this,Mt),this.options);if(t===x(this,re))return;const n=x(this,re);k(this,re,t),k(this,$c,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Q2=function(t){Fe.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(x(this,wt))}),x(this,Mt).getQueryCache().notify({query:x(this,re),type:"observerResultsUpdated"})})},Hb);function i4(e,t){return ln(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Tp(e,t){return i4(e,t)||e.state.data!==void 0&&q0(e,t,t.refetchOnMount)}function q0(e,t,n){if(ln(t.enabled,e)!==!1&&qr(t.staleTime,e)!=="static"){const a=typeof n=="function"?n(e):n;return a==="always"||a!==!1&&ry(e,t)}return!1}function Ap(e,t,n,a){return(e!==t||ln(a.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&ry(e,n)}function ry(e,t){return ln(t.enabled,e)!==!1&&e.isStaleByTime(qr(t.staleTime,e))}function l4(e,t){return!rf(e.getCurrentResult(),t)}var hr,yr,Bt,fa,Ra,pu,D0,Vb,c4=(Vb=class extends _l{constructor(n,a){super();V(this,Ra);V(this,hr);V(this,yr);V(this,Bt);V(this,fa);k(this,hr,n),this.setOptions(a),this.bindMethods(),Q(this,Ra,pu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var r;const a=this.options;this.options=x(this,hr).defaultMutationOptions(n),rf(this.options,a)||x(this,hr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:x(this,Bt),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&Us(a.mutationKey)!==Us(this.options.mutationKey)?this.reset():((r=x(this,Bt))==null?void 0:r.state.status)==="pending"&&x(this,Bt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=x(this,Bt))==null||n.removeObserver(this)}onMutationUpdate(n){Q(this,Ra,pu).call(this),Q(this,Ra,D0).call(this,n)}getCurrentResult(){return x(this,yr)}reset(){var n;(n=x(this,Bt))==null||n.removeObserver(this),k(this,Bt,void 0),Q(this,Ra,pu).call(this),Q(this,Ra,D0).call(this)}mutate(n,a){var r;return k(this,fa,a),(r=x(this,Bt))==null||r.removeObserver(this),k(this,Bt,x(this,hr).getMutationCache().build(x(this,hr),this.options)),x(this,Bt).addObserver(this),x(this,Bt).execute(n)}},hr=new WeakMap,yr=new WeakMap,Bt=new WeakMap,fa=new WeakMap,Ra=new WeakSet,pu=function(){var a;const n=((a=x(this,Bt))==null?void 0:a.state)??I2();k(this,yr,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},D0=function(n){Fe.batch(()=>{var a,r,s,l,c,o,f,g;if(x(this,fa)&&this.hasListeners()){const h=x(this,yr).variables,u=x(this,yr).context;(n==null?void 0:n.type)==="success"?((r=(a=x(this,fa)).onSuccess)==null||r.call(a,n.data,h,u),(l=(s=x(this,fa)).onSettled)==null||l.call(s,n.data,null,h,u)):(n==null?void 0:n.type)==="error"&&((o=(c=x(this,fa)).onError)==null||o.call(c,n.error,h,u),(g=(f=x(this,fa)).onSettled)==null||g.call(f,void 0,n.error,h,u))}this.listeners.forEach(h=>{h(x(this,yr))})})},Vb),Z2={exports:{}},Jf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o4=Symbol.for("react.transitional.element"),u4=Symbol.for("react.fragment");function X2(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:o4,type:e,key:a,ref:t!==void 0?t:null,props:n}}Jf.Fragment=u4;Jf.jsx=X2;Jf.jsxs=X2;Z2.exports=Jf;var f4=Z2.exports,$2=G.createContext(void 0),ja=e=>{const t=G.useContext($2);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},d4=({client:e,children:t})=>(G.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),f4.jsx($2.Provider,{value:e,children:t})),P2=G.createContext(!1),m4=()=>G.useContext(P2);P2.Provider;function h4(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var y4=G.createContext(h4()),g4=()=>G.useContext(y4),p4=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},b4=e=>{G.useEffect(()=>{e.clearReset()},[e])},x4=({result:e,errorResetBoundary:t,throwOnError:n,query:a,suspense:r})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(r&&e.data===void 0||H2(n,[e.error,a])),v4=e=>{if(e.suspense){const t=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>t(n(...a)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},E4=(e,t)=>e.isLoading&&e.isFetching&&!t,w4=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Rp=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function N4(e,t,n){var h,u,d,m,S;const a=m4(),r=g4(),s=ja(),l=s.defaultQueryOptions(e);(u=(h=s.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||u.call(h,l),l._optimisticResults=a?"isRestoring":"optimistic",v4(l),p4(l,r),b4(r);const c=!s.getQueryCache().get(l.queryHash),[o]=G.useState(()=>new t(s,l)),f=o.getOptimisticResult(l),g=!a&&e.subscribed!==!1;if(G.useSyncExternalStore(G.useCallback(v=>{const p=g?o.subscribe(Fe.batchCalls(v)):St;return o.updateResult(),p},[o,g]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),G.useEffect(()=>{o.setOptions(l)},[l,o]),w4(l,f))throw Rp(l,o,r);if(x4({result:f,errorResetBoundary:r,throwOnError:l.throwOnError,query:s.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw f.error;if((m=(d=s.getDefaultOptions().queries)==null?void 0:d._experimental_afterQuery)==null||m.call(d,l,f),l.experimental_prefetchInRender&&!Bs&&E4(f,a)){const v=c?Rp(l,o,r):(S=s.getQueryCache().get(l.queryHash))==null?void 0:S.promise;v==null||v.catch(St).finally(()=>{o.updateResult()})}return l.notifyOnChangeProps?f:o.trackResult(f)}function Ro(e,t){return N4(e,s4)}function Tl(e,t){const n=ja(),[a]=G.useState(()=>new c4(n,e));G.useEffect(()=>{a.setOptions(e)},[a,e]);const r=G.useSyncExternalStore(G.useCallback(l=>a.subscribe(Fe.batchCalls(l)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),s=G.useCallback((l,c)=>{a.mutate(l,c).catch(St)},[a]);if(r.error&&H2(a.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:s,mutateAsync:r.mutate}}var Op;(function(e){e[e.SysFatal=1]="SysFatal",e[e.SysTransient=2]="SysTransient",e[e.DestinationInvalid=3]="DestinationInvalid",e[e.CanisterReject=4]="CanisterReject",e[e.CanisterError=5]="CanisterError"})(Op||(Op={}));var dl;(function(e){e.Replied="replied",e.Rejected="rejected"})(dl||(dl={}));function S4(e){return e!=null&&"reject_code"in e}function _4(e){return e!=null&&"certificate"in e}const lf="abcdefghijklmnopqrstuvwxyz234567",ml=Object.create(null);for(let e=0;e<lf.length;e++)ml[lf[e]]=e;ml[0]=ml.o;ml[1]=ml.i;function T4(e){let t=0,n=0,a="";function r(s){return t<0?n|=s>>-t:n=s<<t&248,t>3?(t-=8,1):(t<4&&(a+=lf[n>>3],t+=5),0)}for(let s=0;s<e.length;)s+=r(e[s]);return a+(t<0?lf[n>>3]:"")}function A4(e){let t=0,n=0;const a=new Uint8Array(e.length*4/3|0);let r=0;function s(l){let c=ml[l.toLowerCase()];if(c===void 0)throw new Error(`Invalid character: ${JSON.stringify(l)}`);c<<=3,n|=c>>>t,t+=5,t>=8&&(a[r++]=n,t-=8,t>0?n=c<<5-t&255:n=0)}for(const l of e)s(l);return a.slice(0,r)}const R4=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function O4(e){let t=-1;for(let n=0;n<e.length;n++){const r=(e[n]^t)&255;t=R4[r]^t>>>8}return(t^-1)>>>0}const Xs=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function sy(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function C4(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function vt(e,...t){if(!sy(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Cp(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function M4(e,t){vt(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Mc(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Wd(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Bn(e,t){return e<<32-t|e>>>t}const F2=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",B4=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function de(e){if(vt(e),F2)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=B4[e[n]];return t}const ra={_0:48,_9:57,A:65,F:70,a:97,f:102};function Mp(e){if(e>=ra._0&&e<=ra._9)return e-ra._0;if(e>=ra.A&&e<=ra.F)return e-(ra.A-10);if(e>=ra.a&&e<=ra.f)return e-(ra.a-10)}function Pn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(F2)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const a=new Uint8Array(n);for(let r=0,s=0;r<n;r++,s+=2){const l=Mp(e.charCodeAt(s)),c=Mp(e.charCodeAt(s+1));if(l===void 0||c===void 0){const o=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+o+'" at index '+s)}a[r]=l*16+c}return a}function ke(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function J2(e){return typeof e=="string"&&(e=ke(e)),vt(e),e}function ue(...e){let t=0;for(let a=0;a<e.length;a++){const r=e[a];vt(r),t+=r.length}const n=new Uint8Array(t);for(let a=0,r=0;a<e.length;a++){const s=e[a];n.set(s,r),r+=s.length}return n}class U4{}function iy(e){const t=a=>e().update(J2(a)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function W2(e=32){if(Xs&&typeof Xs.getRandomValues=="function")return Xs.getRandomValues(new Uint8Array(e));if(Xs&&typeof Xs.randomBytes=="function")return Uint8Array.from(Xs.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function q4(e,t,n,a){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,a);const r=BigInt(32),s=BigInt(4294967295),l=Number(n>>r&s),c=Number(n&s),o=a?4:0,f=a?0:4;e.setUint32(t+o,l,a),e.setUint32(t+f,c,a)}function D4(e,t,n){return e&t^~e&n}function z4(e,t,n){return e&t^e&n^t&n}class ev extends U4{constructor(t,n,a,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=a,this.isLE=r,this.buffer=new Uint8Array(t),this.view=Wd(this.buffer)}update(t){Cp(this),t=J2(t),vt(t);const{view:n,buffer:a,blockLen:r}=this,s=t.length;for(let l=0;l<s;){const c=Math.min(r-this.pos,s-l);if(c===r){const o=Wd(t);for(;r<=s-l;l+=r)this.process(o,l);continue}a.set(t.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Cp(this),M4(t,this),this.finished=!0;const{buffer:n,view:a,blockLen:r,isLE:s}=this;let{pos:l}=this;n[l++]=128,Mc(this.buffer.subarray(l)),this.padOffset>r-l&&(this.process(a,0),l=0);for(let h=l;h<r;h++)n[h]=0;q4(a,r-8,BigInt(this.length*8),s),this.process(a,0);const c=Wd(t),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=o/4,g=this.get();if(f>g.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<f;h++)c.setUint32(4*h,g[h],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const a=t.slice(0,n);return this.destroy(),a}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:a,length:r,finished:s,destroyed:l,pos:c}=this;return t.destroyed=l,t.finished=s,t.length=r,t.pos=c,r%n&&t.buffer.set(a),t}clone(){return this._cloneInto()}}const Va=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ga=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),yt=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Po=BigInt(2**32-1),Bp=BigInt(32);function j4(e,t=!1){return t?{h:Number(e&Po),l:Number(e>>Bp&Po)}:{h:Number(e>>Bp&Po)|0,l:Number(e&Po)|0}}function k4(e,t=!1){const n=e.length;let a=new Uint32Array(n),r=new Uint32Array(n);for(let s=0;s<n;s++){const{h:l,l:c}=j4(e[s],t);[a[s],r[s]]=[l,c]}return[a,r]}const Up=(e,t,n)=>e>>>n,qp=(e,t,n)=>e<<32-n|t>>>n,$s=(e,t,n)=>e>>>n|t<<32-n,Ps=(e,t,n)=>e<<32-n|t>>>n,Fo=(e,t,n)=>e<<64-n|t>>>n-32,Jo=(e,t,n)=>e>>>n-32|t<<64-n;function sa(e,t,n,a){const r=(t>>>0)+(a>>>0);return{h:e+n+(r/2**32|0)|0,l:r|0}}const H4=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),V4=(e,t,n,a)=>t+n+a+(e/2**32|0)|0,G4=(e,t,n,a)=>(e>>>0)+(t>>>0)+(n>>>0)+(a>>>0),K4=(e,t,n,a,r)=>t+n+a+r+(e/2**32|0)|0,Y4=(e,t,n,a,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(a>>>0)+(r>>>0),L4=(e,t,n,a,r,s)=>t+n+a+r+s+(e/2**32|0)|0,I4=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ka=new Uint32Array(64);class tv extends ev{constructor(t=32){super(64,t,8,!1),this.A=Va[0]|0,this.B=Va[1]|0,this.C=Va[2]|0,this.D=Va[3]|0,this.E=Va[4]|0,this.F=Va[5]|0,this.G=Va[6]|0,this.H=Va[7]|0}get(){const{A:t,B:n,C:a,D:r,E:s,F:l,G:c,H:o}=this;return[t,n,a,r,s,l,c,o]}set(t,n,a,r,s,l,c,o){this.A=t|0,this.B=n|0,this.C=a|0,this.D=r|0,this.E=s|0,this.F=l|0,this.G=c|0,this.H=o|0}process(t,n){for(let h=0;h<16;h++,n+=4)Ka[h]=t.getUint32(n,!1);for(let h=16;h<64;h++){const u=Ka[h-15],d=Ka[h-2],m=Bn(u,7)^Bn(u,18)^u>>>3,S=Bn(d,17)^Bn(d,19)^d>>>10;Ka[h]=S+Ka[h-7]+m+Ka[h-16]|0}let{A:a,B:r,C:s,D:l,E:c,F:o,G:f,H:g}=this;for(let h=0;h<64;h++){const u=Bn(c,6)^Bn(c,11)^Bn(c,25),d=g+u+D4(c,o,f)+I4[h]+Ka[h]|0,S=(Bn(a,2)^Bn(a,13)^Bn(a,22))+z4(a,r,s)|0;g=f,f=o,o=c,c=l+d|0,l=s,s=r,r=a,a=d+S|0}a=a+this.A|0,r=r+this.B|0,s=s+this.C|0,l=l+this.D|0,c=c+this.E|0,o=o+this.F|0,f=f+this.G|0,g=g+this.H|0,this.set(a,r,s,l,c,o,f,g)}roundClean(){Mc(Ka)}destroy(){this.set(0,0,0,0,0,0,0,0),Mc(this.buffer)}}class Q4 extends tv{constructor(){super(28),this.A=Ga[0]|0,this.B=Ga[1]|0,this.C=Ga[2]|0,this.D=Ga[3]|0,this.E=Ga[4]|0,this.F=Ga[5]|0,this.G=Ga[6]|0,this.H=Ga[7]|0}}const nv=k4(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Z4=nv[0],X4=nv[1],Ya=new Uint32Array(80),La=new Uint32Array(80);class $4 extends ev{constructor(t=64){super(128,t,16,!1),this.Ah=yt[0]|0,this.Al=yt[1]|0,this.Bh=yt[2]|0,this.Bl=yt[3]|0,this.Ch=yt[4]|0,this.Cl=yt[5]|0,this.Dh=yt[6]|0,this.Dl=yt[7]|0,this.Eh=yt[8]|0,this.El=yt[9]|0,this.Fh=yt[10]|0,this.Fl=yt[11]|0,this.Gh=yt[12]|0,this.Gl=yt[13]|0,this.Hh=yt[14]|0,this.Hl=yt[15]|0}get(){const{Ah:t,Al:n,Bh:a,Bl:r,Ch:s,Cl:l,Dh:c,Dl:o,Eh:f,El:g,Fh:h,Fl:u,Gh:d,Gl:m,Hh:S,Hl:v}=this;return[t,n,a,r,s,l,c,o,f,g,h,u,d,m,S,v]}set(t,n,a,r,s,l,c,o,f,g,h,u,d,m,S,v){this.Ah=t|0,this.Al=n|0,this.Bh=a|0,this.Bl=r|0,this.Ch=s|0,this.Cl=l|0,this.Dh=c|0,this.Dl=o|0,this.Eh=f|0,this.El=g|0,this.Fh=h|0,this.Fl=u|0,this.Gh=d|0,this.Gl=m|0,this.Hh=S|0,this.Hl=v|0}process(t,n){for(let b=0;b<16;b++,n+=4)Ya[b]=t.getUint32(n),La[b]=t.getUint32(n+=4);for(let b=16;b<80;b++){const N=Ya[b-15]|0,w=La[b-15]|0,C=$s(N,w,1)^$s(N,w,8)^Up(N,w,7),B=Ps(N,w,1)^Ps(N,w,8)^qp(N,w,7),D=Ya[b-2]|0,j=La[b-2]|0,O=$s(D,j,19)^Fo(D,j,61)^Up(D,j,6),_=Ps(D,j,19)^Jo(D,j,61)^qp(D,j,6),U=G4(B,_,La[b-7],La[b-16]),E=K4(U,C,O,Ya[b-7],Ya[b-16]);Ya[b]=E|0,La[b]=U|0}let{Ah:a,Al:r,Bh:s,Bl:l,Ch:c,Cl:o,Dh:f,Dl:g,Eh:h,El:u,Fh:d,Fl:m,Gh:S,Gl:v,Hh:p,Hl:y}=this;for(let b=0;b<80;b++){const N=$s(h,u,14)^$s(h,u,18)^Fo(h,u,41),w=Ps(h,u,14)^Ps(h,u,18)^Jo(h,u,41),C=h&d^~h&S,B=u&m^~u&v,D=Y4(y,w,B,X4[b],La[b]),j=L4(D,p,N,C,Z4[b],Ya[b]),O=D|0,_=$s(a,r,28)^Fo(a,r,34)^Fo(a,r,39),U=Ps(a,r,28)^Jo(a,r,34)^Jo(a,r,39),E=a&s^a&c^s&c,T=r&l^r&o^l&o;p=S|0,y=v|0,S=d|0,v=m|0,d=h|0,m=u|0,{h,l:u}=sa(f|0,g|0,j|0,O|0),f=c|0,g=o|0,c=s|0,o=l|0,s=a|0,l=r|0;const M=H4(O,U,T);a=V4(M,j,_,E),r=M|0}({h:a,l:r}=sa(this.Ah|0,this.Al|0,a|0,r|0)),{h:s,l}=sa(this.Bh|0,this.Bl|0,s|0,l|0),{h:c,l:o}=sa(this.Ch|0,this.Cl|0,c|0,o|0),{h:f,l:g}=sa(this.Dh|0,this.Dl|0,f|0,g|0),{h,l:u}=sa(this.Eh|0,this.El|0,h|0,u|0),{h:d,l:m}=sa(this.Fh|0,this.Fl|0,d|0,m|0),{h:S,l:v}=sa(this.Gh|0,this.Gl|0,S|0,v|0),{h:p,l:y}=sa(this.Hh|0,this.Hl|0,p|0,y|0),this.set(a,r,s,l,c,o,f,g,h,u,d,m,S,v,p,y)}roundClean(){Mc(Ya,La)}destroy(){Mc(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Zt=iy(()=>new tv),P4=iy(()=>new Q4),F4=iy(()=>new $4),Wo="__principal__",J4=2,Dp=4,W4="aaaaa-aa";let se=class ni{static anonymous(){return new this(new Uint8Array([Dp]))}static managementCanister(){return this.fromText(W4)}static selfAuthenticating(t){const n=P4(t);return new this(new Uint8Array([...n,J4]))}static from(t){if(typeof t=="string")return ni.fromText(t);if(Object.getPrototypeOf(t)===Uint8Array.prototype)return new ni(t);if(ni.isPrincipal(t))return new ni(t._arr);throw new Error(`Impossible to convert ${JSON.stringify(t)} to Principal.`)}static fromHex(t){return new this(Pn(t))}static fromText(t){let n=t;if(t.includes(Wo)){const l=JSON.parse(t);Wo in l&&(n=l[Wo])}const a=n.toLowerCase().replace(/-/g,"");let r=A4(a);r=r.slice(4,r.length);const s=new this(r);if(s.toText()!==n)throw new Error(`Principal "${s.toText()}" does not have a valid checksum (original value "${n}" may not be a valid Principal ID).`);return s}static fromUint8Array(t){return new this(t)}static isPrincipal(t){return t instanceof ni||typeof t=="object"&&t!==null&&"_isPrincipal"in t&&t._isPrincipal===!0&&"_arr"in t&&t._arr instanceof Uint8Array}constructor(t){this._arr=t,this._isPrincipal=!0}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===Dp}toUint8Array(){return this._arr}toHex(){return de(this._arr).toUpperCase()}toText(){const t=new ArrayBuffer(4);new DataView(t).setUint32(0,O4(this._arr));const a=new Uint8Array(t),r=new Uint8Array([...a,...this._arr]),l=T4(r).match(/.{1,5}/g);if(!l)throw new Error;return l.join("-")}toString(){return this.toText()}toJSON(){return{[Wo]:this.toText()}}compareTo(t){for(let n=0;n<Math.min(this._arr.length,t._arr.length);n++){if(this._arr[n]<t._arr[n])return"lt";if(this._arr[n]>t._arr[n])return"gt"}return this._arr.length<t._arr.length?"lt":this._arr.length>t._arr.length?"gt":"eq"}ltEq(t){const n=this.compareTo(t);return n=="lt"||n=="eq"}gtEq(t){const n=this.compareTo(t);return n=="gt"||n=="eq"}};var Ua;(function(e){e.Trust="Trust",e.Protocol="Protocol",e.Reject="Reject",e.Transport="Transport",e.External="External",e.Limit="Limit",e.Input="Input",e.Unknown="Unknown"})(Ua||(Ua={}));class ne{constructor(t=!1){this.isCertified=t}toString(){let t=this.toErrorMessage();return this.requestContext&&(t+=`
Request context:
  Request ID (hex): ${this.requestContext.requestId?de(this.requestContext.requestId):"undefined"}
  Sender pubkey (hex): ${de(this.requestContext.senderPubKey)}
  Sender signature (hex): ${de(this.requestContext.senderSignature)}
  Ingress expiry: ${this.requestContext.ingressExpiry.toString()}`),this.callContext&&(t+=`
Call context:
  Canister ID: ${this.callContext.canisterId.toText()}
  Method name: ${this.callContext.methodName}
  HTTP details: ${JSON.stringify(this.callContext.httpDetails,null,2)}`),t}}class ga extends Error{get code(){return this.cause.code}set code(t){this.cause.code=t}get kind(){return this.cause.kind}set kind(t){this.cause.kind=t}get isCertified(){return this.code.isCertified}constructor(t,n){super(t.toString()),this.name="AgentError",this.cause={code:t,kind:n},Object.setPrototypeOf(this,ga.prototype)}hasCode(t){return this.code instanceof t}toString(){return`${this.name} (${this.kind}): ${this.message}`}}class Ls extends ga{static fromCode(t){return new this(t)}}class hn extends Ls{constructor(t){super(t,Ua.Trust),this.name="TrustError",Object.setPrototypeOf(this,hn.prototype)}}class Ve extends Ls{constructor(t){super(t,Ua.Protocol),this.name="ProtocolError",Object.setPrototypeOf(this,Ve.prototype)}}class Bi extends Ls{constructor(t){super(t,Ua.Reject),this.name="RejectError",Object.setPrototypeOf(this,Bi.prototype)}}class cf extends Ls{constructor(t){super(t,Ua.Transport),this.name="TransportError",Object.setPrototypeOf(this,cf.prototype)}}class Tt extends Ls{constructor(t){super(t,Ua.External),this.name="ExternalError",Object.setPrototypeOf(this,Tt.prototype)}}class _e extends Ls{constructor(t){super(t,Ua.Input),this.name="InputError",Object.setPrototypeOf(this,_e.prototype)}}class Lt extends Ls{constructor(t){super(t,Ua.Unknown),this.name="UnknownError",Object.setPrototypeOf(this,Lt.prototype)}}class Bc extends ne{constructor(t){super(),this.reason=t,this.name="CertificateVerificationErrorCode",Object.setPrototypeOf(this,Bc.prototype)}toErrorMessage(){return`Certificate verification error: "${this.reason}"`}}class of extends ne{constructor(t,n,a,r){super(),this.maxAgeInMinutes=t,this.certificateTime=n,this.currentTime=a,this.ageType=r,this.name="CertificateTimeErrorCode",Object.setPrototypeOf(this,of.prototype)}toErrorMessage(){return`Certificate is signed more than ${this.maxAgeInMinutes} minutes in the ${this.ageType}. Certificate time: ${this.certificateTime.toISOString()} Current time: ${this.currentTime.toISOString()}`}}class ly extends ne{constructor(){super(),this.name="CertificateHasTooManyDelegationsErrorCode",Object.setPrototypeOf(this,ly.prototype)}toErrorMessage(){return"Certificate has too many delegations"}}class Wf extends ne{constructor(t,n){super(),this.canisterId=t,this.subnetId=n,this.name="CertificateNotAuthorizedErrorCode",Object.setPrototypeOf(this,Wf.prototype)}toErrorMessage(){return`The certificate contains a delegation that does not include the canister ${this.canisterId.toText()} in the canister_ranges field. Subnet ID: 0x${de(this.subnetId)}`}}class hl extends ne{constructor(t,n){super(),this.message=t,this.lookupStatus=n,this.name="LookupErrorCode",Object.setPrototypeOf(this,hl.prototype)}toErrorMessage(){return`${this.message}. Lookup status: ${this.lookupStatus}`}}class ed extends ne{constructor(t){super(),this.message=t,this.name="MalformedLookupFoundValueErrorCode",Object.setPrototypeOf(this,ed.prototype)}toErrorMessage(){return this.message}}class cy extends ne{constructor(t){super(),this.message=t,this.name="MissingLookupValueErrorCode",Object.setPrototypeOf(this,cy.prototype)}toErrorMessage(){return this.message}}class td extends ne{constructor(t,n){super(),this.expectedLength=t,this.actualLength=n,this.name="DerKeyLengthMismatchErrorCode",Object.setPrototypeOf(this,td.prototype)}toErrorMessage(){return`BLS DER-encoded public key must be ${this.expectedLength} bytes long, but is ${this.actualLength} bytes long`}}class oy extends ne{constructor(t,n){super(),this.expectedPrefix=t,this.actualPrefix=n,this.name="DerPrefixMismatchErrorCode",Object.setPrototypeOf(this,oy.prototype)}toErrorMessage(){return`BLS DER-encoded public key is invalid. Expected the following prefix: ${de(this.expectedPrefix)}, but got ${de(this.actualPrefix)}`}}class uy extends ne{constructor(t,n){super(),this.expectedLength=t,this.actualLength=n,this.name="DerDecodeLengthMismatchErrorCode",Object.setPrototypeOf(this,uy.prototype)}toErrorMessage(){return`DER payload mismatch: Expected length ${this.expectedLength}, actual length: ${this.actualLength}`}}class qa extends ne{constructor(t){super(),this.error=t,this.name="DerDecodeErrorCode",Object.setPrototypeOf(this,qa.prototype)}toErrorMessage(){return`Failed to decode DER: ${this.error}`}}class nd extends ne{constructor(t){super(),this.error=t,this.name="DerEncodeErrorCode",Object.setPrototypeOf(this,nd.prototype)}toErrorMessage(){return`Failed to encode DER: ${this.error}`}}class fy extends ne{constructor(t,n){super(),this.error=t,this.input=n,this.name="CborDecodeErrorCode",Object.setPrototypeOf(this,fy.prototype)}toErrorMessage(){return`Failed to decode CBOR: ${this.error}, input: ${de(this.input)}`}}class dy extends ne{constructor(t,n){super(),this.error=t,this.value=n,this.name="CborEncodeErrorCode",Object.setPrototypeOf(this,dy.prototype)}toErrorMessage(){return`Failed to encode CBOR: ${this.error}, input: ${this.value}`}}class Uc extends ne{constructor(t,n,a){super(),this.message=t,this.requestId=n,this.status=a,this.name="TimeoutWaitingForResponseErrorCode",Object.setPrototypeOf(this,Uc.prototype)}toErrorMessage(){let t=`${this.message}
`;return this.requestId&&(t+=`  Request ID: ${de(this.requestId)}
`),this.status&&(t+=`  Request status: ${this.status}
`),t}}class my extends ne{constructor(t,n,a){super(),this.maxIngressExpiryInMinutes=t,this.requestId=n,this.retryTimes=a,this.name="CertificateOutdatedErrorCode",Object.setPrototypeOf(this,my.prototype)}toErrorMessage(){let t=`Certificate is stale (over ${this.maxIngressExpiryInMinutes} minutes). Is the computer's clock synchronized?
  Request ID: ${de(this.requestId)}
`;return this.retryTimes!==void 0&&(t+=`  Retried ${this.retryTimes} times.`),t}}class qc extends ne{constructor(t,n,a,r){super(!0),this.requestId=t,this.rejectCode=n,this.rejectMessage=a,this.rejectErrorCode=r,this.name="CertifiedRejectErrorCode",Object.setPrototypeOf(this,qc.prototype)}toErrorMessage(){return`The replica returned a rejection error:
  Request ID: ${de(this.requestId)}
  Reject code: ${this.rejectCode}
  Reject text: ${this.rejectMessage}
  Error code: ${this.rejectErrorCode}
`}}class hy extends ne{constructor(t,n,a,r,s){super(),this.requestId=t,this.rejectCode=n,this.rejectMessage=a,this.rejectErrorCode=r,this.signatures=s,this.name="UncertifiedRejectErrorCode",Object.setPrototypeOf(this,hy.prototype)}toErrorMessage(){return`The replica returned a rejection error:
  Request ID: ${de(this.requestId)}
  Reject code: ${this.rejectCode}
  Reject text: ${this.rejectMessage}
  Error code: ${this.rejectErrorCode}
`}}class yy extends ne{constructor(t){super(),this.requestId=t,this.name="RequestStatusDoneNoReplyErrorCode",Object.setPrototypeOf(this,yy.prototype)}toErrorMessage(){return`Call was marked as done but we never saw the reply:
  Request ID: ${de(this.requestId)}
`}}class qs extends ne{constructor(t){super(),this.shouldFetchRootKey=t,this.name="MissingRootKeyErrorCode",Object.setPrototypeOf(this,qs.prototype)}toErrorMessage(){return this.shouldFetchRootKey===void 0?"Agent is missing root key":`Agent is missing root key and the shouldFetchRootKey value is set to ${this.shouldFetchRootKey}. The root key should only be unknown if you are in local development. Otherwise you should avoid fetching and use the default IC Root Key or the known root key of your environment.`}}class gy extends ne{constructor(t){super(),this.value=t,this.name="HashValueErrorCode",Object.setPrototypeOf(this,gy.prototype)}toErrorMessage(){return`Attempt to hash a value of unsupported type: ${this.value}`}}class uc extends ne{constructor(t){super(),this.error=t,this.name="HttpDefaultFetchErrorCode",Object.setPrototypeOf(this,uc.prototype)}toErrorMessage(){return this.error}}class Wr extends ne{constructor(){super(),this.name="IdentityInvalidErrorCode",Object.setPrototypeOf(this,Wr.prototype)}toErrorMessage(){return"This identity has expired due this application's security policy. Please refresh your authentication."}}class bi extends ne{constructor(t,n){super(),this.message=t,this.providedIngressExpiryInMinutes=n,this.name="IngressExpiryInvalidErrorCode",Object.setPrototypeOf(this,bi.prototype)}toErrorMessage(){return`${this.message}. Provided ingress expiry time is ${this.providedIngressExpiryInMinutes} minutes.`}}class py extends ne{constructor(){super(),this.name="CreateHttpAgentErrorCode",Object.setPrototypeOf(this,py.prototype)}toErrorMessage(){return"Failed to create agent from provided agent"}}class by extends ne{constructor(t){super(),this.error=t,this.name="MalformedSignatureErrorCode",Object.setPrototypeOf(this,by.prototype)}toErrorMessage(){return`Query response contained a malformed signature: ${this.error}`}}class uf extends ne{constructor(){super(),this.name="MissingSignatureErrorCode",Object.setPrototypeOf(this,uf.prototype)}toErrorMessage(){return"Query response did not contain any node signatures"}}class xy extends ne{constructor(){super(),this.name="MalformedPublicKeyErrorCode",Object.setPrototypeOf(this,xy.prototype)}toErrorMessage(){return"Read state response contained a malformed public key"}}class vy extends ne{constructor(t){super(),this.nodeId=t,this.name="QuerySignatureVerificationFailedErrorCode",Object.setPrototypeOf(this,vy.prototype)}toErrorMessage(){return`Query signature verification failed. Node ID: ${this.nodeId}`}}class Kn extends ne{constructor(t){super(),this.error=t,this.name="UnexpectedErrorCode",Object.setPrototypeOf(this,Kn.prototype)}toErrorMessage(){return`Unexpected error: ${this.error}`}}class Oo extends ne{constructor(t){super(),this.error=t,this.name="HashTreeDecodeErrorCode",Object.setPrototypeOf(this,Oo.prototype)}toErrorMessage(){return`Failed to decode certificate: ${this.error}`}}class ff extends ne{constructor(t,n,a,r){super(),this.status=t,this.statusText=n,this.headers=a,this.bodyText=r,this.name="HttpErrorCode",Object.setPrototypeOf(this,ff.prototype)}toErrorMessage(){let t=`HTTP request failed:
  Status: ${this.status} (${this.statusText})
  Headers: ${JSON.stringify(this.headers)}
`;return this.bodyText&&(t+=`  Body: ${this.bodyText}
`),t}}class df extends ne{constructor(){super(),this.name="HttpV3ApiNotSupportedErrorCode",Object.setPrototypeOf(this,df.prototype)}toErrorMessage(){return"HTTP request failed: v3 API is not supported"}}class mf extends ne{constructor(t){super(),this.error=t,this.name="HttpFetchErrorCode",Object.setPrototypeOf(this,mf.prototype)}toErrorMessage(){return`Failed to fetch HTTP request: ${this.error}`}}class hf extends ne{constructor(t){super(),this.receivedCanisterId=t,this.name="MissingCanisterIdErrorCode",Object.setPrototypeOf(this,hf.prototype)}toErrorMessage(){return`Canister ID is required, but received ${typeof this.receivedCanisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`}}class Ey extends ne{constructor(t){super(),this.request=t,this.name="InvalidReadStateRequestErrorCode",Object.setPrototypeOf(this,Ey.prototype)}toErrorMessage(){return`Invalid read state request: ${this.request}`}}class yf extends ne{constructor(t){super(),this.error=t,this.name="ExpiryJsonDeserializeErrorCode",Object.setPrototypeOf(this,yf.prototype)}toErrorMessage(){return`Failed to deserialize expiry: ${this.error}`}}const Ui=new Error("unreachable");function ce(...e){const t=new Uint8Array(e.reduce((a,r)=>a+r.byteLength,0));let n=0;for(const a of e)t.set(a,n),n+=a.byteLength;return t}class Al{save(){return this._view}restore(t){if(!(t instanceof Uint8Array))throw new Error("Checkpoint must be a Uint8Array");this._view=t}constructor(t,n=(t==null?void 0:t.byteLength)||0){if(t&&!(t instanceof Uint8Array))try{t=Dr(t)}catch{throw new Error("Buffer must be a Uint8Array")}if(n<0||!Number.isInteger(n))throw new Error("Length must be a non-negative integer");if(t&&n>t.byteLength)throw new Error("Length cannot exceed buffer length");this._buffer=t||new Uint8Array(0),this._view=new Uint8Array(this._buffer.buffer,0,n)}get buffer(){return this._view.slice()}get byteLength(){return this._view.byteLength}read(t){const n=this._view.subarray(0,t);return this._view=this._view.subarray(t),n.slice()}readUint8(){if(this._view.byteLength===0)return;const t=this._view[0];return this._view=this._view.subarray(1),t}write(t){if(!(t instanceof Uint8Array))throw new Error("Buffer must be a Uint8Array");const n=this._view.byteLength;this._view.byteOffset+this._view.byteLength+t.byteLength>=this._buffer.byteLength?this.alloc(t.byteLength):this._view=new Uint8Array(this._buffer.buffer,this._view.byteOffset,this._view.byteLength+t.byteLength),this._view.set(t,n)}get end(){return this._view.byteLength===0}alloc(t){if(t<=0||!Number.isInteger(t))throw new Error("Amount must be a positive integer");const n=new Uint8Array((this._buffer.byteLength+t)*1.2|0),a=new Uint8Array(n.buffer,0,this._view.byteLength+t);a.set(this._view),this._buffer=n,this._view=a}}function Dr(e){if(!e)throw new Error("Input cannot be null or undefined");return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):Array.isArray(e)?new Uint8Array(e):"buffer"in e?Dr(e.buffer):new Uint8Array(e)}function av(e,t){if(e.byteLength!==t.byteLength)return e.byteLength-t.byteLength;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]-t[n];return 0}function eN(e,t){return av(e,t)===0}function tN(e){if(!(e instanceof Uint8Array))throw new Error("Input must be a Uint8Array");return new DataView(e.buffer,e.byteOffset,e.byteLength)}function nN(e){const n=new TextEncoder().encode(e);let a=0;for(const r of n)a=(a*223+r)%2**32;return a}function zt(e){if(/^_\d+_$/.test(e)||/^_0x[0-9a-fA-F]+_$/.test(e)){const t=+e.slice(1,-1);if(Number.isSafeInteger(t)&&t>=0&&t<2**32)return t}return nN(e)}function rv(e){const t=BigInt(e);if(e<=0)throw new RangeError("Input must be positive");return t.toString(2).length-1}function z0(e){const t=BigInt(e);if(e<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<t}function sv(){throw new Error("unexpected end of buffer")}function Ds(e,t){return e.byteLength<t&&sv(),e.read(t)}function zs(e){const t=e.readUint8();return t===void 0&&sv(),t}function ze(e){if(typeof e=="number"&&(e=BigInt(e)),e<BigInt(0))throw new Error("Cannot leb encode negative values.");const t=(e===BigInt(0)?0:rv(e))+1,n=new Al(new Uint8Array(t),0);for(;;){const a=Number(e&BigInt(127));if(e/=BigInt(128),e===BigInt(0)){n.write(new Uint8Array([a]));break}else n.write(new Uint8Array([a|128]))}return n.buffer}function tt(e){let t=BigInt(1),n=BigInt(0),a;do a=zs(e),n+=BigInt(a&127).valueOf()*t,t*=BigInt(128);while(a>=128);return n}function et(e){typeof e=="number"&&(e=BigInt(e));const t=e<BigInt(0);t&&(e=-e-BigInt(1));const n=(e===BigInt(0)?0:rv(e))+1,a=new Al(new Uint8Array(n),0);for(;;){const s=r(e);if(e/=BigInt(128),t&&e===BigInt(0)&&s&64||!t&&e===BigInt(0)&&!(s&64)){a.write(new Uint8Array([s]));break}else a.write(new Uint8Array([s|128]))}function r(s){const l=s%BigInt(128);return Number(t?BigInt(128)-l-BigInt(1):l)}return a.buffer}function Za(e){const t=new Uint8Array(e.buffer);let n=0;for(;n<t.byteLength;n++)if(t[n]<128){if(!(t[n]&64))return tt(e);break}const a=new Uint8Array(Ds(e,n+1));let r=BigInt(0);for(let s=a.byteLength-1;s>=0;s--)r=r*BigInt(128)+BigInt(128-(a[s]&127)-1);return-r-BigInt(1)}function aN(e,t){if(BigInt(e)<BigInt(0))throw new Error("Cannot write negative values.");return iv(e,t)}function iv(e,t){e=BigInt(e);const n=new Al(new Uint8Array(Math.min(1,t)),0);let a=0,r=BigInt(256),s=BigInt(0),l=Number(e%r);for(n.write(new Uint8Array([l]));++a<t;)e<0&&s===BigInt(0)&&l!==0&&(s=BigInt(1)),l=Number((e/r-s)%BigInt(256)),n.write(new Uint8Array([l])),r*=BigInt(256);return n.buffer}function lv(e,t){if(t<=0||!Number.isInteger(t))throw new Error("Byte length must be a positive integer");let n=BigInt(zs(e)),a=BigInt(1),r=0;for(;++r<t;){a*=BigInt(256);const s=BigInt(zs(e));n=n+a*s}return n}function rN(e,t){if(t<=0||!Number.isInteger(t))throw new Error("Byte length must be a positive integer");let n=lv(e,t);const a=BigInt(2)**(BigInt(8)*BigInt(t-1)+BigInt(7));return n>=a&&(n-=a*BigInt(2)),n}var le;(function(e){e[e.Null=-1]="Null",e[e.Bool=-2]="Bool",e[e.Nat=-3]="Nat",e[e.Int=-4]="Int",e[e.Float32=-13]="Float32",e[e.Float64=-14]="Float64",e[e.Text=-15]="Text",e[e.Reserved=-16]="Reserved",e[e.Empty=-17]="Empty",e[e.Opt=-18]="Opt",e[e.Vector=-19]="Vector",e[e.Record=-20]="Record",e[e.Variant=-21]="Variant",e[e.Func=-22]="Func",e[e.Service=-23]="Service",e[e.Principal=-24]="Principal"})(le||(le={}));const bu="DIDL",zp=400;function Dc(e,t,n){return e.map((a,r)=>n(a,t[r]))}class sN{constructor(){this._typs=[],this._idx=new Map}has(t){return this._idx.has(t.name)}add(t,n){const a=this._typs.length;this._idx.set(t.name,a),this._typs.push(n)}merge(t,n){const a=this._idx.get(t.name),r=this._idx.get(n);if(a===void 0)throw new Error("Missing type index for "+t);if(r===void 0)throw new Error("Missing type index for "+n);this._typs[a]=this._typs[r],this._typs.splice(r,1),this._idx.delete(n)}encode(){const t=ze(this._typs.length),n=ce(...this._typs);return ce(t,n)}indexOf(t){if(!this._idx.has(t))throw new Error("Missing type index for "+t);return et(this._idx.get(t)||0)}}class iN{visitType(t,n){throw new Error("Not implemented")}visitPrimitive(t,n){return this.visitType(t,n)}visitEmpty(t,n){return this.visitPrimitive(t,n)}visitBool(t,n){return this.visitPrimitive(t,n)}visitNull(t,n){return this.visitPrimitive(t,n)}visitReserved(t,n){return this.visitPrimitive(t,n)}visitText(t,n){return this.visitPrimitive(t,n)}visitNumber(t,n){return this.visitPrimitive(t,n)}visitInt(t,n){return this.visitNumber(t,n)}visitNat(t,n){return this.visitNumber(t,n)}visitFloat(t,n){return this.visitPrimitive(t,n)}visitFixedInt(t,n){return this.visitNumber(t,n)}visitFixedNat(t,n){return this.visitNumber(t,n)}visitPrincipal(t,n){return this.visitPrimitive(t,n)}visitConstruct(t,n){return this.visitType(t,n)}visitVec(t,n,a){return this.visitConstruct(t,a)}visitOpt(t,n,a){return this.visitConstruct(t,a)}visitRecord(t,n,a){return this.visitConstruct(t,a)}visitTuple(t,n,a){const r=n.map((s,l)=>[`_${l}_`,s]);return this.visitRecord(t,r,a)}visitVariant(t,n,a){return this.visitConstruct(t,a)}visitRec(t,n,a){return this.visitConstruct(n,a)}visitFunc(t,n){return this.visitConstruct(t,n)}visitService(t,n){return this.visitConstruct(t,n)}}var F;(function(e){e.EmptyClass="__IDL_EmptyClass__",e.UnknownClass="__IDL_UnknownClass__",e.BoolClass="__IDL_BoolClass__",e.NullClass="__IDL_NullClass__",e.ReservedClass="__IDL_ReservedClass__",e.TextClass="__IDL_TextClass__",e.IntClass="__IDL_IntClass__",e.NatClass="__IDL_NatClass__",e.FloatClass="__IDL_FloatClass__",e.FixedIntClass="__IDL_FixedIntClass__",e.FixedNatClass="__IDL_FixedNatClass__",e.VecClass="__IDL_VecClass__",e.OptClass="__IDL_OptClass__",e.RecordClass="__IDL_RecordClass__",e.TupleClass="__IDL_TupleClass__",e.VariantClass="__IDL_VariantClass__",e.RecClass="__IDL_RecClass__",e.PrincipalClass="__IDL_PrincipalClass__",e.FuncClass="__IDL_FuncClass__",e.ServiceClass="__IDL_ServiceClass__"})(F||(F={}));class ad{display(){return this.name}valueToString(t){return Ke(t)}buildTypeTable(t){t.has(this)||this._buildTypeTableImpl(t)}}class xn extends ad{checkType(t){if(this.name!==t.name)throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`);return t}_buildTypeTableImpl(t){}}class Zr extends ad{checkType(t){if(t instanceof bn){const n=t.getType();if(typeof n>"u")throw new Error("type mismatch with uninitialized type");return n}throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`)}encodeType(t){return t.indexOf(this.name)}}class wy extends xn{get typeName(){return F.EmptyClass}static[Symbol.hasInstance](t){return t.typeName===F.EmptyClass}accept(t,n){return t.visitEmpty(this,n)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${Ke(t)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return et(le.Empty)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}}class cv extends ad{get typeName(){return F.UnknownClass}static[Symbol.hasInstance](t){return t.typeName===F.UnknownClass}checkType(t){throw new Error("Method not implemented for unknown.")}accept(t,n){throw t.visitType(this,n)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${Ke(t)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(t,n){let a=n.decodeValue(t,n);Object(a)!==a&&(a=Object(a));let r;return n instanceof bn?r=()=>n.getType():r=()=>n,Object.defineProperty(a,"type",{value:r,writable:!0,enumerable:!1,configurable:!0}),a}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class ov extends xn{get typeName(){return F.BoolClass}static[Symbol.hasInstance](t){return t.typeName===F.BoolClass}accept(t,n){return t.visitBool(this,n)}covariant(t){if(typeof t=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${Ke(t)}`)}encodeValue(t){return new Uint8Array([t?1:0])}encodeType(){return et(le.Bool)}decodeValue(t,n){switch(this.checkType(n),zs(t)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}}class zc extends xn{get typeName(){return F.NullClass}static[Symbol.hasInstance](t){return t.typeName===F.NullClass}accept(t,n){return t.visitNull(this,n)}covariant(t){if(t===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ke(t)}`)}encodeValue(){return new Uint8Array(0)}encodeType(){return et(le.Null)}decodeValue(t,n){return this.checkType(n),null}get name(){return"null"}}class Yr extends xn{get typeName(){return F.ReservedClass}static[Symbol.hasInstance](t){return t.typeName===F.ReservedClass}accept(t,n){return t.visitReserved(this,n)}covariant(t){return!0}encodeValue(){return new Uint8Array(0)}encodeType(){return et(le.Reserved)}decodeValue(t,n){return n.name!==this.name&&n.decodeValue(t,n),null}get name(){return"reserved"}}class uv extends xn{get typeName(){return F.TextClass}static[Symbol.hasInstance](t){return t.typeName===F.TextClass}accept(t,n){return t.visitText(this,n)}covariant(t){if(typeof t=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${Ke(t)}`)}encodeValue(t){const n=new TextEncoder().encode(t),a=ze(n.byteLength);return ce(a,n)}encodeType(){return et(le.Text)}decodeValue(t,n){this.checkType(n);const a=tt(t),r=Ds(t,Number(a));return new TextDecoder("utf8",{fatal:!0}).decode(r)}get name(){return"text"}valueToString(t){return'"'+t+'"'}}class Ny extends xn{get typeName(){return F.IntClass}static[Symbol.hasInstance](t){return t.typeName===F.IntClass}accept(t,n){return t.visitInt(this,n)}covariant(t){if(typeof t=="bigint"||Number.isInteger(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${Ke(t)}`)}encodeValue(t){return et(t)}encodeType(){return et(le.Int)}decodeValue(t,n){return this.checkType(n),Za(t)}get name(){return"int"}valueToString(t){return t.toString()}}class Sy extends xn{get typeName(){return F.NatClass}static[Symbol.hasInstance](t){return t.typeName===F.NatClass}accept(t,n){return t.visitNat(this,n)}covariant(t){if(typeof t=="bigint"&&t>=BigInt(0)||Number.isInteger(t)&&t>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ke(t)}`)}encodeValue(t){return ze(t)}encodeType(){return et(le.Nat)}decodeValue(t,n){return this.checkType(n),tt(t)}get name(){return"nat"}valueToString(t){return t.toString()}}class _y extends xn{get typeName(){return F.FloatClass}static[Symbol.hasInstance](t){return t.typeName===F.FloatClass}constructor(t){if(super(),this._bits=t,t!==32&&t!==64)throw new Error("not a valid float type")}accept(t,n){return t.visitFloat(this,n)}covariant(t){if(typeof t=="number"||t instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ke(t)}`)}encodeValue(t){const n=new ArrayBuffer(this._bits/8),a=new DataView(n);return this._bits===32?a.setFloat32(0,t,!0):a.setFloat64(0,t,!0),new Uint8Array(n)}encodeType(){const t=this._bits===32?le.Float32:le.Float64;return et(t)}decodeValue(t,n){this.checkType(n);const a=Ds(t,this._bits/8),r=tN(a);return this._bits===32?r.getFloat32(0,!0):r.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(t){return t.toString()}}class js extends xn{get typeName(){return F.FixedIntClass}static[Symbol.hasInstance](t){return t.typeName===F.FixedIntClass}constructor(t){super(),this._bits=t}accept(t,n){return t.visitFixedInt(this,n)}covariant(t){const n=z0(this._bits-1)*BigInt(-1),a=z0(this._bits-1)-BigInt(1);let r=!1;if(typeof t=="bigint")r=t>=n&&t<=a;else if(Number.isInteger(t)){const s=BigInt(t);r=s>=n&&s<=a}else r=!1;if(r)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ke(t)}`)}encodeValue(t){return iv(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return et(-9-t)}decodeValue(t,n){this.checkType(n);const a=rN(t,this._bits/8);return this._bits<=32?Number(a):a}get name(){return`int${this._bits}`}valueToString(t){return t.toString()}}class zr extends xn{get typeName(){return F.FixedNatClass}static[Symbol.hasInstance](t){return t.typeName===F.FixedNatClass}constructor(t){super(),this._bits=t}accept(t,n){return t.visitFixedNat(this,n)}covariant(t){const n=z0(this._bits);let a=!1;if(typeof t=="bigint"&&t>=BigInt(0)?a=t<n:Number.isInteger(t)&&t>=0?a=BigInt(t)<n:a=!1,a)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ke(t)}`)}encodeValue(t){return aN(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return et(-5-t)}decodeValue(t,n){this.checkType(n);const a=lv(t,this._bits/8);return this._bits<=32?Number(a):a}get name(){return`nat${this._bits}`}valueToString(t){return t.toString()}}class yl extends Zr{get typeName(){return F.VecClass}static[Symbol.hasInstance](t){return t.typeName===F.VecClass}constructor(t){super(),this._type=t,this._blobOptimization=!1,t instanceof zr&&t._bits===8&&(this._blobOptimization=!0)}accept(t,n){return t.visitVec(this,this._type,n)}covariant(t){const n=this._type instanceof zr?this._type._bits:this._type instanceof js?this._type._bits:0;if(ArrayBuffer.isView(t)&&n==t.BYTES_PER_ELEMENT*8||Array.isArray(t)&&t.every((a,r)=>{try{return this._type.covariant(a)}catch(s){throw new Error(`Invalid ${this.display()} argument: 

index ${r} -> ${s.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Ke(t)}`)}encodeValue(t){const n=ze(t.length);if(this._blobOptimization)return ce(n,new Uint8Array(t));if(ArrayBuffer.isView(t))if(t instanceof Int16Array||t instanceof Uint16Array){const r=new DataView(new ArrayBuffer(t.length*2));for(let s=0;s<t.length;s++)t instanceof Int16Array?r.setInt16(s*2,t[s],!0):r.setUint16(s*2,t[s],!0);return ce(n,new Uint8Array(r.buffer))}else if(t instanceof Int32Array||t instanceof Uint32Array){const r=new DataView(new ArrayBuffer(t.length*4));for(let s=0;s<t.length;s++)t instanceof Int32Array?r.setInt32(s*4,t[s],!0):r.setUint32(s*4,t[s],!0);return ce(n,new Uint8Array(r.buffer))}else if(t instanceof BigInt64Array||t instanceof BigUint64Array){const r=new DataView(new ArrayBuffer(t.length*8));for(let s=0;s<t.length;s++)t instanceof BigInt64Array?r.setBigInt64(s*8,t[s],!0):r.setBigUint64(s*8,t[s],!0);return ce(n,new Uint8Array(r.buffer))}else return ce(n,new Uint8Array(t.buffer,t.byteOffset,t.byteLength));const a=new Al(new Uint8Array(n.byteLength+t.length),0);a.write(n);for(const r of t){const s=this._type.encodeValue(r);a.write(new Uint8Array(s))}return a.buffer}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const n=et(le.Vector),a=this._type.encodeType(t);t.add(this,ce(n,a))}decodeValue(t,n){const a=this.checkType(n);if(!(a instanceof yl))throw new Error("Not a vector type");const r=Number(tt(t));if(this._type instanceof zr){if(this._type._bits==8)return new Uint8Array(t.read(r));if(this._type._bits==16){const l=t.read(r*2);return new Uint16Array(l.buffer,l.byteOffset,r)}if(this._type._bits==32){const l=t.read(r*4);return new Uint32Array(l.buffer,l.byteOffset,r)}if(this._type._bits==64)return new BigUint64Array(t.read(r*8).buffer)}if(this._type instanceof js){if(this._type._bits==8)return new Int8Array(t.read(r));if(this._type._bits==16){const l=t.read(r*2),c=new DataView(l.buffer,l.byteOffset,l.byteLength),o=new Int16Array(r);for(let f=0;f<r;f++)o[f]=c.getInt16(f*2,!0);return o}if(this._type._bits==32){const l=t.read(r*4),c=new DataView(l.buffer,l.byteOffset,l.byteLength),o=new Int32Array(r);for(let f=0;f<r;f++)o[f]=c.getInt32(f*4,!0);return o}if(this._type._bits==64){const l=t.read(r*8),c=new DataView(l.buffer,l.byteOffset,l.byteLength),o=new BigInt64Array(r);for(let f=0;f<r;f++)o[f]=c.getBigInt64(f*8,!0);return o}}const s=[];for(let l=0;l<r;l++)s.push(this._type.decodeValue(t,a._type));return s}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(t){return"vec {"+t.map(a=>this._type.valueToString(a)).join("; ")+"}"}}class Da extends Zr{get typeName(){return F.OptClass}static[Symbol.hasInstance](t){return t.typeName===F.OptClass}constructor(t){super(),this._type=t}accept(t,n){return t.visitOpt(this,this._type,n)}covariant(t){try{if(Array.isArray(t)&&(t.length===0||t.length===1&&this._type.covariant(t[0])))return!0}catch(n){throw new Error(`Invalid ${this.display()} argument: ${Ke(t)} 

-> ${n.message}`)}throw new Error(`Invalid ${this.display()} argument: ${Ke(t)}`)}encodeValue(t){return t.length===0?new Uint8Array([0]):ce(new Uint8Array([1]),this._type.encodeValue(t[0]))}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const n=et(le.Opt),a=this._type.encodeType(t);t.add(this,ce(n,a))}decodeValue(t,n){if(n instanceof zc)return[];if(n instanceof Yr)return[];let a=n;if(n instanceof bn){const r=n.getType();if(typeof r>"u")throw new Error("type mismatch with uninitialized type");a=r}if(a instanceof Da)switch(zs(t)){case 0:return[];case 1:{const r=t.save();try{return[this._type.decodeValue(t,a._type)]}catch{return t.restore(r),a._type.decodeValue(t,a._type),[]}}default:throw new Error("Not an option value")}else{if(this._type instanceof zc||this._type instanceof Da||this._type instanceof Yr)return a.decodeValue(t,a),[];{const r=t.save();try{return[this._type.decodeValue(t,n)]}catch{return t.restore(r),a.decodeValue(t,n),[]}}}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(t){return t.length===0?"null":`opt ${this._type.valueToString(t[0])}`}}class ks extends Zr{get typeName(){return F.RecordClass}static[Symbol.hasInstance](t){return t.typeName===F.RecordClass||t.typeName===F.TupleClass}constructor(t={}){super(),this._fields=Object.entries(t).sort((n,a)=>zt(n[0])-zt(a[0]))}accept(t,n){return t.visitRecord(this,this._fields,n)}tryAsTuple(){const t=[];for(let n=0;n<this._fields.length;n++){const[a,r]=this._fields[n];if(a!==`_${n}_`)return null;t.push(r)}return t}covariant(t){if(typeof t=="object"&&this._fields.every(([n,a])=>{if(!t.hasOwnProperty(n))throw new Error(`Record is missing key "${n}".`);try{return a.covariant(t[n])}catch(r){throw new Error(`Invalid ${this.display()} argument: 

field ${n} -> ${r.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Ke(t)}`)}encodeValue(t){const n=this._fields.map(([r])=>t[r]),a=Dc(this._fields,n,([,r],s)=>r.encodeValue(s));return ce(...a)}_buildTypeTableImpl(t){this._fields.forEach(([s,l])=>l.buildTypeTable(t));const n=et(le.Record),a=ze(this._fields.length),r=this._fields.map(([s,l])=>ce(ze(zt(s)),l.encodeType(t)));t.add(this,ce(n,a,ce(...r)))}decodeValue(t,n){const a=this.checkType(n);if(!(a instanceof ks))throw new Error("Not a record type");const r={};let s=0,l=0;for(;l<a._fields.length;){const[c,o]=a._fields[l];if(s>=this._fields.length){o.decodeValue(t,o),l++;continue}const[f,g]=this._fields[s],h=zt(this._fields[s][0]),u=zt(c);if(h===u)r[f]=g.decodeValue(t,o),s++,l++;else if(u>h)if(g instanceof Da||g instanceof Yr)r[f]=[],s++;else throw new Error("Cannot find required field "+f);else o.decodeValue(t,o),l++}for(const[c,o]of this._fields.slice(s))if(o instanceof Da||o instanceof Yr)r[c]=[];else throw new Error("Cannot find required field "+c);return r}get fieldsAsObject(){const t={};for(const[n,a]of this._fields)t[zt(n)]=a;return t}get name(){return`record {${this._fields.map(([n,a])=>n+":"+a.name).join("; ")}}`}display(){return`record {${this._fields.map(([n,a])=>n+":"+a.display()).join("; ")}}`}valueToString(t){const n=this._fields.map(([r])=>t[r]);return`record {${Dc(this._fields,n,([r,s],l)=>r+"="+s.valueToString(l)).join("; ")}}`}}class rd extends ks{get typeName(){return F.TupleClass}static[Symbol.hasInstance](t){return t.typeName===F.TupleClass}constructor(t){const n={};t.forEach((a,r)=>n["_"+r+"_"]=a),super(n),this._components=t}accept(t,n){return t.visitTuple(this,this._components,n)}covariant(t){if(Array.isArray(t)&&t.length>=this._fields.length&&this._components.every((n,a)=>{try{return n.covariant(t[a])}catch(r){throw new Error(`Invalid ${this.display()} argument: 

index ${a} -> ${r.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Ke(t)}`)}encodeValue(t){const n=Dc(this._components,t,(a,r)=>a.encodeValue(r));return ce(...n)}decodeValue(t,n){const a=this.checkType(n);if(!(a instanceof rd))throw new Error("not a tuple type");if(a._components.length<this._components.length)throw new Error("tuple mismatch");const r=[];for(const[s,l]of a._components.entries())s>=this._components.length?l.decodeValue(t,l):r.push(this._components[s].decodeValue(t,l));return r}display(){return`record {${this._components.map(n=>n.display()).join("; ")}}`}valueToString(t){return`record {${Dc(this._components,t,(a,r)=>a.valueToString(r)).join("; ")}}`}}class gl extends Zr{get typeName(){return F.VariantClass}static[Symbol.hasInstance](t){return t.typeName===F.VariantClass}constructor(t={}){super(),this._fields=Object.entries(t).sort((n,a)=>zt(n[0])-zt(a[0]))}accept(t,n){return t.visitVariant(this,this._fields,n)}covariant(t){if(typeof t=="object"&&Object.entries(t).length===1&&this._fields.every(([n,a])=>{try{return!t.hasOwnProperty(n)||a.covariant(t[n])}catch(r){throw new Error(`Invalid ${this.display()} argument: 

variant ${n} -> ${r.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Ke(t)}`)}encodeValue(t){for(let n=0;n<this._fields.length;n++){const[a,r]=this._fields[n];if(t.hasOwnProperty(a)){const s=ze(n),l=r.encodeValue(t[a]);return ce(s,l)}}throw Error("Variant has no data: "+t)}_buildTypeTableImpl(t){this._fields.forEach(([,s])=>{s.buildTypeTable(t)});const n=et(le.Variant),a=ze(this._fields.length),r=this._fields.map(([s,l])=>ce(ze(zt(s)),l.encodeType(t)));t.add(this,ce(n,a,...r))}decodeValue(t,n){const a=this.checkType(n);if(!(a instanceof gl))throw new Error("Not a variant type");const r=Number(tt(t));if(r>=a._fields.length)throw Error("Invalid variant index: "+r);const[s,l]=a._fields[r];for(const[c,o]of this._fields)if(zt(s)===zt(c)){const f=o.decodeValue(t,l);return{[c]:f}}throw new Error("Cannot find field hash "+s)}get name(){return`variant {${this._fields.map(([n,a])=>n+":"+a.name).join("; ")}}`}display(){return`variant {${this._fields.map(([n,a])=>n+(a.name==="null"?"":`:${a.display()}`)).join("; ")}}`}valueToString(t){for(const[n,a]of this._fields)if(t.hasOwnProperty(n)){const r=a.valueToString(t[n]);return r==="null"?`variant {${n}}`:`variant {${n}=${r}}`}throw new Error("Variant has no data: "+t)}get alternativesAsObject(){const t={};for(const[n,a]of this._fields)t[zt(n)]=a;return t}}const Uf=class Uf extends Zr{constructor(){super(...arguments),this._id=Uf._counter++}get typeName(){return F.RecClass}static[Symbol.hasInstance](t){return t.typeName===F.RecClass}accept(t,n){if(!this._type)throw Error("Recursive type uninitialized.");return t.visitRec(this,this._type,n)}fill(t){this._type=t}getType(){return this._type}covariant(t){if(this._type&&this._type.covariant(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${Ke(t)}`)}encodeValue(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(t)}_buildTypeTableImpl(t){if(!this._type)throw Error("Recursive type uninitialized.");t.add(this,new Uint8Array([])),this._type.buildTypeTable(t),t.merge(this,this._type.name)}decodeValue(t,n){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(t,n)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`${this.name}.${this._type.name}`}valueToString(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(t)}};Uf._counter=0;let bn=Uf;function Ty(e){if(zs(e)!==1)throw new Error("Cannot decode principal");const n=Number(tt(e));return se.fromUint8Array(new Uint8Array(Ds(e,n)))}class fv extends xn{get typeName(){return F.PrincipalClass}static[Symbol.hasInstance](t){return t.typeName===F.PrincipalClass}accept(t,n){return t.visitPrincipal(this,n)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ke(t)}`)}encodeValue(t){const n=t.toUint8Array(),a=ze(n.byteLength);return ce(new Uint8Array([1]),a,n)}encodeType(){return et(le.Principal)}decodeValue(t,n){return this.checkType(n),Ty(t)}get name(){return"principal"}valueToString(t){return`${this.name} "${t.toText()}"`}}class jc extends Zr{get typeName(){return F.FuncClass}static[Symbol.hasInstance](t){return t.typeName===F.FuncClass}static argsToString(t,n){if(t.length!==n.length)throw new Error("arity mismatch");return"("+t.map((a,r)=>a.valueToString(n[r])).join(", ")+")"}constructor(t,n,a=[]){super(),this.argTypes=t,this.retTypes=n,this.annotations=a}accept(t,n){return t.visitFunc(this,n)}covariant(t){if(Array.isArray(t)&&t.length===2&&t[0]&&t[0]._isPrincipal&&typeof t[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${Ke(t)}`)}encodeValue([t,n]){const a=t.toUint8Array(),r=ze(a.byteLength),s=ce(new Uint8Array([1]),r,a),l=new TextEncoder().encode(n),c=ze(l.byteLength);return ce(new Uint8Array([1]),s,c,l)}_buildTypeTableImpl(t){this.argTypes.forEach(f=>f.buildTypeTable(t)),this.retTypes.forEach(f=>f.buildTypeTable(t));const n=et(le.Func),a=ze(this.argTypes.length),r=ce(...this.argTypes.map(f=>f.encodeType(t))),s=ze(this.retTypes.length),l=ce(...this.retTypes.map(f=>f.encodeType(t))),c=ze(this.annotations.length),o=ce(...this.annotations.map(f=>this.encodeAnnotation(f)));t.add(this,ce(n,a,r,s,l,c,o))}decodeValue(t,n){const a=n instanceof bn?n.getType()??n:n;if(!Ay(a,this))throw new Error(`Cannot decode function reference at type ${this.display()} from wire type ${a.display()}`);if(zs(t)!==1)throw new Error("Cannot decode function reference");const s=Ty(t),l=Number(tt(t)),c=Ds(t,l),f=new TextDecoder("utf8",{fatal:!0}).decode(c);return[s,f]}get name(){const t=this.argTypes.map(r=>r.name).join(", "),n=this.retTypes.map(r=>r.name).join(", "),a=" "+this.annotations.join(" ");return`(${t}) -> (${n})${a}`}valueToString([t,n]){return`func "${t.toText()}".${n}`}display(){const t=this.argTypes.map(r=>r.display()).join(", "),n=this.retTypes.map(r=>r.display()).join(", "),a=" "+this.annotations.join(" ");return`(${t})  (${n})${a}`}encodeAnnotation(t){if(t==="query")return new Uint8Array([1]);if(t==="oneway")return new Uint8Array([2]);if(t==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}}class gf extends Zr{get typeName(){return F.ServiceClass}static[Symbol.hasInstance](t){return t.typeName===F.ServiceClass}constructor(t){super(),this._fields=Object.entries(t).sort((n,a)=>n[0]<a[0]?-1:n[0]>a[0]?1:0)}accept(t,n){return t.visitService(this,n)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ke(t)}`)}encodeValue(t){const n=t.toUint8Array(),a=ze(n.length);return ce(new Uint8Array([1]),a,n)}_buildTypeTableImpl(t){this._fields.forEach(([s,l])=>l.buildTypeTable(t));const n=et(le.Service),a=ze(this._fields.length),r=this._fields.map(([s,l])=>{const c=new TextEncoder().encode(s),o=ze(c.length);return ce(o,c,l.encodeType(t))});t.add(this,ce(n,a,...r))}decodeValue(t,n){const a=n instanceof bn?n.getType()??n:n;if(!Ay(a,this))throw new Error(`Cannot decode service reference at type ${this.display()} from wire type ${a.display()}`);return Ty(t)}get name(){return`service {${this._fields.map(([n,a])=>n+":"+a.name).join("; ")}}`}valueToString(t){return`service "${t.toText()}"`}fieldsAsObject(){const t={};for(const[n,a]of this._fields)t[n]=a;return t}}function Ke(e){const t=JSON.stringify(e,(n,a)=>typeof a=="bigint"?`BigInt(${a})`:a);return t&&t.length>zp?t.substring(0,zp-3)+"...":t}function j0(e,t){if(t.length<e.length)throw Error("Wrong number of message arguments");const n=new sN;e.forEach(o=>o.buildTypeTable(n));const a=new TextEncoder().encode(bu),r=n.encode(),s=ze(t.length),l=ce(...e.map(o=>o.encodeType(n))),c=ce(...Dc(e,t,(o,f)=>{try{o.covariant(f)}catch(g){throw new Error(g.message+`

`)}return o.encodeValue(f)}));return ce(a,r,s,l,c)}function dv(e,t){const n=new Al(t);if(t.byteLength<bu.length)throw new Error("Message length smaller than magic number");const a=Ds(n,bu.length),r=new TextDecoder().decode(a);if(r!==bu)throw new Error("Wrong magic number: "+JSON.stringify(r));function s(u){const d=[],m=Number(tt(u));for(let p=0;p<m;p++){const y=Number(Za(u));switch(y){case le.Opt:case le.Vector:{const b=Number(Za(u));d.push([y,b]);break}case le.Record:case le.Variant:{const b=[];let N=Number(tt(u)),w;for(;N--;){const C=Number(tt(u));if(C>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof w=="number"&&w>=C)throw new Error("field id collision or not sorted");w=C;const B=Number(Za(u));b.push([C,B])}d.push([y,b]);break}case le.Func:{const b=[];let N=Number(tt(u));for(;N--;)b.push(Number(Za(u)));const w=[];let C=Number(tt(u));for(;C--;)w.push(Number(Za(u)));const B=[];let D=Number(tt(u));for(;D--;)switch(Number(tt(u))){case 1:{B.push("query");break}case 2:{B.push("oneway");break}case 3:{B.push("composite_query");break}default:throw new Error("unknown annotation")}d.push([y,[b,w,B]]);break}case le.Service:{let b=Number(tt(u));const N=[];for(;b--;){const w=Number(tt(u)),C=new TextDecoder().decode(Ds(u,w)),B=Za(u);N.push([C,B])}d.push([y,N]);break}default:throw new Error("Illegal op_code: "+y)}}const S=[],v=Number(tt(u));for(let p=0;p<v;p++)S.push(Number(Za(u)));return[d,S]}const[l,c]=s(n);if(c.length<e.length)throw new Error("Wrong number of return values");const o=l.map(u=>zv());function f(u){if(u<-24)throw new Error("future value not supported");if(u<0)switch(u){case-1:return gv;case-2:return yv;case-3:return xv;case-4:return bv;case-5:return Tv;case-6:return Av;case-7:return Rv;case-8:return Ov;case-9:return wv;case-10:return Nv;case-11:return Sv;case-12:return _v;case-13:return vv;case-14:return Ev;case-15:return pv;case-16:return hv;case-17:return mv;case-24:return Cv;default:throw new Error("Illegal op_code: "+u)}if(u>=l.length)throw new Error("type index out of range");return o[u]}function g(u){switch(u[0]){case le.Vector:{const d=f(u[1]);return Bv(d)}case le.Opt:{const d=f(u[1]);return Uv(d)}case le.Record:{const d={};for(const[v,p]of u[1]){const y=`_${v}_`;d[y]=f(p)}const m=qv(d),S=m.tryAsTuple();return Array.isArray(S)?Mv(...S):m}case le.Variant:{const d={};for(const[m,S]of u[1]){const v=`_${m}_`;d[v]=f(S)}return Dv(d)}case le.Func:{const[d,m,S]=u[1];return jv(d.map(v=>f(v)),m.map(v=>f(v)),S)}case le.Service:{const d={},m=u[1];for(const[S,v]of m){let p=f(v);if(p instanceof bn&&(p=p.getType()),!(p instanceof jc))throw new Error("Illegal service definition: services can only contain functions");d[S]=p}return kv(d)}default:throw new Error("Illegal op_code: "+u[0])}}l.forEach((u,d)=>{if(u[0]===le.Func){const m=g(u);o[d].fill(m)}}),l.forEach((u,d)=>{if(u[0]!==le.Func){const m=g(u);o[d].fill(m)}}),k0();const h=c.map(u=>f(u));try{const u=e.map((d,m)=>d.decodeValue(n,h[m]));for(let d=e.length;d<h.length;d++)h[d].decodeValue(n,h[d]);if(n.byteLength>0)throw new Error("decode: Left-over bytes");return u}finally{k0()}}const mv=new wy,hv=new Yr,lN=new cv,yv=new ov,gv=new zc,pv=new uv,bv=new Ny,xv=new Sy,vv=new _y(32),Ev=new _y(64),wv=new js(8),Nv=new js(16),Sv=new js(32),_v=new js(64),Tv=new zr(8),Av=new zr(16),Rv=new zr(32),Ov=new zr(64),Cv=new fv;function Mv(...e){return new rd(e)}function Bv(e){return new yl(e)}function Uv(e){return new Da(e)}function qv(e){return new ks(e)}function Dv(e){return new gl(e)}function zv(){return new bn}function jv(e,t,n=[]){return new jc(e,t,n)}function kv(e){return new gf(e)}class sd{constructor(t=new Map){this.rels=t}copy(){const t=new Map;for(const[n,a]of this.rels.entries()){const r=new Map(a);t.set(n,r)}return new sd(t)}known(t,n){var a;return(a=this.rels.get(t.name))==null?void 0:a.get(n.name)}addNegative(t,n){this.addNames(t.name,n.name,!1)}add(t,n){this.addNames(t.name,n.name,!0)}display(){let t="";for(const[n,a]of this.rels)for(const[r,s]of a)t+=`${n} ${s?":<":"!<:"} ${r}
`;return t}addNames(t,n,a){const r=this.rels.get(t);if(r==null){const s=new Map;s.set(n,a),this.rels.set(t,s)}else r.set(n,a)}}let xu=new sd;function k0(){xu=new sd}function cN(e,t){const n=new Set(e.annotations),a=new Set(t.annotations);if(n.size!==a.size)return!1;for(const r of n)if(!a.has(r))return!1;return!0}function em(e){return e instanceof Da||e instanceof zc||e instanceof Yr}function Ay(e,t){const n=xu.copy(),a=la(n,e,t);return a?xu.add(e,t):xu.addNegative(e,t),a}function la(e,t,n){if(t.name===n.name)return!0;const a=e.known(t,n);if(a!==void 0)return a;if(e.add(t,n),n instanceof Yr||t instanceof wy||t instanceof Sy&&n instanceof Ny)return!0;if(t instanceof yl&&n instanceof yl)return la(e,t._type,n._type);if(n instanceof Da)return!0;if(t instanceof ks&&n instanceof ks){const r=t.fieldsAsObject;for(const[s,l]of n._fields){const c=r[zt(s)];if(c){if(!la(e,c,l))return!1}else if(!em(l))return!1}return!0}if(t instanceof jc&&n instanceof jc){if(!cN(t,n))return!1;for(let r=0;r<t.argTypes.length;r++){const s=t.argTypes[r];if(r<n.argTypes.length){if(!la(e,n.argTypes[r],s))return!1}else if(!em(s))return!1}for(let r=0;r<n.retTypes.length;r++){const s=n.retTypes[r];if(r<t.retTypes.length){if(!la(e,t.retTypes[r],s))return!1}else if(!em(s))return!1}return!0}if(t instanceof gl&&n instanceof gl){const r=n.alternativesAsObject;for(const[s,l]of t._fields){const c=r[zt(s)];if(!c||!la(e,l,c))return!1}return!0}if(t instanceof gf&&n instanceof gf){const r=t.fieldsAsObject();for(const[s,l]of n._fields){const c=r[s];if(!c||!la(e,c,l))return!1}return!0}return t instanceof bn?la(e,t.getType(),n):n instanceof bn?la(e,t,n.getType()):!1}const oN=Object.freeze(Object.defineProperty({__proto__:null,Bool:yv,BoolClass:ov,ConstructType:Zr,Empty:mv,EmptyClass:wy,FixedIntClass:js,FixedNatClass:zr,Float32:vv,Float64:Ev,FloatClass:_y,Func:jv,FuncClass:jc,Int:bv,Int16:Nv,Int32:Sv,Int64:_v,Int8:wv,IntClass:Ny,Nat:xv,Nat16:Av,Nat32:Rv,Nat64:Ov,Nat8:Tv,NatClass:Sy,Null:gv,NullClass:zc,Opt:Uv,OptClass:Da,PrimitiveType:xn,Principal:Cv,PrincipalClass:fv,Rec:zv,RecClass:bn,Record:qv,RecordClass:ks,Reserved:hv,ReservedClass:Yr,Service:kv,ServiceClass:gf,Text:pv,TextClass:uv,Tuple:Mv,TupleClass:rd,Type:ad,Unknown:lN,UnknownClass:cv,Variant:Dv,VariantClass:gl,Vec:Bv,VecClass:yl,Visitor:iN,decode:dv,encode:j0,resetSubtypeCache:k0,subtype:Ay},Symbol.toStringTag,{value:"Module"}));function pf(e){if(!e)throw new Error("Input cannot be null or undefined");return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):Array.isArray(e)?new Uint8Array(e):"buffer"in e?pf(e.buffer):new Uint8Array(e)}function id(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function H0(e){if(typeof e=="string")return Hv(e);if(typeof e=="number")return Zt(ze(e));if(e instanceof Uint8Array||ArrayBuffer.isView(e))return Zt(pf(e));if(Array.isArray(e)){const t=e.map(H0);return Zt(ue(...t))}else{if(e&&typeof e=="object"&&e._isPrincipal)return Zt(e.toUint8Array());if(typeof e=="object"&&e!==null&&typeof e.toHash=="function")return H0(e.toHash());if(typeof e=="object")return bf(e);if(typeof e=="bigint")return Zt(ze(e))}throw _e.fromCode(new gy(e))}const Hv=e=>{const t=new TextEncoder().encode(e);return Zt(t)};function qi(e){return bf(e)}function bf(e){const a=Object.entries(e).filter(([,l])=>l!==void 0).map(([l,c])=>{const o=Hv(l),f=H0(c);return[o,f]}).sort(([l],[c])=>av(l,c)),r=ue(...a.map(l=>ue(...l)));return Zt(r)}const Vv=new TextEncoder().encode(`
ic-request`),uN=new TextEncoder().encode("\vic-response"),fN=new TextEncoder().encode("ic-request-auth-delegation");class Ry{getPrincipal(){return this._principal||(this._principal=se.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(t){const{body:n,...a}=t,r=qi(n);return{...a,body:{content:n,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(ue(Vv,r))}}}}class xf{getPrincipal(){return se.anonymous()}async transformRequest(t){return{...t,body:{content:t.body}}}}class Is extends Error{constructor(t){super(t),this.name="DecodingError"}}const Gv=55799,Kv=Symbol("CBOR_STOP_CODE");var An=(e=>(e[e.False=20]="False",e[e.True=21]="True",e[e.Null=22]="Null",e[e.Undefined=23]="Undefined",e[e.Break=31]="Break",e))(An||{}),$e=(e=>(e[e.UnsignedInteger=0]="UnsignedInteger",e[e.NegativeInteger=1]="NegativeInteger",e[e.ByteString=2]="ByteString",e[e.TextString=3]="TextString",e[e.Array=4]="Array",e[e.Map=5]="Map",e[e.Tag=6]="Tag",e[e.Simple=7]="Simple",e))($e||{});const dN=23,mN=255,hN=65535,yN=4294967295,gN=BigInt("0xffffffffffffffff");var Tn=(e=>(e[e.Value=23]="Value",e[e.OneByte=24]="OneByte",e[e.TwoBytes=25]="TwoBytes",e[e.FourBytes=26]="FourBytes",e[e.EightBytes=27]="EightBytes",e[e.Indefinite=31]="Indefinite",e))(Tn||{});const Di=!1;function pN(e){return e==null}function Yv(e,t){const n=new Uint8Array(t);return n.set(e),n}const bN=new TextDecoder;function xN(e){return(e&224)>>5}function vN(e){return e&31}let kc=new Uint8Array,Hl,Rn=0;function EN(e,t){kc=e,Rn=0;const n=_s(t);return(t==null?void 0:t(n))??n}function _s(e){const[t,n]=vu();switch(t){case $e.UnsignedInteger:return Rl(n);case $e.NegativeInteger:return _N(n);case $e.ByteString:return Lv(n);case $e.TextString:return V0(n);case $e.Array:return wN(n,e);case $e.Map:return SN(n,e);case $e.Tag:return TN(n,e);case $e.Simple:return NN(n)}throw new Is(`Unsupported major type: ${t}`)}function vu(){const e=kc.at(Rn);if(pN(e))throw new Is("Provided CBOR data is empty");const t=xN(e),n=vN(e);return Rn++,[t,n]}function wN(e,t){const n=Rl(e);if(n===1/0){const r=[];let s=_s(t);for(;s!==Kv;)r.push((t==null?void 0:t(s))??s),s=_s(t);return r}const a=new Array(n);for(let r=0;r<n;r++){const s=_s(t);a[r]=(t==null?void 0:t(s))??s}return a}function NN(e){switch(e){case An.False:return!1;case An.True:return!0;case An.Null:return null;case An.Undefined:return;case An.Break:return Kv}throw new Is(`Unrecognized simple type: ${e.toString(2)}`)}function SN(e,t){const n=Rl(e),a={};if(n===1/0){let[r,s]=vu();for(;r!==$e.Simple&&s!==An.Break;){const l=V0(s),c=_s(t);a[l]=(t==null?void 0:t(c,l))??c,[r,s]=vu()}return a}for(let r=0;r<n;r++){const[s,l]=vu();if(s!==$e.TextString)throw new Is("Map keys must be text strings");const c=V0(l),o=_s(t);a[c]=(t==null?void 0:t(o,c))??o}return a}function Rl(e){if(e<=Tn.Value)return e;switch(Hl=new DataView(kc.buffer,kc.byteOffset+Rn),e){case Tn.OneByte:return Rn++,Hl.getUint8(0);case Tn.TwoBytes:return Rn+=2,Hl.getUint16(0,Di);case Tn.FourBytes:return Rn+=4,Hl.getUint32(0,Di);case Tn.EightBytes:return Rn+=8,Hl.getBigUint64(0,Di);case Tn.Indefinite:return 1/0;default:throw new Is(`Unsupported integer info: ${e.toString(2)}`)}}function _N(e){const t=Rl(e);return typeof t=="number"?-1-t:-1n-t}function Lv(e){const t=Rl(e);if(t>Number.MAX_SAFE_INTEGER)throw new Is("Byte length is too large");const n=Number(t);return Rn+=n,kc.slice(Rn-n,Rn)}function V0(e){const t=Lv(e);return bN.decode(t)}function TN(e,t){const n=Rl(e);if(n===Gv)return _s(t);throw new Is(`Unsupported tag: ${n}.`)}class Oy extends Error{constructor(t){super(t),this.name="SerializationError"}}const AN=2*1024,RN=100,ON=new TextEncoder;function Vl(e){return e<<5}let It=new Uint8Array(AN),vn=new DataView(It.buffer),Xe=0,tm=[];function CN(e,t){Xe=0;const n=(t==null?void 0:t(e))??e;return kN(Gv,n,t),It.slice(0,Xe)}function Cy(e,t){if(Xe>It.length-RN&&(It=Yv(It,It.length*2),vn=new DataView(It.buffer)),e===!1||e===!0||e===null||e===void 0){UN(e);return}if(typeof e=="number"||typeof e=="bigint"){jN(e);return}if(typeof e=="string"){Zv(e);return}if(e instanceof Uint8Array){jp(e);return}if(e instanceof ArrayBuffer){jp(new Uint8Array(e));return}if(Array.isArray(e)){MN(e,t);return}if(typeof e=="object"){BN(e,t);return}throw new Oy(`Unsupported type: ${typeof e}`)}function MN(e,t){Ol($e.Array,e.length),e.forEach((n,a)=>{Cy((t==null?void 0:t(n,a.toString()))??n,t)})}function BN(e,t){tm=Object.entries(e),Ol($e.Map,tm.length),tm.forEach(([n,a])=>{Zv(n),Cy((t==null?void 0:t(a,n))??a,t)})}function Ol(e,t){if(t<=dN){vn.setUint8(Xe++,Vl(e)|Number(t));return}if(t<=mN){vn.setUint8(Xe++,Vl(e)|Tn.OneByte),vn.setUint8(Xe,Number(t)),Xe+=1;return}if(t<=hN){vn.setUint8(Xe++,Vl(e)|Tn.TwoBytes),vn.setUint16(Xe,Number(t),Di),Xe+=2;return}if(t<=yN){vn.setUint8(Xe++,Vl(e)|Tn.FourBytes),vn.setUint32(Xe,Number(t),Di),Xe+=4;return}if(t<=gN){vn.setUint8(Xe++,Vl(e)|Tn.EightBytes),vn.setBigUint64(Xe,BigInt(t),Di),Xe+=8;return}throw new Oy(`Value too large to encode: ${t}`)}function UN(e){Ol($e.Simple,qN(e))}function qN(e){if(e===!1)return An.False;if(e===!0)return An.True;if(e===null)return An.Null;if(e===void 0)return An.Undefined;throw new Oy(`Unrecognized simple value: ${e.toString()}`)}function Iv(e,t){Ol(e,t.length),Xe>It.length-t.length&&(It=Yv(It,It.length+t.length),vn=new DataView(It.buffer)),It.set(t,Xe),Xe+=t.length}function Qv(e,t){Ol(e,t)}function DN(e){Qv($e.UnsignedInteger,e)}function zN(e){Qv($e.NegativeInteger,typeof e=="bigint"?-1n-e:-1-e)}function jN(e){e>=0?DN(e):zN(e)}function Zv(e){Iv($e.TextString,ON.encode(e))}function jp(e){Iv($e.ByteString,e)}function kN(e,t,n){Ol($e.Tag,e),Cy(t,n)}function HN(e){return typeof e=="object"&&e!==null&&"toCborValue"in e}function nm(e){try{return CN(e,t=>se.isPrincipal(t)?t.toUint8Array():ns.isExpiry(t)?t.toBigInt():HN(t)?t.toCborValue():t)}catch(t){throw _e.fromCode(new dy(t,e))}}function Yn(e){try{return EN(e)}catch(t){throw _e.fromCode(new fy(t,e))}}const eu=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){const e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]}if(typeof crypto<"u"&&crypto.getRandomValues){const e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)};var ts;(function(e){e.Query="read",e.ReadState="read_state",e.Call="call"})(ts||(ts={}));var G0;(function(e){e.Call="call"})(G0||(G0={}));var Hc;(function(e){e.Query="query",e.ReadState="read_state"})(Hc||(Hc={}));function K0(){const e=new ArrayBuffer(16),t=new DataView(e),n=eu(),a=eu(),r=eu(),s=eu();return t.setUint32(0,n),t.setUint32(4,a),t.setUint32(8,r),t.setUint32(12,s),Object.assign(new Uint8Array(e),{__nonce__:void 0})}const tu="__expiry__",Y0=BigInt(1e6),nu=Y0*BigInt(1e3),kp=BigInt(60),VN=60*1e3;class ns{constructor(t){this.__expiry__=t,this._isExpiry=!0}static fromDeltaInMilliseconds(t){if(t<90*1e3){const c=BigInt(Date.now()+t)*Y0/nu;return new ns(c*nu)}const s=BigInt(Math.floor(Date.now()+t-VN))*Y0/nu/kp*kp*nu;return new ns(s)}toBigInt(){return this.__expiry__}toHash(){return ze(this.__expiry__)}toString(){return this.__expiry__.toString()}toJSON(){return{[tu]:this.toString()}}static fromJSON(t){const n=JSON.parse(t);if(n[tu])try{const a=BigInt(n[tu]);return new ns(a)}catch(a){throw new _e(new yf(`Not a valid BigInt: ${a}`))}throw new _e(new yf(`The input does not contain the key ${tu}`))}static isExpiry(t){return t instanceof ns||typeof t=="object"&&t!==null&&"_isExpiry"in t&&t._isExpiry===!0&&"__expiry__"in t&&typeof t.__expiry__=="bigint"}}function Hp(e=K0){return async t=>{const n=t.request.headers;t.request.headers=n,t.endpoint===ts.Call&&(t.body.nonce=e())}}function am(e){const t=[];return e.forEach((n,a)=>{t.push([a,n])}),t}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const My=BigInt(0),vf=BigInt(1);function Vc(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Xv(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?My:BigInt("0x"+e)}function Fn(e){return Xv(de(e))}function Gc(e){return vt(e),Xv(de(Uint8Array.from(e).reverse()))}function ut(e,t){return Pn(e.toString(16).padStart(t*2,"0"))}function ld(e,t){return ut(e,t).reverse()}function _t(e,t,n){let a;if(typeof t=="string")try{a=Pn(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(sy(t))a=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const r=a.length;if(typeof n=="number"&&r!==n)throw new Error(e+" of length "+n+" expected, got "+r);return a}const rm=e=>typeof e=="bigint"&&My<=e;function $v(e,t,n){return rm(e)&&rm(t)&&rm(n)&&t<=e&&e<n}function Zl(e,t,n,a){if(!$v(t,n,a))throw new Error("expected valid "+e+": "+n+" <= n < "+a+", got "+t)}function zi(e){let t;for(t=0;e>My;e>>=vf,t+=1);return t}function GN(e,t){return e>>BigInt(t)&vf}const Ts=e=>(vf<<BigInt(e))-vf;function KN(e){return typeof e=="function"&&Number.isSafeInteger(e.outputLen)}function Co(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function a(r,s,l){const c=e[r];if(l&&c===void 0)return;const o=typeof c;if(o!==s||c===null)throw new Error(`param "${r}" is invalid: expected ${s}, got ${o}`)}Object.entries(t).forEach(([r,s])=>a(r,s,!1)),Object.entries(n).forEach(([r,s])=>a(r,s,!0))}const Vp=()=>{throw new Error("not implemented")};function Kc(e){const t=new WeakMap;return(n,...a)=>{const r=t.get(n);if(r!==void 0)return r;const s=e(n,...a);return t.set(n,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jt=BigInt(0),ht=BigInt(1),as=BigInt(2),Pv=BigInt(3),Fv=BigInt(4),Jv=BigInt(5),YN=BigInt(7),Wv=BigInt(8),LN=BigInt(9),eE=BigInt(16);function Ge(e,t){const n=e%t;return n>=jt?n:t+n}function Un(e,t,n){let a=e;for(;t-- >jt;)a*=a,a%=n;return a}function Gp(e,t){if(e===jt)throw new Error("invert: expected non-zero number");if(t<=jt)throw new Error("invert: expected positive modulus, got "+t);let n=Ge(e,t),a=t,r=jt,s=ht;for(;n!==jt;){const c=a/n,o=a%n,f=r-s*c;a=n,n=o,r=s,s=f}if(a!==ht)throw new Error("invert: does not exist");return Ge(r,t)}function By(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function tE(e,t){const n=(e.ORDER+ht)/Fv,a=e.pow(t,n);return By(e,a,t),a}function IN(e,t){const n=(e.ORDER-Jv)/Wv,a=e.mul(t,as),r=e.pow(a,n),s=e.mul(t,r),l=e.mul(e.mul(s,as),r),c=e.mul(s,e.sub(l,e.ONE));return By(e,c,t),c}function QN(e){const t=Xr(e),n=nE(e),a=n(t,t.neg(t.ONE)),r=n(t,a),s=n(t,t.neg(a)),l=(e+YN)/eE;return(c,o)=>{let f=c.pow(o,l),g=c.mul(f,a);const h=c.mul(f,r),u=c.mul(f,s),d=c.eql(c.sqr(g),o),m=c.eql(c.sqr(h),o);f=c.cmov(f,g,d),g=c.cmov(u,h,m);const S=c.eql(c.sqr(g),o),v=c.cmov(f,g,S);return By(c,v,o),v}}function nE(e){if(e<Pv)throw new Error("sqrt is not defined for small field");let t=e-ht,n=0;for(;t%as===jt;)t/=as,n++;let a=as;const r=Xr(e);for(;Ef(r,a)===1;)if(a++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return tE;let s=r.pow(a,t);const l=(t+ht)/as;return function(o,f){if(o.is0(f))return f;if(Ef(o,f)!==1)throw new Error("Cannot find square root");let g=n,h=o.mul(o.ONE,s),u=o.pow(f,t),d=o.pow(f,l);for(;!o.eql(u,o.ONE);){if(o.is0(u))return o.ZERO;let m=1,S=o.sqr(u);for(;!o.eql(S,o.ONE);)if(m++,S=o.sqr(S),m===g)throw new Error("Cannot find square root");const v=ht<<BigInt(g-m-1),p=o.pow(h,v);g=m,h=o.sqr(p),u=o.mul(u,h),d=o.mul(d,p)}return d}}function ZN(e){return e%Fv===Pv?tE:e%Wv===Jv?IN:e%eE===LN?QN(e):nE(e)}const XN=(e,t)=>(Ge(e,t)&ht)===ht,$N=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function aE(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=$N.reduce((a,r)=>(a[r]="function",a),t);return Co(e,n),e}function Eu(e,t,n){if(n<jt)throw new Error("invalid exponent, negatives unsupported");if(n===jt)return e.ONE;if(n===ht)return t;let a=e.ONE,r=t;for(;n>jt;)n&ht&&(a=e.mul(a,r)),r=e.sqr(r),n>>=ht;return a}function As(e,t,n=!1){const a=new Array(t.length).fill(n?e.ZERO:void 0),r=t.reduce((l,c,o)=>e.is0(c)?l:(a[o]=l,e.mul(l,c)),e.ONE),s=e.inv(r);return t.reduceRight((l,c,o)=>e.is0(c)?l:(a[o]=e.mul(l,a[o]),e.mul(l,c)),s),a}function Ef(e,t){const n=(e.ORDER-ht)/as,a=e.pow(t,n),r=e.eql(a,e.ONE),s=e.eql(a,e.ZERO),l=e.eql(a,e.neg(e.ONE));if(!r&&!s&&!l)throw new Error("invalid Legendre symbol result");return r?1:s?0:-1}function PN(e,t){t!==void 0&&C4(t);const n=t!==void 0?t:e.toString(2).length,a=Math.ceil(n/8);return{nBitLength:n,nByteLength:a}}function Xr(e,t,n=!1,a={}){if(e<=jt)throw new Error("invalid field: expected ORDER > 0, got "+e);let r,s,l=!1,c;if(typeof t=="object"&&t!=null){if(a.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=t;u.BITS&&(r=u.BITS),u.sqrt&&(s=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE),typeof u.modOnDecode=="boolean"&&(l=u.modOnDecode),c=u.allowedLengths}else typeof t=="number"&&(r=t),a.sqrt&&(s=a.sqrt);const{nBitLength:o,nByteLength:f}=PN(e,r);if(f>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let g;const h=Object.freeze({ORDER:e,isLE:n,BITS:o,BYTES:f,MASK:Ts(o),ZERO:jt,ONE:ht,allowedLengths:c,create:u=>Ge(u,e),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return jt<=u&&u<e},is0:u=>u===jt,isValidNot0:u=>!h.is0(u)&&h.isValid(u),isOdd:u=>(u&ht)===ht,neg:u=>Ge(-u,e),eql:(u,d)=>u===d,sqr:u=>Ge(u*u,e),add:(u,d)=>Ge(u+d,e),sub:(u,d)=>Ge(u-d,e),mul:(u,d)=>Ge(u*d,e),pow:(u,d)=>Eu(h,u,d),div:(u,d)=>Ge(u*Gp(d,e),e),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>Gp(u,e),sqrt:s||(u=>(g||(g=ZN(e)),g(h,u))),toBytes:u=>n?ld(u,f):ut(u,f),fromBytes:(u,d=!0)=>{if(c){if(!c.includes(u.length)||u.length>f)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+u.length);const S=new Uint8Array(f);S.set(u,n?0:S.length-u.length),u=S}if(u.length!==f)throw new Error("Field.fromBytes: expected "+f+" bytes, got "+u.length);let m=n?Gc(u):Fn(u);if(l&&(m=Ge(m,e)),!d&&!h.isValid(m))throw new Error("invalid field element: outside of range 0..ORDER");return m},invertBatch:u=>As(h,u),cmov:(u,d,m)=>m?d:u});return Object.freeze(h)}function rE(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function sE(e){const t=rE(e);return t+Math.ceil(t/2)}function FN(e,t,n=!1){const a=e.length,r=rE(t),s=sE(t);if(a<16||a<s||a>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+a);const l=n?Gc(e):Fn(e),c=Ge(l,t-ht)+ht;return n?ld(c,r):ut(c,r)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pl=BigInt(0),rs=BigInt(1);function wf(e,t){const n=t.negate();return e?n:t}function Na(e,t){const n=As(e.Fp,t.map(a=>a.Z));return t.map((a,r)=>e.fromAffine(a.toAffine(n[r])))}function iE(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function sm(e,t){iE(e,t);const n=Math.ceil(t/e)+1,a=2**(e-1),r=2**e,s=Ts(e),l=BigInt(e);return{windows:n,windowSize:a,mask:s,maxNumber:r,shiftBy:l}}function Kp(e,t,n){const{windowSize:a,mask:r,maxNumber:s,shiftBy:l}=n;let c=Number(e&r),o=e>>l;c>a&&(c-=s,o+=rs);const f=t*a,g=f+Math.abs(c)-1,h=c===0,u=c<0,d=t%2!==0;return{nextN:o,offset:g,isZero:h,isNeg:u,isNegF:d,offsetF:f}}function JN(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,a)=>{if(!(n instanceof t))throw new Error("invalid point at index "+a)})}function WN(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,a)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+a)})}const im=new WeakMap,lE=new WeakMap;function lm(e){return lE.get(e)||1}function Yp(e){if(e!==pl)throw new Error("invalid wNAF")}class cE{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,a=this.ZERO){let r=t;for(;n>pl;)n&rs&&(a=a.add(r)),r=r.double(),n>>=rs;return a}precomputeWindow(t,n){const{windows:a,windowSize:r}=sm(n,this.bits),s=[];let l=t,c=l;for(let o=0;o<a;o++){c=l,s.push(c);for(let f=1;f<r;f++)c=c.add(l),s.push(c);l=c.double()}return s}wNAF(t,n,a){if(!this.Fn.isValid(a))throw new Error("invalid scalar");let r=this.ZERO,s=this.BASE;const l=sm(t,this.bits);for(let c=0;c<l.windows;c++){const{nextN:o,offset:f,isZero:g,isNeg:h,isNegF:u,offsetF:d}=Kp(a,c,l);a=o,g?s=s.add(wf(u,n[d])):r=r.add(wf(h,n[f]))}return Yp(a),{p:r,f:s}}wNAFUnsafe(t,n,a,r=this.ZERO){const s=sm(t,this.bits);for(let l=0;l<s.windows&&a!==pl;l++){const{nextN:c,offset:o,isZero:f,isNeg:g}=Kp(a,l,s);if(a=c,!f){const h=n[o];r=r.add(g?h.negate():h)}}return Yp(a),r}getPrecomputes(t,n,a){let r=im.get(n);return r||(r=this.precomputeWindow(n,t),t!==1&&(typeof a=="function"&&(r=a(r)),im.set(n,r))),r}cached(t,n,a){const r=lm(t);return this.wNAF(r,this.getPrecomputes(r,t,a),n)}unsafe(t,n,a,r){const s=lm(t);return s===1?this._unsafeLadder(t,n,r):this.wNAFUnsafe(s,this.getPrecomputes(s,t,a),n,r)}createCache(t,n){iE(n,this.bits),lE.set(t,n),im.delete(t)}hasCache(t){return lm(t)!==1}}function e8(e,t,n,a){let r=t,s=e.ZERO,l=e.ZERO;for(;n>pl||a>pl;)n&rs&&(s=s.add(r)),a&rs&&(l=l.add(r)),r=r.double(),n>>=rs,a>>=rs;return{p1:s,p2:l}}function oE(e,t,n,a){JN(n,e),WN(a,t);const r=n.length,s=a.length;if(r!==s)throw new Error("arrays of points and scalars must have equal length");const l=e.ZERO,c=zi(BigInt(r));let o=1;c>12?o=c-3:c>4?o=c-2:c>0&&(o=2);const f=Ts(o),g=new Array(Number(f)+1).fill(l),h=Math.floor((t.BITS-1)/o)*o;let u=l;for(let d=h;d>=0;d-=o){g.fill(l);for(let S=0;S<s;S++){const v=a[S],p=Number(v>>BigInt(d)&f);g[p]=g[p].add(n[S])}let m=l;for(let S=g.length-1,v=l;S>0;S--)v=v.add(g[S]),m=m.add(v);if(u=u.add(m),d!==0)for(let S=0;S<o;S++)u=u.double()}return u}function Lp(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return aE(t),t}else return Xr(e)}function uE(e,t,n={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const c of["p","n","h"]){const o=t[c];if(!(typeof o=="bigint"&&o>pl))throw new Error(`CURVE.${c} must be positive bigint`)}const a=Lp(t.p,n.Fp),r=Lp(t.n,n.Fn),l=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const c of l)if(!a.isValid(t[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return{Fp:a,Fn:r}}const t8=Fn;function Pa(e,t){if(Yc(e),Yc(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const n=Array.from({length:t}).fill(0);for(let a=t-1;a>=0;a--)n[a]=e&255,e>>>=8;return new Uint8Array(n)}function n8(e,t){const n=new Uint8Array(e.length);for(let a=0;a<e.length;a++)n[a]=e[a]^t[a];return n}function Yc(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function fE(e){if(!sy(e)&&typeof e!="string")throw new Error("DST must be Uint8Array or string");return typeof e=="string"?ke(e):e}function a8(e,t,n,a){vt(e),Yc(n),t=fE(t),t.length>255&&(t=a(ue(ke("H2C-OVERSIZE-DST-"),t)));const{outputLen:r,blockLen:s}=a,l=Math.ceil(n/r);if(n>65535||l>255)throw new Error("expand_message_xmd: invalid lenInBytes");const c=ue(t,Pa(t.length,1)),o=Pa(0,s),f=Pa(n,2),g=new Array(l),h=a(ue(o,e,f,Pa(0,1),c));g[0]=a(ue(h,Pa(1,1),c));for(let d=1;d<=l;d++){const m=[n8(h,g[d-1]),Pa(d+1,1),c];g[d]=a(ue(...m))}return ue(...g).slice(0,n)}function r8(e,t,n,a,r){if(vt(e),Yc(n),t=fE(t),t.length>255){const s=Math.ceil(2*a/8);t=r.create({dkLen:s}).update(ke("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return r.create({dkLen:n}).update(e).update(Pa(n,2)).update(t).update(Pa(t.length,1)).digest()}function cm(e,t,n){Co(n,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:a,k:r,m:s,hash:l,expand:c,DST:o}=n;if(!KN(n.hash))throw new Error("expected valid hash");vt(e),Yc(t);const f=a.toString(2).length,g=Math.ceil((f+r)/8),h=t*s*g;let u;if(c==="xmd")u=a8(e,o,h,l);else if(c==="xof")u=r8(e,o,h,r,l);else if(c==="_internal_pass")u=e;else throw new Error('expand must be "xmd" or "xof"');const d=new Array(t);for(let m=0;m<t;m++){const S=new Array(s);for(let v=0;v<s;v++){const p=g*(v+m*s),y=u.subarray(p,p+g);S[v]=Ge(t8(y),a)}d[m]=S}return d}function dE(e,t){const n=t.map(a=>Array.from(a).reverse());return(a,r)=>{const[s,l,c,o]=n.map(h=>h.reduce((u,d)=>e.add(e.mul(u,a),d))),[f,g]=As(e,[l,o],!0);return a=e.mul(s,f),r=e.mul(r,e.mul(c,g)),{x:a,y:r}}}const s8=ke("HashToScalar-");function Ip(e,t,n){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function a(s){return e.fromAffine(t(s))}function r(s){const l=s.clearCofactor();return l.equals(e.ZERO)?e.ZERO:(l.assertValidity(),l)}return{defaults:n,hashToCurve(s,l){const c=Object.assign({},n,l),o=cm(s,2,c),f=a(o[0]),g=a(o[1]);return r(f.add(g))},encodeToCurve(s,l){const c=n.encodeDST?{DST:n.encodeDST}:{},o=Object.assign({},n,c,l),f=cm(s,1,o),g=a(f[0]);return r(g)},mapToCurve(s){if(!Array.isArray(s))throw new Error("expected array of bigints");for(const l of s)if(typeof l!="bigint")throw new Error("expected array of bigints");return r(a(s))},hashToScalar(s,l){const c=e.Fn.ORDER,o=Object.assign({},n,{p:c,m:1,DST:s8},l);return cm(s,1,o)[0][0]}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qp=(e,t)=>(e+(e>=0?t:-t)/ca)/t;function i8(e,t,n){const[[a,r],[s,l]]=t,c=Qp(l*e,n),o=Qp(-r*e,n);let f=e-c*a-o*s,g=-c*r-o*l;const h=f<ss,u=g<ss;h&&(f=-f),u&&(g=-g);const d=Ts(Math.ceil(zi(n)/2))+Nt;if(f<ss||f>=d||g<ss||g>=d)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:h,k1:f,k2neg:u,k2:g}}const ss=BigInt(0),Nt=BigInt(1),ca=BigInt(2),xi=BigInt(3),L0=BigInt(4);function mE(e,t,n){function a(r){const s=e.sqr(r),l=e.mul(s,r);return e.add(e.add(l,e.mul(r,t)),n)}return a}function Nf(e,t){const{BYTES:n}=e;let a;if(typeof t=="bigint")a=t;else{let r=_t("private key",t);try{a=e.fromBytes(r)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(a))throw new Error("invalid private key: out of range [1..N-1]");return a}function l8(e,t={}){const{Fp:n,Fn:a}=uE("weierstrass",e,t),{h:r,n:s}=e;Co(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:l}=t;if(l&&(!n.is0(e.a)||typeof l.beta!="bigint"||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');function c(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function o(j,O,_){const{x:U,y:E}=O.toAffine(),T=n.toBytes(U);if(Vc("isCompressed",_),_){c();const M=!n.isOdd(E);return ue(c8(M),T)}else return ue(Uint8Array.of(4),T,n.toBytes(E))}function f(j){vt(j);const O=n.BYTES,_=O+1,U=2*O+1,E=j.length,T=j[0],M=j.subarray(1);if(E===_&&(T===2||T===3)){const A=n.fromBytes(M);if(!n.isValid(A))throw new Error("bad point: is not on curve, wrong x");const q=u(A);let R;try{R=n.sqrt(q)}catch(L){const Y=L instanceof Error?": "+L.message:"";throw new Error("bad point: is not on curve, sqrt error"+Y)}c();const z=n.isOdd(R);return(T&1)===1!==z&&(R=n.neg(R)),{x:A,y:R}}else if(E===U&&T===4){const A=n.fromBytes(M.subarray(O*0,O*1)),q=n.fromBytes(M.subarray(O*1,O*2));if(!d(A,q))throw new Error("bad point: is not on curve");return{x:A,y:q}}else throw new Error(`bad point: got length ${E}, expected compressed=${_} or uncompressed=${U}`)}const g=t.toBytes||o,h=t.fromBytes||f,u=mE(n,e.a,e.b);function d(j,O){const _=n.sqr(O),U=u(j);return n.eql(_,U)}if(!d(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const m=n.mul(n.pow(e.a,xi),L0),S=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(m,S)))throw new Error("bad curve params: a or b");function v(j,O,_=!1){if(!n.isValid(O)||_&&n.is0(O))throw new Error(`bad point coordinate ${j}`);return O}function p(j){if(!(j instanceof C))throw new Error("ProjectivePoint expected")}function y(j){if(!l||!l.basises)throw new Error("no endo");return i8(j,l.basises,a.ORDER)}const b=Kc((j,O)=>{const{X:_,Y:U,Z:E}=j;if(n.eql(E,n.ONE))return{x:_,y:U};const T=j.is0();O==null&&(O=T?n.ONE:n.inv(E));const M=n.mul(_,O),A=n.mul(U,O),q=n.mul(E,O);if(T)return{x:n.ZERO,y:n.ZERO};if(!n.eql(q,n.ONE))throw new Error("invZ was invalid");return{x:M,y:A}}),N=Kc(j=>{if(j.is0()){if(t.allowInfinityPoint&&!n.is0(j.Y))return;throw new Error("bad point: ZERO")}const{x:O,y:_}=j.toAffine();if(!n.isValid(O)||!n.isValid(_))throw new Error("bad point: x or y not field elements");if(!d(O,_))throw new Error("bad point: equation left != right");if(!j.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function w(j,O,_,U,E){return _=new C(n.mul(_.X,j),_.Y,_.Z),O=wf(U,O),_=wf(E,_),O.add(_)}class C{constructor(O,_,U){this.X=v("x",O),this.Y=v("y",_,!0),this.Z=v("z",U),Object.freeze(this)}static fromAffine(O){const{x:_,y:U}=O||{};if(!O||!n.isValid(_)||!n.isValid(U))throw new Error("invalid affine point");if(O instanceof C)throw new Error("projective point not allowed");return n.is0(_)&&n.is0(U)?C.ZERO:new C(_,U,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}static normalizeZ(O){return Na(C,O)}static fromBytes(O){return vt(O),C.fromHex(O)}static fromHex(O){const _=C.fromAffine(h(_t("pointHex",O)));return _.assertValidity(),_}static fromPrivateKey(O){return C.BASE.multiply(Nf(a,O))}static msm(O,_){return oE(C,a,O,_)}_setWindowSize(O){this.precompute(O)}precompute(O=8,_=!0){return D.createCache(this,O),_||this.multiply(xi),this}assertValidity(){N(this)}hasEvenY(){const{y:O}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(O)}equals(O){p(O);const{X:_,Y:U,Z:E}=this,{X:T,Y:M,Z:A}=O,q=n.eql(n.mul(_,A),n.mul(T,E)),R=n.eql(n.mul(U,A),n.mul(M,E));return q&&R}negate(){return new C(this.X,n.neg(this.Y),this.Z)}double(){const{a:O,b:_}=e,U=n.mul(_,xi),{X:E,Y:T,Z:M}=this;let A=n.ZERO,q=n.ZERO,R=n.ZERO,z=n.mul(E,E),K=n.mul(T,T),L=n.mul(M,M),Y=n.mul(E,T);return Y=n.add(Y,Y),R=n.mul(E,M),R=n.add(R,R),A=n.mul(O,R),q=n.mul(U,L),q=n.add(A,q),A=n.sub(K,q),q=n.add(K,q),q=n.mul(A,q),A=n.mul(Y,A),R=n.mul(U,R),L=n.mul(O,L),Y=n.sub(z,L),Y=n.mul(O,Y),Y=n.add(Y,R),R=n.add(z,z),z=n.add(R,z),z=n.add(z,L),z=n.mul(z,Y),q=n.add(q,z),L=n.mul(T,M),L=n.add(L,L),z=n.mul(L,Y),A=n.sub(A,z),R=n.mul(L,K),R=n.add(R,R),R=n.add(R,R),new C(A,q,R)}add(O){p(O);const{X:_,Y:U,Z:E}=this,{X:T,Y:M,Z:A}=O;let q=n.ZERO,R=n.ZERO,z=n.ZERO;const K=e.a,L=n.mul(e.b,xi);let Y=n.mul(_,T),ye=n.mul(U,M),Ee=n.mul(E,A),Qe=n.add(_,U),Ce=n.add(T,M);Qe=n.mul(Qe,Ce),Ce=n.add(Y,ye),Qe=n.sub(Qe,Ce),Ce=n.add(_,E);let en=n.add(T,A);return Ce=n.mul(Ce,en),en=n.add(Y,Ee),Ce=n.sub(Ce,en),en=n.add(U,E),q=n.add(M,A),en=n.mul(en,q),q=n.add(ye,Ee),en=n.sub(en,q),z=n.mul(K,Ce),q=n.mul(L,Ee),z=n.add(q,z),q=n.sub(ye,z),z=n.add(ye,z),R=n.mul(q,z),ye=n.add(Y,Y),ye=n.add(ye,Y),Ee=n.mul(K,Ee),Ce=n.mul(L,Ce),ye=n.add(ye,Ee),Ee=n.sub(Y,Ee),Ee=n.mul(K,Ee),Ce=n.add(Ce,Ee),Y=n.mul(ye,Ce),R=n.add(R,Y),Y=n.mul(en,Ce),q=n.mul(Qe,q),q=n.sub(q,Y),Y=n.mul(Qe,ye),z=n.mul(en,z),z=n.add(z,Y),new C(q,R,z)}subtract(O){return this.add(O.negate())}is0(){return this.equals(C.ZERO)}multiply(O){const{endo:_}=t;if(!a.isValidNot0(O))throw new Error("invalid scalar: out of range");let U,E;const T=M=>D.cached(this,M,A=>Na(C,A));if(_){const{k1neg:M,k1:A,k2neg:q,k2:R}=y(O),{p:z,f:K}=T(A),{p:L,f:Y}=T(R);E=K.add(Y),U=w(_.beta,z,L,M,q)}else{const{p:M,f:A}=T(O);U=M,E=A}return Na(C,[U,E])[0]}multiplyUnsafe(O){const{endo:_}=t,U=this;if(!a.isValid(O))throw new Error("invalid scalar: out of range");if(O===ss||U.is0())return C.ZERO;if(O===Nt)return U;if(D.hasCache(this))return this.multiply(O);if(_){const{k1neg:E,k1:T,k2neg:M,k2:A}=y(O),{p1:q,p2:R}=e8(C,U,T,A);return w(_.beta,q,R,E,M)}else return D.unsafe(U,O)}multiplyAndAddUnsafe(O,_,U){const E=this.multiplyUnsafe(_).add(O.multiplyUnsafe(U));return E.is0()?void 0:E}toAffine(O){return b(this,O)}isTorsionFree(){const{isTorsionFree:O}=t;return r===Nt?!0:O?O(C,this):D.unsafe(this,s).is0()}clearCofactor(){const{clearCofactor:O}=t;return r===Nt?this:O?O(C,this):this.multiplyUnsafe(r)}isSmallOrder(){return this.multiplyUnsafe(r).is0()}toBytes(O=!0){return Vc("isCompressed",O),this.assertValidity(),g(C,this,O)}toRawBytes(O=!0){return this.toBytes(O)}toHex(O=!0){return de(this.toBytes(O))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}C.BASE=new C(e.Gx,e.Gy,n.ONE),C.ZERO=new C(n.ZERO,n.ONE,n.ZERO),C.Fp=n,C.Fn=a;const B=a.BITS,D=new cE(C,t.endo?Math.ceil(B/2):B);return C}function Zp(e){const{CURVE:t,curveOpts:n}=u8(e),a=l8(t,n);return f8(e,a)}function c8(e){return Uint8Array.of(e?2:3)}function o8(e,t){const n=e.ORDER;let a=ss;for(let m=n-Nt;m%ca===ss;m/=ca)a+=Nt;const r=a,s=ca<<r-Nt-Nt,l=s*ca,c=(n-Nt)/l,o=(c-Nt)/ca,f=l-Nt,g=s,h=e.pow(t,c),u=e.pow(t,(c+Nt)/ca);let d=(m,S)=>{let v=h,p=e.pow(S,f),y=e.sqr(p);y=e.mul(y,S);let b=e.mul(m,y);b=e.pow(b,o),b=e.mul(b,p),p=e.mul(b,S),y=e.mul(b,m);let N=e.mul(y,p);b=e.pow(N,g);let w=e.eql(b,e.ONE);p=e.mul(y,u),b=e.mul(N,v),y=e.cmov(p,y,w),N=e.cmov(b,N,w);for(let C=r;C>Nt;C--){let B=C-ca;B=ca<<B-Nt;let D=e.pow(N,B);const j=e.eql(D,e.ONE);p=e.mul(y,v),v=e.mul(v,v),D=e.mul(N,v),y=e.cmov(p,y,j),N=e.cmov(D,N,j)}return{isValid:w,value:y}};if(e.ORDER%L0===xi){const m=(e.ORDER-xi)/L0,S=e.sqrt(e.neg(t));d=(v,p)=>{let y=e.sqr(p);const b=e.mul(v,p);y=e.mul(y,b);let N=e.pow(y,m);N=e.mul(N,b);const w=e.mul(N,S),C=e.mul(e.sqr(N),p),B=e.eql(C,v);let D=e.cmov(w,N,B);return{isValid:B,value:D}}}return d}function hE(e,t){aE(e);const{A:n,B:a,Z:r}=t;if(!e.isValid(n)||!e.isValid(a)||!e.isValid(r))throw new Error("mapToCurveSimpleSWU: invalid opts");const s=o8(e,r);if(!e.isOdd)throw new Error("Field does not have .isOdd()");return l=>{let c,o,f,g,h,u,d,m;c=e.sqr(l),c=e.mul(c,r),o=e.sqr(c),o=e.add(o,c),f=e.add(o,e.ONE),f=e.mul(f,a),g=e.cmov(r,e.neg(o),!e.eql(o,e.ZERO)),g=e.mul(g,n),o=e.sqr(f),u=e.sqr(g),h=e.mul(u,n),o=e.add(o,h),o=e.mul(o,f),u=e.mul(u,g),h=e.mul(u,a),o=e.add(o,h),d=e.mul(c,f);const{isValid:S,value:v}=s(o,u);m=e.mul(c,l),m=e.mul(m,v),d=e.cmov(d,f,S),m=e.cmov(m,v,S);const p=e.isOdd(l)===e.isOdd(m);m=e.cmov(e.neg(m),m,p);const y=As(e,[g],!0)[0];return d=e.mul(d,y),{x:d,y:m}}}function u8(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let a=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(l=>Math.ceil(l/2)))):void 0;const r=Xr(t.n,{BITS:e.nBitLength,allowedLengths:a,modOnDecode:e.wrapPrivateKey}),s={Fp:n,Fn:r,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:s}}function f8(e,t){const{Fp:n,Fn:a}=t;function r(l){return $v(l,Nt,a.ORDER)}const s=mE(n,e.a,e.b);return Object.assign({},{CURVE:e,Point:t,ProjectivePoint:t,normPrivateKeyToScalar:l=>Nf(a,l),weierstrassEquation:s,isWithinCurveOrder:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const d8=BigInt(0),au=BigInt(1),Xp=BigInt(2),vi=BigInt(3);function m8(e){const t=[];for(;e>au;e>>=au)(e&au)===d8?t.unshift(0):(e&vi)===vi?(t.unshift(-1),e+=au):t.unshift(1);return t}function om(e){if(!Array.isArray(e)||e.length===0)throw new Error("expected non-empty array")}function h8(e,t,n,a){const{Fp2:r,Fp12:s}=e,{twistType:l,ateLoopSize:c,xNegative:o,postPrecompute:f}=a;let g;if(l==="multiplicative")g=(b,N,w,C,B,D)=>s.mul014(C,b,r.mul(N,B),r.mul(w,D));else if(l==="divisive")g=(b,N,w,C,B,D)=>s.mul034(C,r.mul(w,D),r.mul(N,B),b);else throw new Error("bls: unknown twist type");const h=r.div(r.ONE,r.mul(r.ONE,Xp));function u(b,N,w,C){const B=r.sqr(w),D=r.sqr(C),j=r.mulByB(r.mul(D,vi)),O=r.mul(j,vi),_=r.sub(r.sub(r.sqr(r.add(w,C)),D),B),U=r.sub(j,B),E=r.mul(r.sqr(N),vi),T=r.neg(_);return b.push([U,E,T]),N=r.mul(r.mul(r.mul(r.sub(B,O),N),w),h),w=r.sub(r.sqr(r.mul(r.add(B,O),h)),r.mul(r.sqr(j),vi)),C=r.mul(B,_),{Rx:N,Ry:w,Rz:C}}function d(b,N,w,C,B,D){const j=r.sub(w,r.mul(D,C)),O=r.sub(N,r.mul(B,C)),_=r.sub(r.mul(j,B),r.mul(O,D)),U=r.neg(j),E=O;b.push([_,U,E]);const T=r.sqr(O),M=r.mul(T,O),A=r.mul(T,N),q=r.add(r.sub(M,r.mul(A,Xp)),r.mul(r.sqr(j),C));return N=r.mul(O,q),w=r.sub(r.mul(r.sub(A,q),j),r.mul(M,w)),C=r.mul(C,M),{Rx:N,Ry:w,Rz:C}}const m=m8(c),S=Kc(b=>{const N=b,{x:w,y:C}=N.toAffine(),B=w,D=C,j=r.neg(C);let O=B,_=D,U=r.ONE;const E=[];for(const T of m){const M=[];({Rx:O,Ry:_,Rz:U}=u(M,O,_,U)),T&&({Rx:O,Ry:_,Rz:U}=d(M,O,_,U,B,T===-1?j:D)),E.push(M)}if(f){const T=E[E.length-1];f(O,_,U,B,D,d.bind(null,T))}return E});function v(b,N=!1){let w=s.ONE;if(b.length){const C=b[0][0].length;for(let B=0;B<C;B++){w=s.sqr(w);for(const[D,j,O]of b)for(const[_,U,E]of D[B])w=g(_,U,E,w,j,O)}}return o&&(w=s.conjugate(w)),N?s.finalExponentiate(w):w}function p(b,N=!0){const w=[];Na(t,b.map(({g1:C})=>C)),Na(n,b.map(({g2:C})=>C));for(const{g1:C,g2:B}of b){if(C.is0()||B.is0())throw new Error("pairing is not available for ZERO point");C.assertValidity(),B.assertValidity();const D=C.toAffine();w.push([S(B),D.x,D.y])}return v(w,N)}function y(b,N,w=!0){return p([{g1:b,g2:N}],w)}return{Fp12:s,millerLoopBatch:v,pairing:y,pairingBatch:p,calcPairingPrecomputes:S}}function $p(e,t,n,a,r){const{Fp12:s,pairingBatch:l}=e;function c(h){return h instanceof t.Point?h:t.Point.fromHex(h)}function o(h){return h instanceof n.Point?h:n.Point.fromHex(h)}function f(h){if(!(h instanceof n.Point))throw new Error(`expected valid message hashed to ${r?"G1":"G2"} curve`);return h}const g=r?(h,u)=>({g1:u,g2:h}):(h,u)=>({g1:h,g2:u});return{getPublicKey(h){const u=Nf(t.Point.Fn,h);return t.Point.BASE.multiply(u)},sign(h,u,d){if(d!=null)throw new Error("sign() expects 2 arguments");const m=Nf(t.Point.Fn,u);return f(h).assertValidity(),h.multiply(m)},verify(h,u,d,m){if(m!=null)throw new Error("verify() expects 3 arguments");h=o(h),d=c(d);const S=d.negate(),v=t.Point.BASE,p=f(u),y=h,b=l([g(S,p),g(v,y)]);return s.eql(b,s.ONE)},verifyBatch(h,u,d){if(om(u),d.length!==u.length)throw new Error("amount of public keys and messages should be equal");const m=o(h),S=u,v=d.map(c),p=new Map;for(let N=0;N<v.length;N++){const w=v[N],C=S[N];let B=p.get(C);B===void 0&&(B=[],p.set(C,B)),B.push(w)}const y=[],b=t.Point.BASE;try{for(const[N,w]of p){const C=w.reduce((B,D)=>B.add(D));y.push(g(C,N))}return y.push(g(b.negate(),m)),s.eql(l(y),s.ONE)}catch{return!1}},aggregatePublicKeys(h){om(h),h=h.map(d=>c(d));const u=h.reduce((d,m)=>d.add(m),t.Point.ZERO);return u.assertValidity(),u},aggregateSignatures(h){om(h),h=h.map(d=>o(d));const u=h.reduce((d,m)=>d.add(m),n.Point.ZERO);return u.assertValidity(),u},hash(h,u){vt(h);const d=u?{DST:u}:void 0;return n.hashToCurve(h,d)},Signature:a}}function y8(e){const{Fp:t,Fr:n,Fp2:a,Fp6:r,Fp12:s}=e.fields,l=Zp(e.G1),c=Object.assign(l,Ip(l.Point,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults})),o=Zp(e.G2),f=Object.assign(o,Ip(o.Point,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults})),g=h8(e.fields,c.Point,f.Point,{...e.params,postPrecompute:e.postPrecompute}),{millerLoopBatch:h,pairing:u,pairingBatch:d,calcPairingPrecomputes:m}=g,S=$p(g,c,f,e.G2.Signature,!1),v=$p(g,f,c,e.G1.ShortSignature,!0),p=e.randomBytes||W2,y=()=>{const R=sE(n.ORDER);return FN(p(R),n.ORDER)},b={randomSecretKey:y,randomPrivateKey:y,calcPairingPrecomputes:m},{ShortSignature:N}=e.G1,{Signature:w}=e.G2;function C(R,z){return R instanceof c.Point?R:v.hash(_t("point",R),z==null?void 0:z.DST)}function B(R,z){return R instanceof f.Point?R:S.hash(_t("point",R),z==null?void 0:z.DST)}function D(R){return S.getPublicKey(R).toBytes(!0)}function j(R){return v.getPublicKey(R).toBytes(!0)}function O(R,z,K){const L=B(R,K),Y=S.sign(L,z);return R instanceof f.Point?Y:w.toBytes(Y)}function _(R,z,K){const L=C(R,K),Y=v.sign(L,z);return R instanceof c.Point?Y:N.toBytes(Y)}function U(R,z,K,L){const Y=B(z,L);return S.verify(R,Y,K)}function E(R,z,K,L){const Y=C(z,L);return v.verify(R,Y,K)}function T(R){const z=S.aggregatePublicKeys(R);return R[0]instanceof c.Point?z:z.toBytes(!0)}function M(R){const z=S.aggregateSignatures(R);return R[0]instanceof f.Point?z:w.toBytes(z)}function A(R){const z=v.aggregateSignatures(R);return R[0]instanceof c.Point?z:N.toBytes(z)}function q(R,z,K,L){const Y=z.map(ye=>B(ye,L));return S.verifyBatch(R,Y,K)}return c.Point.BASE.precompute(4),{longSignatures:S,shortSignatures:v,millerLoopBatch:h,pairing:u,pairingBatch:d,verifyBatch:q,fields:{Fr:n,Fp:t,Fp2:a,Fp6:r,Fp12:s},params:{ateLoopSize:e.params.ateLoopSize,twistType:e.params.twistType,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:b,getPublicKey:D,getPublicKeyForShortSignatures:j,sign:O,signShortSignature:_,verify:U,verifyShortSignature:E,aggregatePublicKeys:T,aggregateSignatures:M,aggregateShortSignatures:A,G1:c,G2:f,Signature:w,ShortSignature:N}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pp=BigInt(0),Ei=BigInt(1),pa=BigInt(2),Fp=BigInt(3);function um(e,t,n,a,r=1,s){const l=BigInt(s===void 0?a:s),c=n**BigInt(a),o=[];for(let f=0;f<r;f++){const g=BigInt(f+1),h=[];for(let u=0,d=Ei;u<a;u++){const m=(g*d-g)/l%c;h.push(e.pow(t,m)),d*=n}o.push(h)}return o}function g8(e,t,n){const a=t.pow(n,(e.ORDER-Ei)/Fp),r=t.pow(n,(e.ORDER-Ei)/pa);function s(u,d){const m=t.mul(t.frobeniusMap(u,1),a),S=t.mul(t.frobeniusMap(d,1),r);return[m,S]}const l=t.pow(n,(e.ORDER**pa-Ei)/Fp),c=t.pow(n,(e.ORDER**pa-Ei)/pa);if(!t.eql(c,t.neg(t.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function o(u,d){return[t.mul(u,l),t.neg(d)]}const f=u=>(d,m)=>{const S=m.toAffine(),v=u(S.x,S.y);return d.fromAffine({x:v[0],y:v[1]})},g=f(s),h=f(o);return{psi:s,psi2:o,G2psi:g,G2psi2:h,PSI_X:a,PSI_Y:r,PSI2_X:l,PSI2_Y:c}}function p8(e){const{ORDER:t}=e,n=Xr(t),a=n.create(e.NONRESIDUE||BigInt(-1)),r=n.div(n.ONE,pa),s=um(n,a,n.ORDER,2)[0],l=({c0:E,c1:T},{c0:M,c1:A})=>({c0:n.add(E,M),c1:n.add(T,A)}),c=({c0:E,c1:T},{c0:M,c1:A})=>({c0:n.sub(E,M),c1:n.sub(T,A)}),o=({c0:E,c1:T},M)=>{if(typeof M=="bigint")return{c0:n.mul(E,M),c1:n.mul(T,M)};const{c0:A,c1:q}=M;let R=n.mul(E,A),z=n.mul(T,q);const K=n.sub(R,z),L=n.sub(n.mul(n.add(E,T),n.add(A,q)),n.add(R,z));return{c0:K,c1:L}},f=({c0:E,c1:T})=>{const M=n.add(E,T),A=n.sub(E,T),q=n.add(E,E);return{c0:n.mul(M,A),c1:n.mul(q,T)}},g=E=>{if(E.length!==2)throw new Error("invalid tuple");const T=E.map(M=>n.create(M));return{c0:T[0],c1:T[1]}};function h(E,T){return typeof E=="bigint"&&Pp<=E&&E<T}const u=t*t,d=g(e.FP2_NONRESIDUE),m={ORDER:u,isLE:n.isLE,NONRESIDUE:d,BITS:zi(u),BYTES:Math.ceil(zi(u)/8),MASK:Ts(zi(u)),ZERO:{c0:n.ZERO,c1:n.ZERO},ONE:{c0:n.ONE,c1:n.ZERO},create:E=>E,isValid:({c0:E,c1:T})=>h(E,u)&&h(T,u),is0:({c0:E,c1:T})=>n.is0(E)&&n.is0(T),isValidNot0:E=>!m.is0(E)&&m.isValid(E),eql:({c0:E,c1:T},{c0:M,c1:A})=>n.eql(E,M)&&n.eql(T,A),neg:({c0:E,c1:T})=>({c0:n.neg(E),c1:n.neg(T)}),pow:(E,T)=>Eu(m,E,T),invertBatch:E=>As(m,E),add:l,sub:c,mul:o,sqr:f,addN:l,subN:c,mulN:o,sqrN:f,div:(E,T)=>m.mul(E,typeof T=="bigint"?n.inv(n.create(T)):m.inv(T)),inv:({c0:E,c1:T})=>{const M=n.inv(n.create(E*E+T*T));return{c0:n.mul(M,n.create(E)),c1:n.mul(M,n.create(-T))}},sqrt:E=>{if(e.Fp2sqrt)return e.Fp2sqrt(E);const{c0:T,c1:M}=E;if(n.is0(M))return Ef(n,T)===1?m.create({c0:n.sqrt(T),c1:n.ZERO}):m.create({c0:n.ZERO,c1:n.sqrt(n.div(T,a))});const A=n.sqrt(n.sub(n.sqr(T),n.mul(n.sqr(M),a)));let q=n.mul(n.add(A,T),r);Ef(n,q)===-1&&(q=n.sub(q,A));const z=n.sqrt(q),K=m.create({c0:z,c1:n.div(n.mul(M,r),z)});if(!m.eql(m.sqr(K),E))throw new Error("Cannot find square root");const L=K,Y=m.neg(L),{re:ye,im:Ee}=m.reim(L),{re:Qe,im:Ce}=m.reim(Y);return Ee>Ce||Ee===Ce&&ye>Qe?L:Y},isOdd:E=>{const{re:T,im:M}=m.reim(E),A=T%pa,q=T===Pp,R=M%pa;return BigInt(A||q&&R)==Ei},fromBytes(E){if(E.length!==m.BYTES)throw new Error("fromBytes invalid length="+E.length);return{c0:n.fromBytes(E.subarray(0,n.BYTES)),c1:n.fromBytes(E.subarray(n.BYTES))}},toBytes:({c0:E,c1:T})=>ue(n.toBytes(E),n.toBytes(T)),cmov:({c0:E,c1:T},{c0:M,c1:A},q)=>({c0:n.cmov(E,M,q),c1:n.cmov(T,A,q)}),reim:({c0:E,c1:T})=>({re:E,im:T}),mulByNonresidue:({c0:E,c1:T})=>m.mul({c0:E,c1:T},d),mulByB:e.Fp2mulByB,fromBigTuple:g,frobeniusMap:({c0:E,c1:T},M)=>({c0:E,c1:n.mul(T,s[M%2])})},S=({c0:E,c1:T,c2:M},{c0:A,c1:q,c2:R})=>({c0:m.add(E,A),c1:m.add(T,q),c2:m.add(M,R)}),v=({c0:E,c1:T,c2:M},{c0:A,c1:q,c2:R})=>({c0:m.sub(E,A),c1:m.sub(T,q),c2:m.sub(M,R)}),p=({c0:E,c1:T,c2:M},A)=>{if(typeof A=="bigint")return{c0:m.mul(E,A),c1:m.mul(T,A),c2:m.mul(M,A)};const{c0:q,c1:R,c2:z}=A,K=m.mul(E,q),L=m.mul(T,R),Y=m.mul(M,z);return{c0:m.add(K,m.mulByNonresidue(m.sub(m.mul(m.add(T,M),m.add(R,z)),m.add(L,Y)))),c1:m.add(m.sub(m.mul(m.add(E,T),m.add(q,R)),m.add(K,L)),m.mulByNonresidue(Y)),c2:m.sub(m.add(L,m.mul(m.add(E,M),m.add(q,z))),m.add(K,Y))}},y=({c0:E,c1:T,c2:M})=>{let A=m.sqr(E),q=m.mul(m.mul(E,T),pa),R=m.mul(m.mul(T,M),pa),z=m.sqr(M);return{c0:m.add(m.mulByNonresidue(R),A),c1:m.add(m.mulByNonresidue(z),q),c2:m.sub(m.sub(m.add(m.add(q,m.sqr(m.add(m.sub(E,T),M))),R),A),z)}},[b,N]=um(m,d,n.ORDER,6,2,3),w={ORDER:m.ORDER,isLE:m.isLE,BITS:3*m.BITS,BYTES:3*m.BYTES,MASK:Ts(3*m.BITS),ZERO:{c0:m.ZERO,c1:m.ZERO,c2:m.ZERO},ONE:{c0:m.ONE,c1:m.ZERO,c2:m.ZERO},create:E=>E,isValid:({c0:E,c1:T,c2:M})=>m.isValid(E)&&m.isValid(T)&&m.isValid(M),is0:({c0:E,c1:T,c2:M})=>m.is0(E)&&m.is0(T)&&m.is0(M),isValidNot0:E=>!w.is0(E)&&w.isValid(E),neg:({c0:E,c1:T,c2:M})=>({c0:m.neg(E),c1:m.neg(T),c2:m.neg(M)}),eql:({c0:E,c1:T,c2:M},{c0:A,c1:q,c2:R})=>m.eql(E,A)&&m.eql(T,q)&&m.eql(M,R),sqrt:Vp,div:(E,T)=>w.mul(E,typeof T=="bigint"?n.inv(n.create(T)):w.inv(T)),pow:(E,T)=>Eu(w,E,T),invertBatch:E=>As(w,E),add:S,sub:v,mul:p,sqr:y,addN:S,subN:v,mulN:p,sqrN:y,inv:({c0:E,c1:T,c2:M})=>{let A=m.sub(m.sqr(E),m.mulByNonresidue(m.mul(M,T))),q=m.sub(m.mulByNonresidue(m.sqr(M)),m.mul(E,T)),R=m.sub(m.sqr(T),m.mul(E,M)),z=m.inv(m.add(m.mulByNonresidue(m.add(m.mul(M,q),m.mul(T,R))),m.mul(E,A)));return{c0:m.mul(z,A),c1:m.mul(z,q),c2:m.mul(z,R)}},fromBytes:E=>{if(E.length!==w.BYTES)throw new Error("fromBytes invalid length="+E.length);return{c0:m.fromBytes(E.subarray(0,m.BYTES)),c1:m.fromBytes(E.subarray(m.BYTES,2*m.BYTES)),c2:m.fromBytes(E.subarray(2*m.BYTES))}},toBytes:({c0:E,c1:T,c2:M})=>ue(m.toBytes(E),m.toBytes(T),m.toBytes(M)),cmov:({c0:E,c1:T,c2:M},{c0:A,c1:q,c2:R},z)=>({c0:m.cmov(E,A,z),c1:m.cmov(T,q,z),c2:m.cmov(M,R,z)}),fromBigSix:E=>{if(!Array.isArray(E)||E.length!==6)throw new Error("invalid Fp6 usage");return{c0:m.fromBigTuple(E.slice(0,2)),c1:m.fromBigTuple(E.slice(2,4)),c2:m.fromBigTuple(E.slice(4,6))}},frobeniusMap:({c0:E,c1:T,c2:M},A)=>({c0:m.frobeniusMap(E,A),c1:m.mul(m.frobeniusMap(T,A),b[A%6]),c2:m.mul(m.frobeniusMap(M,A),N[A%6])}),mulByFp2:({c0:E,c1:T,c2:M},A)=>({c0:m.mul(E,A),c1:m.mul(T,A),c2:m.mul(M,A)}),mulByNonresidue:({c0:E,c1:T,c2:M})=>({c0:m.mulByNonresidue(M),c1:E,c2:T}),mul1:({c0:E,c1:T,c2:M},A)=>({c0:m.mulByNonresidue(m.mul(M,A)),c1:m.mul(E,A),c2:m.mul(T,A)}),mul01({c0:E,c1:T,c2:M},A,q){let R=m.mul(E,A),z=m.mul(T,q);return{c0:m.add(m.mulByNonresidue(m.sub(m.mul(m.add(T,M),q),z)),R),c1:m.sub(m.sub(m.mul(m.add(A,q),m.add(E,T)),R),z),c2:m.add(m.sub(m.mul(m.add(E,M),A),R),z)}}},C=um(m,d,n.ORDER,12,1,6)[0],B=({c0:E,c1:T},{c0:M,c1:A})=>({c0:w.add(E,M),c1:w.add(T,A)}),D=({c0:E,c1:T},{c0:M,c1:A})=>({c0:w.sub(E,M),c1:w.sub(T,A)}),j=({c0:E,c1:T},M)=>{if(typeof M=="bigint")return{c0:w.mul(E,M),c1:w.mul(T,M)};let{c0:A,c1:q}=M,R=w.mul(E,A),z=w.mul(T,q);return{c0:w.add(R,w.mulByNonresidue(z)),c1:w.sub(w.mul(w.add(E,T),w.add(A,q)),w.add(R,z))}},O=({c0:E,c1:T})=>{let M=w.mul(E,T);return{c0:w.sub(w.sub(w.mul(w.add(w.mulByNonresidue(T),E),w.add(E,T)),M),w.mulByNonresidue(M)),c1:w.add(M,M)}};function _(E,T){const M=m.sqr(E),A=m.sqr(T);return{first:m.add(m.mulByNonresidue(A),M),second:m.sub(m.sub(m.sqr(m.add(E,T)),M),A)}}const U={ORDER:m.ORDER,isLE:w.isLE,BITS:2*w.BITS,BYTES:2*w.BYTES,MASK:Ts(2*w.BITS),ZERO:{c0:w.ZERO,c1:w.ZERO},ONE:{c0:w.ONE,c1:w.ZERO},create:E=>E,isValid:({c0:E,c1:T})=>w.isValid(E)&&w.isValid(T),is0:({c0:E,c1:T})=>w.is0(E)&&w.is0(T),isValidNot0:E=>!U.is0(E)&&U.isValid(E),neg:({c0:E,c1:T})=>({c0:w.neg(E),c1:w.neg(T)}),eql:({c0:E,c1:T},{c0:M,c1:A})=>w.eql(E,M)&&w.eql(T,A),sqrt:Vp,inv:({c0:E,c1:T})=>{let M=w.inv(w.sub(w.sqr(E),w.mulByNonresidue(w.sqr(T))));return{c0:w.mul(E,M),c1:w.neg(w.mul(T,M))}},div:(E,T)=>U.mul(E,typeof T=="bigint"?n.inv(n.create(T)):U.inv(T)),pow:(E,T)=>Eu(U,E,T),invertBatch:E=>As(U,E),add:B,sub:D,mul:j,sqr:O,addN:B,subN:D,mulN:j,sqrN:O,fromBytes:E=>{if(E.length!==U.BYTES)throw new Error("fromBytes invalid length="+E.length);return{c0:w.fromBytes(E.subarray(0,w.BYTES)),c1:w.fromBytes(E.subarray(w.BYTES))}},toBytes:({c0:E,c1:T})=>ue(w.toBytes(E),w.toBytes(T)),cmov:({c0:E,c1:T},{c0:M,c1:A},q)=>({c0:w.cmov(E,M,q),c1:w.cmov(T,A,q)}),fromBigTwelve:E=>({c0:w.fromBigSix(E.slice(0,6)),c1:w.fromBigSix(E.slice(6,12))}),frobeniusMap(E,T){const{c0:M,c1:A,c2:q}=w.frobeniusMap(E.c1,T),R=C[T%12];return{c0:w.frobeniusMap(E.c0,T),c1:w.create({c0:m.mul(M,R),c1:m.mul(A,R),c2:m.mul(q,R)})}},mulByFp2:({c0:E,c1:T},M)=>({c0:w.mulByFp2(E,M),c1:w.mulByFp2(T,M)}),conjugate:({c0:E,c1:T})=>({c0:E,c1:w.neg(T)}),mul014:({c0:E,c1:T},M,A,q)=>{let R=w.mul01(E,M,A),z=w.mul1(T,q);return{c0:w.add(w.mulByNonresidue(z),R),c1:w.sub(w.sub(w.mul01(w.add(T,E),M,m.add(A,q)),R),z)}},mul034:({c0:E,c1:T},M,A,q)=>{const R=w.create({c0:m.mul(E.c0,M),c1:m.mul(E.c1,M),c2:m.mul(E.c2,M)}),z=w.mul01(T,A,q),K=w.mul01(w.add(E,T),m.add(M,A),q);return{c0:w.add(w.mulByNonresidue(z),R),c1:w.sub(K,w.add(R,z))}},_cyclotomicSquare:e.Fp12cyclotomicSquare,_cyclotomicExp:e.Fp12cyclotomicExp,finalExponentiate:e.Fp12finalExponentiate};return{Fp:n,Fp2:m,Fp6:w,Fp12:U,Fp4Square:_}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pt=BigInt(0),Sf=BigInt(1),rt=BigInt(2),cd=BigInt(3),Lc=BigInt(4),Fa=BigInt("0xd201000000010000"),b8=zi(Fa),Hs={p:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),n:BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001"),h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),a:pt,b:Lc,Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1")},x8=Xr(Hs.n,{modOnDecode:!0}),{Fp:Z,Fp2:I,Fp6:I0,Fp4Square:fm,Fp12:ae}=p8({ORDER:Hs.p,FP2_NONRESIDUE:[Sf,Sf],Fp2mulByB:({c0:e,c1:t})=>{const n=Z.mul(e,Lc),a=Z.mul(t,Lc);return{c0:Z.sub(n,a),c1:Z.add(n,a)}},Fp12cyclotomicSquare:({c0:e,c1:t})=>{const{c0:n,c1:a,c2:r}=e,{c0:s,c1:l,c2:c}=t,{first:o,second:f}=fm(n,l),{first:g,second:h}=fm(s,r),{first:u,second:d}=fm(a,c),m=I.mulByNonresidue(d);return{c0:I0.create({c0:I.add(I.mul(I.sub(o,n),rt),o),c1:I.add(I.mul(I.sub(g,a),rt),g),c2:I.add(I.mul(I.sub(u,r),rt),u)}),c1:I0.create({c0:I.add(I.mul(I.add(m,s),rt),m),c1:I.add(I.mul(I.add(f,l),rt),f),c2:I.add(I.mul(I.add(h,c),rt),h)})}},Fp12cyclotomicExp(e,t){let n=ae.ONE;for(let a=b8-1;a>=0;a--)n=ae._cyclotomicSquare(n),GN(t,a)&&(n=ae.mul(n,e));return n},Fp12finalExponentiate:e=>{const t=Fa,n=ae.div(ae.frobeniusMap(e,6),e),a=ae.mul(ae.frobeniusMap(n,2),n),r=ae.conjugate(ae._cyclotomicExp(a,t)),s=ae.mul(ae.conjugate(ae._cyclotomicSquare(a)),r),l=ae.conjugate(ae._cyclotomicExp(s,t)),c=ae.conjugate(ae._cyclotomicExp(l,t)),o=ae.mul(ae.conjugate(ae._cyclotomicExp(c,t)),ae._cyclotomicSquare(r)),f=ae.conjugate(ae._cyclotomicExp(o,t)),g=ae.frobeniusMap(ae.mul(r,c),2),h=ae.frobeniusMap(ae.mul(l,a),3),u=ae.frobeniusMap(ae.mul(o,ae.conjugate(a)),1),d=ae.mul(ae.mul(f,ae.conjugate(s)),a);return ae.mul(ae.mul(ae.mul(g,h),u),d)}}),{G2psi:Jp,G2psi2:v8}=g8(Z,I,I.div(I.ONE,I.NONRESIDUE)),dm=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:Z.ORDER,m:2,k:128,expand:"xmd",hash:Zt}),Uy={p:I.ORDER,n:Hs.n,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),a:I.ZERO,b:I.fromBigTuple([Lc,Lc]),Gx:I.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:I.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")])},od=Mo(Z.toBytes(pt),{infinity:!0,compressed:!0});function ud(e){e=e.slice();const t=e[0]&224,n=!!(t>>7&1),a=!!(t>>6&1),r=!!(t>>5&1);return e[0]&=31,{compressed:n,infinity:a,sort:r,value:e}}function Mo(e,t){if(e[0]&224)throw new Error("setMask: non-empty mask");return t.compressed&&(e[0]|=128),t.infinity&&(e[0]|=64),t.sort&&(e[0]|=32),e}function E8(e,t,n){const{BYTES:a,ORDER:r}=Z,s=t.is0(),{x:l,y:c}=t.toAffine();if(n){if(s)return od.slice();const o=!!(c*rt/r);return Mo(ut(l,a),{compressed:!0,sort:o})}else return s?ue(Uint8Array.of(64),new Uint8Array(2*a-1)):ue(ut(l,a),ut(c,a))}function mm(e){e.assertValidity();const{BYTES:t,ORDER:n}=Z,{x:a,y:r}=e.toAffine();if(e.is0())return od.slice();const s=!!(r*rt/n);return Mo(ut(a,t),{compressed:!0,sort:s})}function w8(e){const{compressed:t,infinity:n,sort:a,value:r}=ud(e),{BYTES:s,ORDER:l}=Z;if(r.length===48&&t){const c=Fn(r),o=Z.create(c&Z.MASK);if(n){if(o!==pt)throw new Error("invalid G1 point: non-empty, at infinity, with compression");return{x:pt,y:pt}}const f=Z.add(Z.pow(o,cd),Z.create(Hs.b));let g=Z.sqrt(f);if(!g)throw new Error("invalid G1 point: compressed point");return g*rt/l!==BigInt(a)&&(g=Z.neg(g)),{x:Z.create(o),y:Z.create(g)}}else if(r.length===96&&!t){const c=Fn(r.subarray(0,s)),o=Fn(r.subarray(s));if(n){if(c!==pt||o!==pt)throw new Error("G1: non-empty point at infinity");return fd.G1.Point.ZERO.toAffine()}return{x:Z.create(c),y:Z.create(o)}}else throw new Error("invalid G1 point: expected 48/96 bytes")}function Wp(e){const{infinity:t,sort:n,value:a}=ud(_t("signatureHex",e,48)),r=Z.ORDER,s=fd.G1.Point,l=Fn(a);if(t)return s.ZERO;const c=Z.create(l&Z.MASK),o=Z.add(Z.pow(c,cd),Z.create(Hs.b));let f=Z.sqrt(o);if(!f)throw new Error("invalid G1 point: compressed");const g=BigInt(n);f*rt/r!==g&&(f=Z.neg(f));const h=s.fromAffine({x:c,y:f});return h.assertValidity(),h}function N8(e,t,n){const{BYTES:a,ORDER:r}=Z,s=t.is0(),{x:l,y:c}=t.toAffine();if(n){if(s)return ue(od,ut(pt,a));const o=!!(c.c1===pt?c.c0*rt/r:c.c1*rt/r);return ue(Mo(ut(l.c1,a),{compressed:!0,sort:o}),ut(l.c0,a))}else{if(s)return ue(Uint8Array.of(64),new Uint8Array(4*a-1));const{re:o,im:f}=I.reim(l),{re:g,im:h}=I.reim(c);return ue(ut(f,a),ut(o,a),ut(h,a),ut(g,a))}}function hm(e){e.assertValidity();const{BYTES:t}=Z;if(e.is0())return ue(od,ut(pt,t));const{x:n,y:a}=e.toAffine(),{re:r,im:s}=I.reim(n),{re:l,im:c}=I.reim(a),f=!!((c>pt?c*rt:l*rt)/Z.ORDER&Sf),g=r;return ue(Mo(ut(s,t),{sort:f,compressed:!0}),ut(g,t))}function S8(e){const{BYTES:t,ORDER:n}=Z,{compressed:a,infinity:r,sort:s,value:l}=ud(e);if(!a&&!r&&s||!a&&r&&s||s&&r&&a)throw new Error("invalid encoding flag: "+(e[0]&224));const c=(o,f,g)=>Fn(o.slice(f,g));if(l.length===96&&a){if(r){if(l.reduce((m,S)=>m!==0?S+1:S,0)>0)throw new Error("invalid G2 point: compressed");return{x:I.ZERO,y:I.ZERO}}const o=c(l,0,t),f=c(l,t,2*t),g=I.create({c0:Z.create(f),c1:Z.create(o)}),h=I.add(I.pow(g,cd),Uy.b);let u=I.sqrt(h);const d=u.c1===pt?u.c0*rt/n:u.c1*rt/n?Sf:pt;return u=s&&d>0?u:I.neg(u),{x:g,y:u}}else if(l.length===192&&!a){if(r){if(l.reduce((u,d)=>u!==0?d+1:d,0)>0)throw new Error("invalid G2 point: uncompressed");return{x:I.ZERO,y:I.ZERO}}const o=c(l,0*t,1*t),f=c(l,1*t,2*t),g=c(l,2*t,3*t),h=c(l,3*t,4*t);return{x:I.fromBigTuple([f,o]),y:I.fromBigTuple([h,g])}}else throw new Error("invalid G2 point: expected 96/192 bytes")}function eb(e){const{ORDER:t}=Z,{infinity:n,sort:a,value:r}=ud(_t("signatureHex",e)),s=fd.G2.Point,l=r.length/2;if(l!==48&&l!==96)throw new Error("invalid compressed signature length, expected 96/192 bytes");const c=Fn(r.slice(0,l)),o=Fn(r.slice(l));if(n)return s.ZERO;const f=Z.create(c&Z.MASK),g=Z.create(o),h=I.create({c0:g,c1:f}),u=I.add(I.pow(h,cd),Uy.b);let d=I.sqrt(u);if(!d)throw new Error("Failed to find a square root");const{re:m,im:S}=I.reim(d),v=BigInt(a),p=S>pt&&S*rt/t!==v,y=S===pt&&m*rt/t!==v;(p||y)&&(d=I.neg(d));const b=s.fromAffine({x:h,y:d});return b.assertValidity(),b}const fd=y8({fields:{Fp:Z,Fp2:I,Fp6:I0,Fp12:ae,Fr:x8},G1:{...Hs,Fp:Z,htfDefaults:{...dm,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,t)=>{const n=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),a=new e(Z.mul(t.X,n),t.Y,t.Z);return t.multiplyUnsafe(Fa).negate().multiplyUnsafe(Fa).equals(a)},clearCofactor:(e,t)=>t.multiplyUnsafe(Fa).add(t),mapToCurve:O8,fromBytes:w8,toBytes:E8,ShortSignature:{fromBytes(e){return vt(e),Wp(e)},fromHex(e){return Wp(e)},toBytes(e){return mm(e)},toRawBytes(e){return mm(e)},toHex(e){return de(mm(e))}}},G2:{...Uy,Fp:I,hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...dm},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:C8,isTorsionFree:(e,t)=>t.multiplyUnsafe(Fa).negate().equals(Jp(e,t)),clearCofactor:(e,t)=>{const n=Fa;let a=t.multiplyUnsafe(n).negate(),r=Jp(e,t),s=t.double();return s=v8(e,s),s=s.subtract(r),r=a.add(r),r=r.multiplyUnsafe(n).negate(),s=s.add(r),s=s.subtract(a),s.subtract(t)},fromBytes:S8,toBytes:N8,Signature:{fromBytes(e){return vt(e),eb(e)},fromHex(e){return eb(e)},toBytes(e){return hm(e)},toRawBytes(e){return hm(e)},toHex(e){return de(hm(e))}}},params:{ateLoopSize:Fa,r:Hs.n,xNegative:!0,twistType:"multiplicative"},htfDefaults:dm,hash:Zt}),_8=dE(I,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(e=>e.map(t=>I.fromBigTuple(t.map(BigInt))))),T8=dE(Z,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),A8=hE(Z,{A:Z.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:Z.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:Z.create(BigInt(11))}),R8=hE(I,{A:I.create({c0:Z.create(pt),c1:Z.create(BigInt(240))}),B:I.create({c0:Z.create(BigInt(1012)),c1:Z.create(BigInt(1012))}),Z:I.create({c0:Z.create(BigInt(-2)),c1:Z.create(BigInt(-1))})});function O8(e){const{x:t,y:n}=A8(Z.create(e[0]));return T8(t,n)}function C8(e){const{x:t,y:n}=R8(I.fromBigTuple(e));return _8(t,n)}function M8(e,t,n){const a=typeof e=="string"?e:de(e),r=typeof t=="string"?t:de(t),s=typeof n=="string"?n:de(n);return fd.verifyShortSignature(r,s,a)}const yE=e=>tt(new Al(e)),qy=e=>{const t=yE(e);return new Date(Number(t)/1e6)};var dt;(function(e){e[e.Empty=0]="Empty",e[e.Fork=1]="Fork",e[e.Labeled=2]="Labeled",e[e.Leaf=3]="Leaf",e[e.Pruned=4]="Pruned"})(dt||(dt={}));function B8(e,t){for(let n=0;n<e.length;n++)if(e[n]>t[n])return!0;return!1}var Fc;const yc=class yc{constructor(t,n,a,r,s=5,l=!1){V(this,Fc,!1);this._rootKey=n,this._canisterId=a,this._blsVerify=r,this._maxAgeInMinutes=s,k(this,Fc,l),this.cert=Yn(t)}static async create(t){const n=yc.createUnverified(t);return await n.verify(),n}static createUnverified(t){return new yc(t.certificate,t.rootKey,t.canisterId,t.blsVerify??M8,t.maxAgeInMinutes,t.disableTimeVerification)}lookup_path(t){return Bo(t,this.cert.tree)}lookup_subtree(t){return Dy(t,this.cert.tree)}async verify(){const t=await wu(this.cert.tree),n=await this._checkDelegationAndGetKey(this.cert.delegation),a=this.cert.signature,r=q8(n),s=ue(Xl("ic-state-root"),t);let l=!1;const c=Xt(this.lookup_path(["time"]));if(!c)throw Ve.fromCode(new Bc("Certificate does not contain a time"));if(!x(this,Fc)){const f=this._maxAgeInMinutes*60*1e3,g=Date.now(),h=g-f,u=g+3e5,d=qy(c);if(d.getTime()<h)throw hn.fromCode(new of(this._maxAgeInMinutes,d,new Date(g),"past"));if(d.getTime()>u)throw hn.fromCode(new of(5,d,new Date(g),"future"))}try{l=await this._blsVerify(new Uint8Array(r),new Uint8Array(a),new Uint8Array(s))}catch{l=!1}if(!l)throw hn.fromCode(new Bc("Signature verification failed"))}async _checkDelegationAndGetKey(t){if(!t)return this._rootKey;const n=yc.createUnverified({certificate:t.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,disableTimeVerification:!0});if(n.cert.delegation)throw Ve.fromCode(new ly);if(await n.verify(),this._canisterId.toString()!==i5&&!pE({canisterId:this._canisterId,subnetId:se.fromUint8Array(new Uint8Array(t.subnet_id)),tree:n.cert.tree}))throw hn.fromCode(new Wf(this._canisterId,t.subnet_id));const a=Xt(n.lookup_path(["subnet",t.subnet_id,"public_key"]));if(!a)throw hn.fromCode(new cy(`Could not find subnet key for subnet 0x${de(t.subnet_id)}`));return a}};Fc=new WeakMap;let Ic=yc;const Gl=Pn("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),U8=96;function q8(e){const t=Gl.byteLength+U8;if(e.byteLength!==t)throw Ve.fromCode(new td(t,e.byteLength));const n=e.slice(0,Gl.byteLength);if(!id(n,Gl))throw Ve.fromCode(new oy(Gl,n));return e.slice(Gl.byteLength)}function Xt(e){if(e.status===fn.Found&&e.value instanceof Uint8Array)return e.value}async function wu(e){switch(e[0]){case dt.Empty:return Zt(Xl("ic-hashtree-empty"));case dt.Pruned:return e[1];case dt.Leaf:return Zt(ue(Xl("ic-hashtree-leaf"),e[1]));case dt.Labeled:return Zt(ue(Xl("ic-hashtree-labeled"),e[1],await wu(e[2])));case dt.Fork:return Zt(ue(Xl("ic-hashtree-fork"),await wu(e[1]),await wu(e[2])));default:throw Ui}}function Xl(e){const t=new Uint8Array([e.length]),n=new TextEncoder().encode(e);return ue(t,n)}function gE(e){return typeof e[0]=="string"?ke(e[0]):e[0]}var fn;(function(e){e.Unknown="Unknown",e.Absent="Absent",e.Found="Found",e.Error="Error"})(fn||(fn={}));var ji;(function(e){e.Absent="Absent",e.Unknown="Unknown",e.Found="Found"})(ji||(ji={}));var Be;(function(e){e.Absent="Absent",e.Unknown="Unknown",e.Found="Found",e.Less="Less",e.Greater="Greater"})(Be||(Be={}));function Bo(e,t){if(e.length===0)switch(t[0]){case dt.Empty:return{status:fn.Absent};case dt.Leaf:{if(!t[1])throw Lt.fromCode(new Oo("Invalid tree structure for leaf"));if(t[1]instanceof Uint8Array)return{status:fn.Found,value:t[1].slice(t[1].byteOffset,t[1].byteLength+t[1].byteOffset)};throw Ui}case dt.Pruned:return{status:fn.Unknown};case dt.Labeled:case dt.Fork:return{status:fn.Error};default:throw Ui}const n=gE(e),a=fc(n,t);switch(a.status){case Be.Found:return Bo(e.slice(1),a.value);case Be.Absent:case Be.Greater:case Be.Less:return{status:fn.Absent};case Be.Unknown:return{status:fn.Unknown};default:throw Ui}}function Dy(e,t){if(e.length===0)return{status:ji.Found,value:t};const n=gE(e),a=fc(n,t);switch(a.status){case Be.Found:return Dy(e.slice(1),a.value);case Be.Unknown:return{status:ji.Unknown};case Be.Absent:case Be.Greater:case Be.Less:return{status:ji.Absent};default:throw Ui}}function Q0(e){switch(e[0]){case dt.Empty:return[];case dt.Fork:return Q0(e[1]).concat(Q0(e[2]));default:return[e]}}function fc(e,t){switch(t[0]){case dt.Labeled:return B8(e,t[1])?{status:Be.Greater}:id(e,t[1])?{status:Be.Found,value:t[2]}:{status:Be.Less};case dt.Fork:{const n=fc(e,t[1]);switch(n.status){case Be.Greater:{const a=fc(e,t[2]);return a.status===Be.Less?{status:Be.Absent}:a}case Be.Unknown:{const a=fc(e,t[2]);return a.status===Be.Less?{status:Be.Unknown}:a}default:return n}}case dt.Pruned:return{status:Be.Unknown};default:return{status:Be.Absent}}}function pE(e){const{canisterId:t,subnetId:n,tree:a}=e,r=Bo(["subnet",n.toUint8Array(),"canister_ranges"],a);if(r.status!==fn.Found)throw Ve.fromCode(new hl(`Could not find canister ranges for subnet ${n.toText()}`,r.status));if(!(r.value instanceof Uint8Array))throw Ve.fromCode(new ed(`Could not find canister ranges for subnet ${n.toText()}`));return Yn(r.value).map(o=>[se.fromUint8Array(o[0]),se.fromUint8Array(o[1])]).some(o=>o[0].ltEq(t)&&o[1].gtEq(t))}const tb=async e=>{const{agent:t,paths:n}=e,a=se.from(e.canisterId),r=[...new Set(n)],s=new Map,l=r.map((c,o)=>{const f=z8(c,a);return(async()=>{try{const g=await t.readState(a,{paths:[f]});if(t.rootKey==null)throw Tt.fromCode(new qs);const h=await Ic.create({certificate:g.certificate,rootKey:t.rootKey,canisterId:a,disableTimeVerification:!0}),u=(S,v)=>{if(v==="subnet"){if(t.rootKey==null)throw Tt.fromCode(new qs);const p=D8(g.certificate,a,t.rootKey);return{path:v,data:p}}else return{path:v,data:Xt(S.lookup_path(f))}},{path:d,data:m}=u(h,r[o]);if(!m)console.warn(`Expected to find result for path ${d}, but instead found nothing.`),typeof d=="string"?s.set(d,null):s.set(d.key,null);else switch(d){case"time":{s.set(d,qy(m));break}case"controllers":{s.set(d,j8(m));break}case"module_hash":{s.set(d,de(m));break}case"subnet":{s.set(d,m);break}case"candid":{s.set(d,new TextDecoder().decode(m));break}default:if(typeof d!="string"&&"key"in d&&"path"in d)switch(d.decodeStrategy){case"raw":s.set(d.key,m);break;case"leb128":{s.set(d.key,yE(m));break}case"cbor":{s.set(d.key,Yn(m));break}case"hex":{s.set(d.key,de(m));break}case"utf-8":s.set(d.key,new TextDecoder().decode(m))}}}catch(g){if(g instanceof ga&&g.hasCode(Bc))throw g;typeof c!="string"&&"key"in c&&"path"in c?s.set(c.key,null):s.set(c,null),console.group(),console.warn(`Expected to find result for path ${c}, but instead found nothing.`),console.warn(g),console.groupEnd()}})()});return await Promise.all(l),s},D8=(e,t,n)=>{if(!t._isPrincipal)throw _e.fromCode(new Kn("Invalid canisterId"));const a=Yn(e),r=a.tree;let s=a.delegation,l;if(s&&s.subnet_id?l=se.fromUint8Array(new Uint8Array(s.subnet_id)):!s&&typeof n<"u"?(l=se.selfAuthenticating(new Uint8Array(n)),s={subnet_id:l.toUint8Array(),certificate:new Uint8Array(0)}):(l=se.selfAuthenticating(se.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),s={subnet_id:l.toUint8Array(),certificate:new Uint8Array(0)}),!pE({canisterId:t,subnetId:l,tree:r}))throw hn.fromCode(new Wf(t,s.subnet_id));const o=Dy(["subnet",s.subnet_id,"node"],r);if(o.status!==ji.Found)throw Ve.fromCode(new hl("Node not found",o.status));if(o.value instanceof Uint8Array)throw Lt.fromCode(new Oo("Invalid node tree"));const f=Q0(o.value),g=new Map;return f.forEach(h=>{const u=se.from(h[1]).toText(),d=Bo(["public_key"],h[2]);if(d.status!==fn.Found)throw Ve.fromCode(new hl("Public key not found",d.status));const m=d.value;if(m.byteLength!==44)throw Ve.fromCode(new td(44,m.byteLength));g.set(u,m)}),{subnetId:se.fromUint8Array(new Uint8Array(s.subnet_id)).toText(),nodeKeys:g}},z8=(e,t)=>{const n=t.toUint8Array();switch(e){case"time":return[ke("time")];case"controllers":return[ke("canister"),n,ke("controllers")];case"module_hash":return[ke("canister"),n,ke("module_hash")];case"subnet":return[ke("subnet")];case"candid":return[ke("canister"),n,ke("metadata"),ke("candid:service")];default:if("key"in e&&"path"in e)if(typeof e.path=="string"||e.path instanceof Uint8Array){const a=e.path,r=typeof a=="string"?ke(a):a;return[ke("canister"),n,ke("metadata"),r]}else return e.path}throw Lt.fromCode(new Kn(`Error while encoding your path for canister status. Please ensure that your path ${e} was formatted correctly.`))},j8=e=>Yn(e).map(n=>se.fromUint8Array(n));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qn=BigInt(0),Ze=BigInt(1),ym=BigInt(2),k8=BigInt(8);function H8(e,t,n,a){const r=e.sqr(n),s=e.sqr(a),l=e.add(e.mul(t.a,r),s),c=e.add(e.ONE,e.mul(t.d,e.mul(r,s)));return e.eql(l,c)}function V8(e,t={}){const{Fp:n,Fn:a}=uE("edwards",e,t),{h:r,n:s}=e;Co(t,{},{uvRatio:"function"});const l=ym<<BigInt(a.BYTES*8)-Ze,c=S=>n.create(S),o=t.uvRatio||((S,v)=>{try{return{isValid:!0,value:n.sqrt(n.div(S,v))}}catch{return{isValid:!1,value:qn}}});if(!H8(n,e,e.Gx,e.Gy))throw new Error("bad curve params: generator point");function f(S,v,p=!1){const y=p?Ze:qn;return Zl("coordinate "+S,v,y,l),v}function g(S){if(!(S instanceof d))throw new Error("ExtendedPoint expected")}const h=Kc((S,v)=>{const{X:p,Y:y,Z:b}=S,N=S.is0();v==null&&(v=N?k8:n.inv(b));const w=c(p*v),C=c(y*v),B=n.mul(b,v);if(N)return{x:qn,y:Ze};if(B!==Ze)throw new Error("invZ was invalid");return{x:w,y:C}}),u=Kc(S=>{const{a:v,d:p}=e;if(S.is0())throw new Error("bad point: ZERO");const{X:y,Y:b,Z:N,T:w}=S,C=c(y*y),B=c(b*b),D=c(N*N),j=c(D*D),O=c(C*v),_=c(D*c(O+B)),U=c(j+c(p*c(C*B)));if(_!==U)throw new Error("bad point: equation left != right (1)");const E=c(y*b),T=c(N*w);if(E!==T)throw new Error("bad point: equation left != right (2)");return!0});class d{constructor(v,p,y,b){this.X=f("x",v),this.Y=f("y",p),this.Z=f("z",y,!0),this.T=f("t",b),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(v){return Na(d,v)}static msm(v,p){return oE(d,a,v,p)}_setWindowSize(v){this.precompute(v)}static fromAffine(v){if(v instanceof d)throw new Error("extended point not allowed");const{x:p,y}=v||{};return f("x",p),f("y",y),new d(p,y,Ze,c(p*y))}precompute(v=8,p=!0){return m.createCache(this,v),p||this.multiply(ym),this}assertValidity(){u(this)}equals(v){g(v);const{X:p,Y:y,Z:b}=this,{X:N,Y:w,Z:C}=v,B=c(p*C),D=c(N*b),j=c(y*C),O=c(w*b);return B===D&&j===O}is0(){return this.equals(d.ZERO)}negate(){return new d(c(-this.X),this.Y,this.Z,c(-this.T))}double(){const{a:v}=e,{X:p,Y:y,Z:b}=this,N=c(p*p),w=c(y*y),C=c(ym*c(b*b)),B=c(v*N),D=p+y,j=c(c(D*D)-N-w),O=B+w,_=O-C,U=B-w,E=c(j*_),T=c(O*U),M=c(j*U),A=c(_*O);return new d(E,T,A,M)}add(v){g(v);const{a:p,d:y}=e,{X:b,Y:N,Z:w,T:C}=this,{X:B,Y:D,Z:j,T:O}=v,_=c(b*B),U=c(N*D),E=c(C*y*O),T=c(w*j),M=c((b+N)*(B+D)-_-U),A=T-E,q=T+E,R=c(U-p*_),z=c(M*A),K=c(q*R),L=c(M*R),Y=c(A*q);return new d(z,K,Y,L)}subtract(v){return this.add(v.negate())}multiply(v){const p=v;Zl("scalar",p,Ze,s);const{p:y,f:b}=m.cached(this,p,N=>Na(d,N));return Na(d,[y,b])[0]}multiplyUnsafe(v,p=d.ZERO){const y=v;return Zl("scalar",y,qn,s),y===qn?d.ZERO:this.is0()||y===Ze?this:m.unsafe(this,y,b=>Na(d,b),p)}isSmallOrder(){return this.multiplyUnsafe(r).is0()}isTorsionFree(){return m.unsafe(this,s).is0()}toAffine(v){return h(this,v)}clearCofactor(){return r===Ze?this:this.multiplyUnsafe(r)}static fromBytes(v,p=!1){return vt(v),d.fromHex(v,p)}static fromHex(v,p=!1){const{d:y,a:b}=e,N=n.BYTES;v=_t("pointHex",v,N),Vc("zip215",p);const w=v.slice(),C=v[N-1];w[N-1]=C&-129;const B=Gc(w),D=p?l:n.ORDER;Zl("pointHex.y",B,qn,D);const j=c(B*B),O=c(j-Ze),_=c(y*j-b);let{isValid:U,value:E}=o(O,_);if(!U)throw new Error("Point.fromHex: invalid y coordinate");const T=(E&Ze)===Ze,M=(C&128)!==0;if(!p&&E===qn&&M)throw new Error("Point.fromHex: x=0 and x_0=1");return M!==T&&(E=c(-E)),d.fromAffine({x:E,y:B})}toBytes(){const{x:v,y:p}=this.toAffine(),y=ld(p,n.BYTES);return y[y.length-1]|=v&Ze?128:0,y}toRawBytes(){return this.toBytes()}toHex(){return de(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}d.BASE=new d(e.Gx,e.Gy,Ze,c(e.Gx*e.Gy)),d.ZERO=new d(qn,Ze,Ze,qn),d.Fp=n,d.Fn=a;const m=new cE(d,a.BYTES*8);return d}function G8(e,t,n){if(typeof t!="function")throw new Error('"hash" function param is required');Co(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:a}=n,{BASE:r,Fp:s,Fn:l}=e,c=l.ORDER,o=n.randomBytes||W2,f=n.adjustScalarBytes||(_=>_),g=n.domain||((_,U,E)=>{if(Vc("phflag",E),U.length||E)throw new Error("Contexts/pre-hash are not supported");return _});function h(_){return l.create(_)}function u(_){return h(Gc(_))}function d(_){const U=s.BYTES;_=_t("private key",_,U);const E=_t("hashed private key",t(_),2*U),T=f(E.slice(0,U)),M=E.slice(U,2*U),A=u(T);return{head:T,prefix:M,scalar:A}}function m(_){const{head:U,prefix:E,scalar:T}=d(_),M=r.multiply(T),A=M.toBytes();return{head:U,prefix:E,scalar:T,point:M,pointBytes:A}}function S(_){return m(_).pointBytes}function v(_=Uint8Array.of(),...U){const E=ue(...U);return u(t(g(E,_t("context",_),!!a)))}function p(_,U,E={}){_=_t("message",_),a&&(_=a(_));const{prefix:T,scalar:M,pointBytes:A}=m(U),q=v(E.context,T,_),R=r.multiply(q).toBytes(),z=v(E.context,R,A,_),K=h(q+z*M);Zl("signature.s",K,qn,c);const L=s.BYTES,Y=ue(R,ld(K,L));return _t("result",Y,L*2)}const y={zip215:!0};function b(_,U,E,T=y){const{context:M,zip215:A}=T,q=s.BYTES;_=_t("signature",_,2*q),U=_t("message",U),E=_t("publicKey",E,q),A!==void 0&&Vc("zip215",A),a&&(U=a(U));const R=Gc(_.slice(q,2*q));let z,K,L;try{z=e.fromHex(E,A),K=e.fromHex(_.slice(0,q),A),L=r.multiplyUnsafe(R)}catch{return!1}if(!A&&z.isSmallOrder())return!1;const Y=v(M,K.toBytes(),z.toBytes(),U);return K.add(z.multiplyUnsafe(Y)).subtract(L).clearCofactor().is0()}r.precompute(8);const N=s.BYTES,w={secret:N,public:N,signature:2*N,seed:N};function C(_=o(w.seed)){return _}const B={getExtendedPublicKey:m,randomSecretKey:C,isValidSecretKey:j,isValidPublicKey:O,randomPrivateKey:C,toMontgomery(_){const{y:U}=e.fromBytes(_),E=N===32;if(!E&&N!==57)throw new Error("only defined for 25519 and 448");const T=E?s.div(Ze+U,Ze-U):s.div(U-Ze,U+Ze);return s.toBytes(T)},toMontgomeryPriv(_){vt(_,N);const U=t(_.subarray(0,N));return f(U).subarray(0,N)},precompute(_=8,U=e.BASE){return U.precompute(_,!1)}};function D(_){const U=B.randomSecretKey(_);return{secretKey:U,publicKey:S(U)}}function j(_){try{return!!l.fromBytes(_,!1)}catch{return!1}}function O(_,U){try{return!!e.fromBytes(_,U)}catch{return!1}}return Object.freeze({keygen:D,getPublicKey:S,sign:p,verify:b,utils:B,Point:e,info:{type:"edwards",lengths:w}})}function K8(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,a=Xr(t.n,e.nBitLength,!0),r={Fp:n,Fn:a,uvRatio:e.uvRatio},s={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:r,hash:e.hash,eddsaOpts:s}}function Y8(e,t){return Object.assign({},t,{ExtendedPoint:t.Point,CURVE:e})}function L8(e){const{CURVE:t,curveOpts:n,hash:a,eddsaOpts:r}=K8(e),s=V8(t,n),l=G8(s,a,r);return Y8(e,l)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const I8=BigInt(1),nb=BigInt(2);BigInt(3);const Q8=BigInt(5),Z8=BigInt(8),dd={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Z8,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function X8(e){const t=BigInt(10),n=BigInt(20),a=BigInt(40),r=BigInt(80),s=dd.p,c=e*e%s*e%s,o=Un(c,nb,s)*c%s,f=Un(o,I8,s)*e%s,g=Un(f,Q8,s)*f%s,h=Un(g,t,s)*g%s,u=Un(h,n,s)*h%s,d=Un(u,a,s)*u%s,m=Un(d,r,s)*d%s,S=Un(m,r,s)*d%s,v=Un(S,t,s)*g%s;return{pow_p_5_8:Un(v,nb,s)*e%s,b2:c}}function $8(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const ab=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function P8(e,t){const n=dd.p,a=Ge(t*t*t,n),r=Ge(a*a*t,n),s=X8(e*r).pow_p_5_8;let l=Ge(e*a*s,n);const c=Ge(t*l*l,n),o=l,f=Ge(l*ab,n),g=c===e,h=c===Ge(-e,n),u=c===Ge(-e*ab,n);return g&&(l=o),(h||u)&&(l=f),XN(l,n)&&(l=Ge(-l,n)),{isValid:g||h,value:l}}const F8=Xr(dd.p,{isLE:!0}),J8={...dd,Fp:F8,hash:F4,adjustScalarBytes:$8,uvRatio:P8},ai=L8(J8);var rb,sb,ct,Pi;class W8{constructor(t={}){V(this,ct);V(this,Pi);this[rb]=this.entries.bind(this),this[sb]="ExpirableMap";const{source:n=[],expirationTime:a=10*60*1e3}=t,r=Date.now();k(this,ct,new Map([...n].map(([s,l])=>[s,{value:l,timestamp:r}]))),k(this,Pi,a)}prune(){const t=Date.now();for(const[n,a]of x(this,ct).entries())t-a.timestamp>x(this,Pi)&&x(this,ct).delete(n);return this}set(t,n){this.prune();const a={value:n,timestamp:Date.now()};return x(this,ct).set(t,a),this}get(t){const n=x(this,ct).get(t);if(n!==void 0){if(Date.now()-n.timestamp>x(this,Pi)){x(this,ct).delete(t);return}return n.value}}clear(){x(this,ct).clear()}entries(){const t=x(this,ct).entries();return function*(){for(const[a,r]of t)yield[a,r.value]}()}values(){const t=x(this,ct).values();return function*(){for(const a of t)yield a.value}()}keys(){return x(this,ct).keys()}forEach(t,n){for(const[a,r]of x(this,ct).entries())t.call(n,r.value,a,this)}has(t){return x(this,ct).has(t)}delete(t){return x(this,ct).delete(t)}get size(){return x(this,ct).size}}ct=new WeakMap,Pi=new WeakMap,rb=Symbol.iterator,sb=Symbol.toStringTag;const ib=e=>{if(e<=127)return 1;if(e<=255)return 2;if(e<=65535)return 3;if(e<=16777215)return 4;throw _e.fromCode(new nd("Length too long (> 4 bytes)"))},lb=(e,t,n)=>{if(n<=127)return e[t]=n,1;if(n<=255)return e[t]=129,e[t+1]=n,2;if(n<=65535)return e[t]=130,e[t+1]=n>>8,e[t+2]=n,3;if(n<=16777215)return e[t]=131,e[t+1]=n>>16,e[t+2]=n>>8,e[t+3]=n,4;throw _e.fromCode(new nd("Length too long (> 4 bytes)"))},Z0=(e,t)=>{if(e[t]<128)return 1;if(e[t]===128)throw _e.fromCode(new qa("Invalid length 0"));if(e[t]===129)return 2;if(e[t]===130)return 3;if(e[t]===131)return 4;throw _e.fromCode(new qa("Length too long (> 4 bytes)"))},e5=(e,t)=>{const n=Z0(e,t);if(n===1)return e[t];if(n===2)return e[t+1];if(n===3)return(e[t+1]<<8)+e[t+2];if(n===4)return(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];throw _e.fromCode(new qa("Length too long (> 4 bytes)"))};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const _f=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);Uint8Array.from([48,29,6,13,43,6,1,4,1,130,220,124,5,3,1,2,1,6,12,43,6,1,4,1,130,220,124,5,3,2,1]);function bE(e,t){const n=2+ib(e.byteLength+1),a=t.byteLength+n+e.byteLength;let r=0;const s=new Uint8Array(1+ib(a)+a);return s[r++]=48,r+=lb(s,r,a),s.set(t,r),r+=t.byteLength,s[r++]=3,r+=lb(s,r,e.byteLength+1),s[r++]=0,s.set(new Uint8Array(e),r),s}const xE=(e,t)=>{let n=0;const a=(c,o)=>{if(r[n++]!==c)throw _e.fromCode(new qa(`Expected ${o} at offset ${n}`))},r=new Uint8Array(e);if(a(48,"sequence"),n+=Z0(r,n),!id(r.slice(n,n+t.byteLength),t))throw _e.fromCode(new qa("Not the expected OID."));n+=t.byteLength,a(3,"bit string");const s=e5(r,n)-1;n+=Z0(r,n),a(0,"0 padding");const l=r.slice(n);if(s!==l.length)throw _e.fromCode(new uy(s,l.length));return l};var Jc,Wc,Ln;let t5=(Ln=class{constructor(t){V(this,Jc);V(this,Wc);if(t.byteLength!==Ln.RAW_KEY_LENGTH)throw _e.fromCode(new qa("An Ed25519 public key must be exactly 32 bytes long"));k(this,Jc,t),k(this,Wc,Ln.derEncode(t))}static from(t){return this.fromDer(t.toDer())}static fromRaw(t){return new Ln(t)}static fromDer(t){return new Ln(this.derDecode(t))}static derEncode(t){return bE(t,_f)}static derDecode(t){const n=xE(t,_f);if(n.length!==this.RAW_KEY_LENGTH)throw _e.fromCode(new qa("An Ed25519 public key must be exactly 32 bytes long"));return n}get rawKey(){return x(this,Jc)}get derKey(){return x(this,Wc)}toDer(){return this.derKey}toRaw(){return this.rawKey}},Jc=new WeakMap,Wc=new WeakMap,Ln.RAW_KEY_LENGTH=32,Ln);class n5{constructor(){this.observers=[]}subscribe(t){this.observers.push(t)}unsubscribe(t){this.observers=this.observers.filter(n=>n!==t)}notify(t,...n){this.observers.forEach(a=>a(t,...n))}}class a5 extends n5{constructor(){super()}print(t,...n){this.notify({message:t,level:"info"},...n)}warn(t,...n){this.notify({message:t,level:"warn"},...n)}error(t,n,...a){this.notify({message:t,level:"error",error:n},...a)}}const cb=.5,ob=1.5,ub=500,fb=6e4,db=9e5,mb=10;var Nn,eo,to,no,ao,ro,so,io,Fi;const qf=class qf{constructor(t=qf.default){V(this,Nn);V(this,eo);V(this,to);V(this,no);V(this,ao);V(this,ro);V(this,so);V(this,io);V(this,Fi,0);const{initialInterval:n=ub,randomizationFactor:a=cb,multiplier:r=ob,maxInterval:s=fb,maxElapsedTime:l=db,maxIterations:c=mb,date:o=Date}=t;k(this,Nn,n),k(this,eo,a),k(this,to,r),k(this,no,s),k(this,io,o),k(this,ao,o.now()),k(this,ro,l),k(this,so,c)}get ellapsedTimeInMsec(){return x(this,io).now()-x(this,ao)}get currentInterval(){return x(this,Nn)}get count(){return x(this,Fi)}get randomValueFromInterval(){const t=x(this,eo)*x(this,Nn),n=x(this,Nn)-t,a=x(this,Nn)+t;return Math.random()*(a-n)+n}incrementCurrentInterval(){return k(this,Nn,Math.min(x(this,Nn)*x(this,to),x(this,no))),Cl(this,Fi)._++,x(this,Nn)}next(){return this.ellapsedTimeInMsec>=x(this,ro)||x(this,Fi)>=x(this,so)?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}};Nn=new WeakMap,eo=new WeakMap,to=new WeakMap,no=new WeakMap,ao=new WeakMap,ro=new WeakMap,so=new WeakMap,io=new WeakMap,Fi=new WeakMap,qf.default={initialInterval:ub,randomizationFactor:cb,multiplier:ob,maxInterval:fb,maxElapsedTime:db,maxIterations:mb,date:Date};let X0=qf;var oa;(function(e){e.Received="received",e.Processing="processing",e.Replied="replied",e.Rejected="rejected",e.Unknown="unknown",e.Done="done"})(oa||(oa={}));const vE=60*1e3,r5=1e6,s5="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",i5="aaaaa-aa",l5="ic0.app",c5=".ic0.app",o5="icp0.io",u5=".icp0.io",f5="icp-api.io",d5=".icp-api.io",gm=200,m5=202,h5=404;function y5(){let e;if(typeof window<"u")if(window.fetch)e=window.fetch.bind(window);else throw Tt.fromCode(new uc("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present."));else if(typeof global<"u")if(global.fetch)e=global.fetch.bind(global);else throw Tt.fromCode(new uc("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available."));else typeof self<"u"&&self.fetch&&(e=self.fetch.bind(self));if(e)return e;throw Tt.fromCode(new uc("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context."))}function g5(e){let t;if(e!==void 0)!e.match(/^[a-z]+:/)&&typeof window<"u"?t=new URL(window.location.protocol+"//"+e):t=new URL(e);else{const n=["ic0.app","icp0.io","127.0.0.1","localhost"],a=[".github.dev",".gitpod.io"],r=typeof window<"u"?window.location:void 0,s=r==null?void 0:r.hostname;let l;s&&typeof s=="string"&&(a.some(c=>s.endsWith(c))?l=s:l=n.find(c=>s.endsWith(c))),r&&l?t=new URL(`${r.protocol}//${l}${r.port?":"+r.port:""}`):t=new URL("https://icp-api.io")}return t.toString()}var gr,pr,Sn,br,Ji,nn,kn,ys,Wi,an,da,xr,Hn,Ne,EE,vr,Er,ma,ha,Nu,ri,el,si,Su,wE;const wi=class wi{constructor(t={}){V(this,Ne);V(this,gr);V(this,pr);V(this,Sn);V(this,br);V(this,Ji);V(this,nn);V(this,kn);V(this,ys);V(this,Wi);V(this,an);V(this,da);V(this,xr);V(this,Hn);V(this,vr);V(this,Er);V(this,ma);V(this,ha);V(this,el);k(this,gr,null),k(this,pr,!1),k(this,Sn,0),k(this,br,null),k(this,Ji,!1),this._isAgent=!0,this.config={},this.log=new a5,k(this,vr,[]),k(this,Er,[]),k(this,ma,new W8({expirationTime:5*60*1e3})),k(this,ha,!0),k(this,el,(r,s)=>{if(x(this,ha)===!1)return r;if(!s)throw hn.fromCode(new uf);const{status:l,signatures:c=[],requestId:o}=r;for(const f of c){const{timestamp:g,identity:h}=f,u=se.fromUint8Array(h).toText();let d;if(l===dl.Replied){const{reply:y}=r;d=bf({status:l,reply:y,timestamp:BigInt(g),request_id:o})}else if(l===dl.Rejected){const{reject_code:y,reject_message:b,error_code:N}=r;d=bf({status:l,reject_code:y,reject_message:b,error_code:N,timestamp:BigInt(g),request_id:o})}else throw Lt.fromCode(new Kn(`Unknown status: ${l}`));const m=ue(uN,d),S=s.nodeKeys.get(u);if(!S)throw Ve.fromCode(new xy);const v=t5.fromDer(S).rawKey;if(ai.verify(f.signature,m,v))return r;throw hn.fromCode(new vy(u))}return r}),this.config=t,k(this,kn,t.fetch||y5()||fetch.bind(global)),k(this,ys,t.fetchOptions),k(this,Wi,t.callOptions),k(this,pr,t.shouldFetchRootKey??!1),k(this,Ji,t.shouldSyncTime??!1),t.rootKey?this.rootKey=t.rootKey:x(this,pr)?this.rootKey=null:this.rootKey=Pn(s5);const n=g5(t.host);this.host=new URL(n),t.verifyQuerySignatures!==void 0&&k(this,ha,t.verifyQuerySignatures),k(this,da,t.retryTimes??3);const a=()=>new X0({maxIterations:x(this,da)});if(k(this,xr,t.backoffStrategy||a),this.host.hostname.endsWith(c5)?this.host.hostname=l5:this.host.hostname.endsWith(u5)?this.host.hostname=o5:this.host.hostname.endsWith(d5)&&(this.host.hostname=f5),t.credentials){const{name:r,password:s}=t.credentials;k(this,an,`${r}${s?":"+s:""}`)}if(k(this,nn,Promise.resolve(t.identity||new xf)),t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes>5)throw _e.fromCode(new bi("The maximum ingress expiry time is 5 minutes.",t.ingressExpiryInMinutes));if(t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes<=0)throw _e.fromCode(new bi("Ingress expiry time must be greater than 0.",t.ingressExpiryInMinutes));k(this,Hn,t.ingressExpiryInMinutes||5),this.addTransform("update",Hp(K0)),t.useQueryNonces&&this.addTransform("query",Hp(K0)),t.logToConsole&&this.log.subscribe(r=>{r.level==="error"?console.error(r.message):r.level==="warn"?console.warn(r.message):console.log(r.message)})}static createSync(t={}){return new this({...t})}static async create(t={}){var a;const n=wi.createSync(t);return await Q(a=n,Ne,si).call(a),n}static async from(t){try{return"config"in t?await wi.create(t.config):await wi.create({fetch:t._fetch,fetchOptions:t._fetchOptions,callOptions:t._callOptions,host:t._host.toString(),identity:t._identity??void 0})}catch{throw _e.fromCode(new py)}}isLocal(){const t=this.host.hostname;return t==="127.0.0.1"||t.endsWith("127.0.0.1")}addTransform(t,n,a=n.priority||0){if(t==="update"){const r=x(this,Er).findIndex(s=>(s.priority||0)<a);x(this,Er).splice(r>=0?r:x(this,Er).length,0,Object.assign(n,{priority:a}))}else if(t==="query"){const r=x(this,vr).findIndex(s=>(s.priority||0)<a);x(this,vr).splice(r>=0?r:x(this,vr).length,0,Object.assign(n,{priority:a}))}}async getPrincipal(){if(!x(this,nn))throw Tt.fromCode(new Wr);return(await x(this,nn)).getPrincipal()}async call(t,n,a){const r=n.callSync??!0,s=await(a??x(this,nn));if(!s)throw Tt.fromCode(new Wr);const l=se.from(t),c=n.effectiveCanisterId?se.from(n.effectiveCanisterId):l;await Q(this,Ne,si).call(this,c);const o=s.getPrincipal(),f=pm(x(this,Hn),x(this,Sn)),g={request_type:G0.Call,canister_id:l,method_name:n.methodName,arg:n.arg,sender:o,ingress_expiry:f};let h=await this._transform({request:{body:null,method:"POST",headers:{"Content-Type":"application/cbor",...x(this,an)?{Authorization:"Basic "+btoa(x(this,an))}:{}}},endpoint:ts.Call,body:g}),u;n!=null&&n.nonce?u=d(n.nonce):h.body.nonce?u=d(h.body.nonce):u=void 0,g.nonce=u;function d(p){return Object.assign(p,{__nonce__:void 0})}h=await s.transformRequest(h);const m=nm(h.body),S=x(this,xr).call(this),v=qi(g);try{const b=r?()=>(this.log.print(`fetching "/api/v3/canister/${c.toText()}/call" with request:`,h),x(this,kn).call(this,""+new URL(`/api/v3/canister/${c.toText()}/call`,this.host),{...x(this,Wi),...h.request,body:m})):()=>(this.log.print(`fetching "/api/v2/canister/${c.toText()}/call" with request:`,h),x(this,kn).call(this,""+new URL(`/api/v2/canister/${c.toText()}/call`,this.host),{...x(this,Wi),...h.request,body:m})),{responseBodyBytes:N,...w}=await Q(this,Ne,ri).call(this,{requestFn:b,backoff:S,tries:0}),C=N.byteLength>0?Yn(N):null;return{requestId:v,response:{...w,body:C},requestDetails:g}}catch(p){let y;if(p instanceof ga){if(p.hasCode(df))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(t,{...n,callSync:!1},a);if(p.hasCode(bi))return await this.syncTime(l),this.call(l,n,a);p.code.requestContext={requestId:v,senderPubKey:h.body.sender_pubkey,senderSignature:h.body.sender_sig,ingressExpiry:h.body.content.ingress_expiry},y=p}else y=Lt.fromCode(new Kn(p));throw this.log.error(`Error while making call: ${y.message}`,y),y}}async query(t,n,a){const r=x(this,xr).call(this),s=n.effectiveCanisterId?se.from(n.effectiveCanisterId):se.from(t);await Q(this,Ne,si).call(this,s),this.log.print(`ecid ${s.toString()}`),this.log.print(`canisterId ${t.toString()}`);let l;const c=await(a??x(this,nn));if(!c)throw Tt.fromCode(new Wr);const o=se.from(t),f=c.getPrincipal(),g=pm(x(this,Hn),x(this,Sn)),h={request_type:Hc.Query,canister_id:o,method_name:n.methodName,arg:n.arg,sender:f,ingress_expiry:g},u=qi(h);l=await this._transform({request:{method:"POST",headers:{"Content-Type":"application/cbor",...x(this,an)?{Authorization:"Basic "+btoa(x(this,an))}:{}}},endpoint:ts.Query,body:h}),l=await c.transformRequest(l);const d=nm(l.body),m={canister:o.toText(),ecid:s,transformedRequest:l,body:d,requestId:u,backoff:r,tries:0},S=async()=>({requestDetails:h,query:await Q(this,Ne,Nu).call(this,m)}),v=async()=>{if(!x(this,ha))return;const p=x(this,ma).get(s.toString());return p||(await this.fetchSubnetKeys(s.toString()),x(this,ma).get(s.toString()))};try{const[p,y]=await Promise.all([S(),v()]),{requestDetails:b,query:N}=p,w={...N,requestDetails:b};if(this.log.print("Query response:",w),!x(this,ha))return w;try{return x(this,el).call(this,w,y)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),x(this,ma).delete(t.toString()),await this.fetchSubnetKeys(s.toString());const C=x(this,ma).get(t.toString());if(!C)throw hn.fromCode(new uf);return x(this,el).call(this,w,C)}}catch(p){let y;throw p instanceof ga?(p.code.requestContext={requestId:u,senderPubKey:l.body.sender_pubkey,senderSignature:l.body.sender_sig,ingressExpiry:l.body.content.ingress_expiry},y=p):y=Lt.fromCode(new Kn(p)),this.log.error(`Error while making query: ${y.message}`,y),y}}async createReadStateRequest(t,n){await Q(this,Ne,si).call(this);const a=await(n??x(this,nn));if(!a)throw Tt.fromCode(new Wr);const r=a.getPrincipal(),s=await this._transform({request:{method:"POST",headers:{"Content-Type":"application/cbor",...x(this,an)?{Authorization:"Basic "+btoa(x(this,an))}:{}}},endpoint:ts.ReadState,body:{request_type:Hc.ReadState,paths:t.paths,sender:r,ingress_expiry:pm(x(this,Hn),x(this,Sn))}});return a.transformRequest(s)}async readState(t,n,a,r){await Q(this,Ne,Su).call(this);const s=se.from(t);function l(g){for(const h of g.paths){const[u,d]=h,m=new TextEncoder().encode("request_status");if(id(u,m))return d}}let c,o;if(r)c=r,o=qi(c);else{o=l(n);const g=await x(this,nn);if(!g)throw Tt.fromCode(new Wr);c=await this.createReadStateRequest(n,g)}this.log.print(`fetching "/api/v2/canister/${s}/read_state" with request:`,c);const f=x(this,xr).call(this);try{const{responseBodyBytes:g}=await Q(this,Ne,ri).call(this,{requestFn:()=>x(this,kn).call(this,""+new URL(`/api/v2/canister/${s.toString()}/read_state`,this.host),{...x(this,ys),...c.request,body:nm(c.body)}),backoff:f,tries:0}),h=Yn(g);return this.log.print("Read state response:",h),h}catch(g){let h;throw g instanceof ga?(g.code.requestContext={requestId:o,senderPubKey:c.body.sender_pubkey,senderSignature:c.body.sender_sig,ingressExpiry:c.body.content.ingress_expiry},h=g):h=Lt.fromCode(new Kn(g)),this.log.error(`Error while making read state: ${h.message}`,h),h}}parseTimeFromResponse(t){let n;if(t.certificate){const a=Yn(t.certificate);if(a&&"tree"in a)n=a.tree;else throw Ve.fromCode(new Oo("Could not decode time from response"));const r=Bo(["time"],n);if(r.status!==fn.Found)throw Ve.fromCode(new hl("Time was not found in the response or was not in its expected format.",r.status));if(!(r.value instanceof Uint8Array)&&!ArrayBuffer.isView(r))throw Ve.fromCode(new ed("Time was not in its expected format."));const s=qy(r.value);return this.log.print("Time from response:",s),this.log.print("Time from response in milliseconds:",Number(s)),Number(s)}else this.log.warn("No certificate found in response");return 0}async syncTime(t){k(this,br,x(this,br)??(async()=>{await Q(this,Ne,Su).call(this);const n=Date.now();try{t||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");const a=t??se.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),r=wi.createSync({identity:new xf,host:this.host.toString(),fetch:x(this,kn),retryTimes:0,rootKey:this.rootKey??void 0}),l=(await Promise.all(Array(3).fill(null).map(async()=>{const o=(await tb({canisterId:a,agent:r,paths:["time"]})).get("time");if(o instanceof Date)return o.getTime()},[]))).reduce((c,o)=>typeof o=="number"&&o>c?o:c,0);l>BigInt(0)&&(k(this,Sn,Number(l)-Number(n)),this.log.notify({message:`Syncing time: offset of ${x(this,Sn)}`,level:"info"}))}catch(a){const r=a instanceof ga?a:Lt.fromCode(new Kn(a));throw this.log.error("Caught exception while attempting to sync time",r),r}})()),await x(this,br).finally(()=>{k(this,br,null)})}async status(){const t=x(this,an)?{Authorization:"Basic "+btoa(x(this,an))}:{};this.log.print('fetching "/api/v2/status"');const n=x(this,xr).call(this),{responseBodyBytes:a}=await Q(this,Ne,ri).call(this,{backoff:n,requestFn:()=>x(this,kn).call(this,""+new URL("/api/v2/status",this.host),{headers:t,...x(this,ys)}),tries:0});return Yn(a)}async fetchRootKey(){return k(this,gr,x(this,gr)??(async()=>{const t=await this.status();return this.rootKey=t.root_key,this.rootKey})()),await x(this,gr).finally(()=>{k(this,gr,null)})}invalidateIdentity(){k(this,nn,null)}replaceIdentity(t){k(this,nn,Promise.resolve(t))}async fetchSubnetKeys(t){const n=se.from(t);await Q(this,Ne,si).call(this,n);const r=(await tb({canisterId:n,paths:["subnet"],agent:this})).get("subnet");if(r&&typeof r=="object"&&"nodeKeys"in r)return x(this,ma).set(n.toText(),r),r}_transform(t){let n=Promise.resolve(t);if(t.endpoint===ts.Call)for(const a of x(this,Er))n=n.then(r=>a(r).then(s=>s||r));else for(const a of x(this,vr))n=n.then(r=>a(r).then(s=>s||r));return n}};gr=new WeakMap,pr=new WeakMap,Sn=new WeakMap,br=new WeakMap,Ji=new WeakMap,nn=new WeakMap,kn=new WeakMap,ys=new WeakMap,Wi=new WeakMap,an=new WeakMap,da=new WeakMap,xr=new WeakMap,Hn=new WeakMap,Ne=new WeakSet,EE=function(){return x(this,Hn)*vE},vr=new WeakMap,Er=new WeakMap,ma=new WeakMap,ha=new WeakMap,Nu=async function(t){var d,m;const{ecid:n,transformedRequest:a,body:r,requestId:s,backoff:l,tries:c}=t,o=c===0?0:l.next();if(this.log.print(`fetching "/api/v2/canister/${n.toString()}/query" with tries:`,{tries:c,backoff:l,delay:o}),o===null)throw Lt.fromCode(new Uc(`Backoff strategy exhausted after ${c} attempts.`,s));o>0&&await new Promise(S=>setTimeout(S,o));let f;try{this.log.print(`fetching "/api/v2/canister/${n.toString()}/query" with request:`,a);const S=await x(this,kn).call(this,""+new URL(`/api/v2/canister/${n.toString()}/query`,this.host),{...x(this,ys),...a.request,body:r});if(S.status===gm)f={...Yn(pf(await S.arrayBuffer())),httpDetails:{ok:S.ok,status:S.status,statusText:S.statusText,headers:am(S.headers)},requestId:s};else throw Ve.fromCode(new ff(S.status,S.statusText,am(S.headers),await S.text()))}catch(S){if(c<x(this,da))return this.log.warn(`Caught exception while attempting to make query:
  ${S}
  Retrying query.`),await Q(this,Ne,Nu).call(this,{...t,tries:c+1});throw S instanceof ga?S:cf.fromCode(new mf(S))}if(!x(this,ha))return f;const g=(m=(d=f.signatures)==null?void 0:d[0])==null?void 0:m.timestamp;if(!g)throw Ve.fromCode(new by("Timestamp not found in query response. This suggests a malformed or malicious response."));const h=Number(BigInt(g)/BigInt(r5));if(Date.now()+x(this,Sn)-h>x(this,Ne,EE)){if(c<x(this,da))return this.log.warn("Timestamp is older than the max ingress expiry. Retrying query.",{requestId:s,signatureTimestampMs:h}),await Q(this,Ne,Nu).call(this,{...t,tries:c+1});throw hn.fromCode(new my(x(this,Hn),s,c))}return f},ri=async function(t){const{requestFn:n,backoff:a,tries:r}=t,s=r===0?0:a.next();if(s===null)throw Ve.fromCode(new Uc(`Retry strategy exhausted after ${r} attempts.`));s>0&&await new Promise(g=>setTimeout(g,s));let l,c=new Uint8Array;try{l=await n(),l.status===gm&&(c=pf(await l.clone().arrayBuffer()))}catch(g){if(r<x(this,da))return this.log.warn(`Caught exception while attempting to make request:
  ${g}
  Retrying request.`),await Q(this,Ne,ri).call(this,{requestFn:n,backoff:a,tries:r+1});throw cf.fromCode(new mf(g))}const o=am(l.headers);if(l.status===gm||l.status===m5)return{ok:l.ok,status:l.status,statusText:l.statusText,responseBodyBytes:c,headers:o};const f=await l.text();if(l.status===h5&&l.url.includes("api/v3"))throw Ve.fromCode(new df);if(f.startsWith("Invalid request expiry: "))throw _e.fromCode(new bi(f,x(this,Hn)));if(r<x(this,da))return await Q(this,Ne,ri).call(this,{requestFn:n,backoff:a,tries:r+1});throw Ve.fromCode(new ff(l.status,l.statusText,o,f))},el=new WeakMap,si=async function(t){await Promise.all([Q(this,Ne,Su).call(this),Q(this,Ne,wE).call(this,t)])},Su=async function(){if(!this.rootKey)if(this.rootKey===null&&this.host.toString()!=="https://icp-api.io"&&x(this,pr))await this.fetchRootKey();else throw Tt.fromCode(new qs(x(this,pr)))},wE=async function(t){x(this,Ji)&&x(this,Sn)===0&&await this.syncTime(t)};let Lr=wi;function pm(e,t){return ns.fromDeltaInMilliseconds(e*vE+t)}const p5=5*60*1e3;function NE(){return w5(x5(b5(),1e3),E5(1e3,1.2),v5(p5))}function b5(){let e=!0;return async()=>e?(e=!1,!0):!1}function x5(e,t){return async(n,a,r)=>{if(await e(n,a,r))return new Promise(s=>setTimeout(s,t))}}function v5(e){const t=Date.now()+e;return async(n,a,r)=>{if(Date.now()>t)throw Ve.fromCode(new Uc(`Request timed out after ${e} msec`,a,r))}}function E5(e,t){let n=e;return()=>new Promise(a=>setTimeout(()=>{n*=t,a()},n))}function w5(...e){return async(t,n,a)=>{for(const r of e)await r(t,n,a)}}const N5={strategy:NE(),preSignReadStateRequest:!1};function SE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function bm(e,t){return e!==null&&typeof e=="object"&&SE(e,t)}function S5(e,t){return SE(e,t)&&typeof e[t]=="function"}function hb(e){return bm(e,"body")&&bm(e.body,"content")&&e.body.content.request_type===Hc.ReadState&&bm(e.body.content,"ingress_expiry")&&typeof e.body.content.ingress_expiry=="object"&&e.body.content.ingress_expiry!==null&&S5(e.body.content.ingress_expiry,"toHash")}async function _E(e,t,n,a={}){const r=[ke("request_status"),n];let s,l;if(a.preSignReadStateRequest??!1?(l=await _5({paths:[r],agent:e,pollingOptions:a}),s=await e.readState(t,{paths:[r]},void 0,l)):s=await e.readState(t,{paths:[r]}),e.rootKey==null)throw Tt.fromCode(new qs);const o=await Ic.create({certificate:s.certificate,rootKey:e.rootKey,canisterId:t,blsVerify:a.blsVerify}),f=Xt(o.lookup_path([...r,ke("status")]));let g;switch(typeof f>"u"?g=oa.Unknown:g=new TextDecoder().decode(f),g){case oa.Replied:return{reply:Xt(o.lookup_path([...r,"reply"])),certificate:o};case oa.Received:case oa.Unknown:case oa.Processing:return await(a.strategy??NE())(t,n,g),_E(e,t,n,{...a,request:l});case oa.Rejected:{const h=new Uint8Array(Xt(o.lookup_path([...r,"reject_code"])))[0],u=new TextDecoder().decode(Xt(o.lookup_path([...r,"reject_message"]))),d=Xt(o.lookup_path([...r,"error_code"])),m=d?new TextDecoder().decode(d):void 0;throw Bi.fromCode(new qc(n,h,u,m))}case oa.Done:throw Lt.fromCode(new yy(n))}throw Ui}async function _5(e){var s;const{paths:t,agent:n,pollingOptions:a}=e;if(a.request&&hb(a.request))return a.request;const r=await((s=n.createReadStateRequest)==null?void 0:s.call(n,{paths:t},void 0));if(!hb(r))throw _e.fromCode(new Ey(r));return r}const sn=Symbol.for("ic-agent-metadata");class md{static agentOf(t){return t[sn].config.agent}static interfaceOf(t){return t[sn].service}static canisterIdOf(t){return se.from(t[sn].config.canisterId)}static createActorClass(t,n){const a=t({IDL:oN});class r extends md{constructor(l){if(!l.canisterId)throw _e.fromCode(new hf(l.canisterId));const c=typeof l.canisterId=="string"?se.fromText(l.canisterId):l.canisterId;super({config:{...TE,...l,canisterId:c},service:a});for(const[o,f]of a._fields)n!=null&&n.httpDetails&&f.annotations.push($0),n!=null&&n.certificate&&f.annotations.push(AE),this[o]=T5(this,o,f,l.blsVerify)}}return r}static createActor(t,n){if(!n.canisterId)throw _e.fromCode(new hf(n.canisterId));return new(this.createActorClass(t))(n)}static createActorWithHttpDetails(t,n){return new(this.createActorClass(t,{httpDetails:!0}))(n)}static createActorWithExtendedDetails(t,n,a={httpDetails:!0,certificate:!0}){return new(this.createActorClass(t,a))(n)}constructor(t){this[sn]=Object.freeze(t)}}function Fs(e,t){const n=dv(e,t);switch(n.length){case 0:return;case 1:return n[0];default:return n}}const TE={pollingOptions:N5},$0="http-details",AE="certificate";function T5(e,t,n,a){let r;n.annotations.includes("query")||n.annotations.includes("composite_query")?r=async(l,...c)=>{var d,m;l={...l,...(m=(d=e[sn].config).queryTransform)==null?void 0:m.call(d,t,c,{...e[sn].config,...l})};const o=l.agent||e[sn].config.agent||new Lr,f=se.from(l.canisterId||e[sn].config.canisterId),g=j0(n.argTypes,c),h=await o.query(f,{methodName:t,arg:g,effectiveCanisterId:l.effectiveCanisterId}),u={...h.httpDetails,requestDetails:h.requestDetails};switch(h.status){case dl.Rejected:{const S=new hy(h.requestId,h.reject_code,h.reject_message,h.error_code,h.signatures);throw S.callContext={canisterId:f,methodName:t,httpDetails:u},Bi.fromCode(S)}case dl.Replied:return n.annotations.includes($0)?{httpDetails:u,result:Fs(n.retTypes,h.reply.arg)}:Fs(n.retTypes,h.reply.arg)}}:r=async(l,...c)=>{var B,D;l={...l,...(D=(B=e[sn].config).callTransform)==null?void 0:D.call(B,t,c,{...e[sn].config,...l})};const o=l.agent||e[sn].config.agent||Lr.createSync(),{canisterId:f,effectiveCanisterId:g,pollingOptions:h}={...TE,...e[sn].config,...l},u=se.from(f),d=g!==void 0?se.from(g):u,m=j0(n.argTypes,c),{requestId:S,response:v,requestDetails:p}=await o.call(u,{methodName:t,arg:m,effectiveCanisterId:d,nonce:l.nonce});let y,b;if(_4(v.body)){if(o.rootKey==null)throw Tt.fromCode(new qs);const j=v.body.certificate;b=await Ic.create({certificate:j,rootKey:o.rootKey,canisterId:se.from(f),blsVerify:a});const O=[ke("request_status"),S];switch(new TextDecoder().decode(Xt(b.lookup_path([...O,"status"])))){case"replied":y=Xt(b.lookup_path([...O,"reply"]));break;case"rejected":{const U=new Uint8Array(Xt(b.lookup_path([...O,"reject_code"])))[0],E=new TextDecoder().decode(Xt(b.lookup_path([...O,"reject_message"]))),T=Xt(b.lookup_path([...O,"error_code"])),M=T?new TextDecoder().decode(T):void 0,A=new qc(S,U,E,M);throw A.callContext={canisterId:u,methodName:t,httpDetails:v},Bi.fromCode(A)}}}else if(S4(v.body)){const{reject_code:j,reject_message:O,error_code:_}=v.body,U=new qc(S,j,O,_);throw U.callContext={canisterId:u,methodName:t,httpDetails:v},Bi.fromCode(U)}if(v.status===202){const j={...h,blsVerify:a},O=await _E(o,d,S,j);b=O.certificate,y=O.reply}const N=n.annotations.includes($0),w=n.annotations.includes(AE),C={...v,requestDetails:p};if(y!==void 0)return N&&w?{httpDetails:C,certificate:b,result:Fs(n.retTypes,y)}:w?{certificate:b,result:Fs(n.retTypes,y)}:N?{httpDetails:C,result:Fs(n.retTypes,y)}:Fs(n.retTypes,y);if(n.retTypes.length===0)return N?{httpDetails:v,result:void 0}:void 0;throw Lt.fromCode(new Kn(`Call was returned undefined, but type [${n.retTypes.map(j=>j.display()).join(",")}].`))};const s=(...l)=>r({},...l);return s.withOptions=l=>(...c)=>r(l,...c),s}function yb(e){return e!==null&&typeof e=="object"}var lo,co;const es=class es{constructor(t){V(this,lo);V(this,co);if(t.byteLength!==es.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");k(this,lo,t),k(this,co,es.derEncode(t))}static from(t){if(typeof t=="string"){const n=Pn(t);return this.fromRaw(n)}else if(yb(t)){const n=t;if(yb(n)&&Object.hasOwnProperty.call(n,"__derEncodedPublicKey__"))return this.fromDer(n);if(ArrayBuffer.isView(n)){const a=n;return this.fromRaw(Dr(a.buffer))}else{if(n instanceof ArrayBuffer)return this.fromRaw(Dr(n));if("rawKey"in n&&n.rawKey instanceof Uint8Array)return this.fromRaw(n.rawKey);if("derKey"in n)return this.fromDer(n.derKey);if("toDer"in n)return this.fromDer(n.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(t){return new es(t)}static fromDer(t){return new es(this.derDecode(t))}static derEncode(t){const n=bE(t,_f);return n.__derEncodedPublicKey__=void 0,n}static derDecode(t){const n=xE(t,_f);if(n.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return n}get rawKey(){return x(this,lo)}get derKey(){return x(this,co)}toDer(){return this.derKey}toRaw(){return this.rawKey}};lo=new WeakMap,co=new WeakMap,es.RAW_KEY_LENGTH=32;let dc=es;var gs,ps;const Ni=class Ni extends Ry{constructor(n,a){super();V(this,gs);V(this,ps);k(this,gs,dc.from(n)),k(this,ps,a)}static generate(n){if(n&&n.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");n||(n=ai.utils.randomPrivateKey()),eN(n,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");const a=new Uint8Array(32);for(let s=0;s<32;s++)a[s]=n[s];const r=ai.getPublicKey(a);return Ni.fromKeyPair(r,a)}static fromParsedJson(n){const[a,r]=n;return new Ni(dc.fromDer(Pn(a)),Pn(r))}static fromJSON(n){const a=JSON.parse(n);if(Array.isArray(a)){if(typeof a[0]=="string"&&typeof a[1]=="string")return this.fromParsedJson([a[0],a[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(n)}`)}static fromKeyPair(n,a){return new Ni(dc.fromRaw(n),a)}static fromSecretKey(n){const a=ai.getPublicKey(n);return Ni.fromKeyPair(a,n)}toJSON(){return[de(x(this,gs).toDer()),de(x(this,ps))]}getKeyPair(){return{secretKey:x(this,ps),publicKey:x(this,gs)}}getPublicKey(){return x(this,gs)}async sign(n){const a=ai.sign(n,x(this,ps).slice(0,32));return Object.defineProperty(a,"__signature__",{enumerable:!1,value:void 0}),a}static verify(n,a,r){const[s,l,c]=[n,a,r].map(o=>(typeof o=="string"&&(o=Pn(o)),Dr(o)));return ai.verify(s,l,c)}};gs=new WeakMap,ps=new WeakMap;let mc=Ni;class zy extends Error{constructor(t){super(t),this.message=t,Object.setPrototypeOf(this,zy.prototype)}}function gb(e){if(typeof global<"u"&&global.crypto&&global.crypto.subtle)return global.crypto.subtle;if(e)return e;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new zy("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class Tf extends Ry{static async generate(t){const{extractable:n=!1,keyUsages:a=["sign","verify"],subtleCrypto:r}=t??{},s=gb(r),l=await s.generateKey({name:"ECDSA",namedCurve:"P-256"},n,a),c=Dr(await s.exportKey("spki",l.publicKey));return Object.assign(c,{__derEncodedPublicKey__:void 0}),new this(l,c,s)}static async fromKeyPair(t,n){const a=gb(n),r=Dr(await a.exportKey("spki",t.publicKey));return Object.assign(r,{__derEncodedPublicKey__:void 0}),new Tf(t,r,a)}constructor(t,n,a){super(),this._keyPair=t,this._derKey=n,this._subtleCrypto=a}getKeyPair(){return this._keyPair}getPublicKey(){const t=this._derKey,n=Object.create(this._keyPair.publicKey);return n.toDer=function(){return t},n}async sign(t){const n={name:"ECDSA",hash:{name:"SHA-256"}},a=Dr(await this._subtleCrypto.sign(n,this._keyPair.privateKey,t));return Object.assign(a,{__signature__:void 0}),a}}var Vn;class A5{constructor(t){V(this,Vn);k(this,Vn,t)}get rawKey(){return x(this,Vn).rawKey}get derKey(){return x(this,Vn).derKey}toDer(){return x(this,Vn).toDer()}getPublicKey(){return x(this,Vn)}getPrincipal(){if(!x(this,Vn).rawKey)throw new Error("Cannot get principal from a public key without a raw key.");return se.fromUint8Array(new Uint8Array(x(this,Vn).rawKey))}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}Vn=new WeakMap;function xm(e){if(typeof e!="string"||e.length<64)throw new Error("Invalid public key.");return Pn(e)}class jy{constructor(t,n,a){this.pubkey=t,this.expiration=n,this.targets=a}toCborValue(){return{pubkey:this.pubkey,expiration:this.expiration,...this.targets&&{targets:this.targets}}}toJSON(){return{expiration:this.expiration.toString(16),pubkey:de(this.pubkey),...this.targets&&{targets:this.targets.map(t=>t.toHex())}}}}async function R5(e,t,n,a){const r=new jy(t.toDer(),BigInt(+n)*BigInt(1e6),a),s=new Uint8Array([...fN,...new Uint8Array(qi({...r}))]),l=await e.sign(s);return{delegation:r,signature:l}}class Af{static async create(t,n,a=new Date(Date.now()+15*60*1e3),r={}){var l,c;const s=await R5(t,n,a,r.targets);return new Af([...((l=r.previous)==null?void 0:l.delegations)||[],s],((c=r.previous)==null?void 0:c.publicKey)||t.getPublicKey().toDer())}static fromJSON(t){const{publicKey:n,delegations:a}=typeof t=="string"?JSON.parse(t):t;if(!Array.isArray(a))throw new Error("Invalid delegations.");const r=a.map(s=>{const{delegation:l,signature:c}=s,{pubkey:o,expiration:f,targets:g}=l;if(g!==void 0&&!Array.isArray(g))throw new Error("Invalid targets.");return{delegation:new jy(xm(o),BigInt("0x"+f),g&&g.map(h=>{if(typeof h!="string")throw new Error("Invalid target.");return se.fromHex(h)})),signature:xm(c)}});return new this(r,xm(n))}static fromDelegations(t,n){return new this(t,n)}constructor(t,n){this.delegations=t,this.publicKey=n}toJSON(){return{delegations:this.delegations.map(t=>{const{delegation:n,signature:a}=t,{targets:r}=n;return{delegation:{expiration:n.expiration.toString(16),pubkey:de(n.pubkey),...r&&{targets:r.map(s=>s.toHex())}},signature:de(a)}}),publicKey:de(this.publicKey)}}}class pb extends Ry{static fromDelegation(t,n){return new this(t,n)}constructor(t,n){super(),this._inner=t,this._delegation=n}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(t){return this._inner.sign(t)}async transformRequest(t){const{body:n,...a}=t,r=await qi(n);return{...a,body:{content:n,sender_sig:await this.sign(new Uint8Array([...Vv,...new Uint8Array(r)])),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}}}}var oo;const Ky=class Ky extends A5{constructor(n,a){super(n);V(this,oo);k(this,oo,a)}get delegation(){return x(this,oo)}static fromDelegation(n,a){return new Ky(n,a)}};oo=new WeakMap;let Rf=Ky;function bb(e,t){for(const{delegation:a}of e.delegations)if(+new Date(Number(a.expiration/BigInt(1e6)))<=+Date.now())return!1;const n=[];for(const a of n){const r=a.toText();for(const{delegation:s}of e.delegations){if(s.targets===void 0)continue;let l=!0;for(const c of s.targets)if(c.toText()===r){l=!1;break}if(l)return!1}}return!0}const xb=["mousedown","mousemove","keydown","touchstart","wheel"];class vb{constructor(t={}){lt(this,"callbacks",[]);lt(this,"idleTimeout",10*60*1e3);lt(this,"timeoutID");const{onIdle:n,idleTimeout:a=10*60*1e3}=t||{};this.callbacks=n?[n]:[],this.idleTimeout=a;const r=this._resetTimer.bind(this);window.addEventListener("load",r,!0),xb.forEach(function(l){document.addEventListener(l,r,!0)});const s=(l,c)=>{let o;return(...f)=>{const g=this,h=function(){o=void 0,l.apply(g,f)};clearTimeout(o),o=window.setTimeout(h,c)}};if(t!=null&&t.captureScroll){const l=s(r,(t==null?void 0:t.scrollDebounce)??100);window.addEventListener("scroll",l,!0)}r()}static create(t={}){return new this(t)}registerCallback(t){this.callbacks.push(t)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);const t=this._resetTimer.bind(this);xb.forEach(function(n){document.removeEventListener(n,t,!0)}),this.callbacks.forEach(n=>n())}_resetTimer(){const t=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(t,this.idleTimeout)}}const O5=(e,t)=>t.some(n=>e instanceof n);let Eb,wb;function C5(){return Eb||(Eb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M5(){return wb||(wb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RE=new WeakMap,P0=new WeakMap,OE=new WeakMap,vm=new WeakMap,ky=new WeakMap;function B5(e){const t=new Promise((n,a)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",l)},s=()=>{n(jr(e.result)),r()},l=()=>{a(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&RE.set(n,e)}).catch(()=>{}),ky.set(t,e),t}function U5(e){if(P0.has(e))return;const t=new Promise((n,a)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",l),e.removeEventListener("abort",l)},s=()=>{n(),r()},l=()=>{a(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",l),e.addEventListener("abort",l)});P0.set(e,t)}let F0={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return P0.get(e);if(t==="objectStoreNames")return e.objectStoreNames||OE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function q5(e){F0=e(F0)}function D5(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=e.call(Em(this),t,...n);return OE.set(a,t.sort?t.sort():[t]),jr(a)}:M5().includes(e)?function(...t){return e.apply(Em(this),t),jr(RE.get(this))}:function(...t){return jr(e.apply(Em(this),t))}}function z5(e){return typeof e=="function"?D5(e):(e instanceof IDBTransaction&&U5(e),O5(e,C5())?new Proxy(e,F0):e)}function jr(e){if(e instanceof IDBRequest)return B5(e);if(vm.has(e))return vm.get(e);const t=z5(e);return t!==e&&(vm.set(e,t),ky.set(t,e)),t}const Em=e=>ky.get(e);function j5(e,t,{blocked:n,upgrade:a,blocking:r,terminated:s}={}){const l=indexedDB.open(e,t),c=jr(l);return a&&l.addEventListener("upgradeneeded",o=>{a(jr(l.result),o.oldVersion,o.newVersion,jr(l.transaction),o)}),n&&l.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),c.then(o=>{s&&o.addEventListener("close",()=>s()),r&&o.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const k5=["get","getKey","getAll","getAllKeys","count"],H5=["put","add","delete","clear"],wm=new Map;function Nb(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(wm.get(t))return wm.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,r=H5.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(r||k5.includes(n)))return;const s=async function(l,...c){const o=this.transaction(l,r?"readwrite":"readonly");let f=o.store;return a&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),r&&o.done]))[0]};return wm.set(t,s),s}q5(e=>({...e,get:(t,n,a)=>Nb(t,n)||e.get(t,n,a),has:(t,n)=>!!Nb(t,n)||e.has(t,n)}));const CE="auth-client-db",ME="ic-keyval",V5=async(e=CE,t=ME,n)=>(BE&&(localStorage!=null&&localStorage.getItem(ar))&&(localStorage.removeItem(ar),localStorage.removeItem(Ja)),await j5(e,n,{upgrade:a=>{a.objectStoreNames.contains(t)&&a.clear(t),a.createObjectStore(t)}}));async function G5(e,t,n){return await e.get(t,n)}async function K5(e,t,n,a){return await e.put(t,a,n)}async function Y5(e,t,n){return await e.delete(t,n)}class Hy{constructor(t,n){lt(this,"_db");lt(this,"_storeName");this._db=t,this._storeName=n}static async create(t){const{dbName:n=CE,storeName:a=ME,version:r=I5}=t??{},s=await V5(n,a,r);return new Hy(s,a)}async set(t,n){return await K5(this._db,this._storeName,t,n)}async get(t){return await G5(this._db,this._storeName,t)??null}async remove(t){return await Y5(this._db,this._storeName,t)}}const Ja="identity",ar="delegation",L5="iv",I5=1,BE=typeof window<"u";class Q5{constructor(t="ic-",n){lt(this,"prefix");lt(this,"_localStorage");this.prefix=t,this._localStorage=n}get(t){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+t))}set(t,n){return this._getLocalStorage().setItem(this.prefix+t,n),Promise.resolve()}remove(t){return this._getLocalStorage().removeItem(this.prefix+t),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;const t=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.localStorage:global.localStorage:window.localStorage;if(!t)throw new Error("Could not find local storage.");return t}}var uo;class Z5{constructor(t){V(this,uo);lt(this,"initializedDb");k(this,uo,t??{})}get _db(){return new Promise(t=>{if(this.initializedDb){t(this.initializedDb);return}Hy.create(x(this,uo)).then(n=>{this.initializedDb=n,t(n)})})}async get(t){return await(await this._db).get(t)}async set(t,n){await(await this._db).set(t,n)}async remove(t){await(await this._db).remove(t)}}uo=new WeakMap;const X5=BigInt(1e9),$5=BigInt(3600),P5=X5*$5,F5="https://identity.internetcomputer.org",J5="#authorize",W5=BigInt(8)*P5,Nm="ECDSA",Sm="Ed25519",eS=500,tS="UserInterrupt";class hd{constructor(t,n,a,r,s,l,c,o){lt(this,"_identity");lt(this,"_key");lt(this,"_chain");lt(this,"_storage");lt(this,"idleManager");lt(this,"_createOptions");lt(this,"_idpWindow");lt(this,"_eventHandler");this._identity=t,this._key=n,this._chain=a,this._storage=r,this.idleManager=s,this._createOptions=l,this._idpWindow=c,this._eventHandler=o,this._registerDefaultIdleCallback()}static async create(t={}){var o;const n=t.storage??new Z5,a=t.keyType??Nm;let r=null;if(t.identity)r=t.identity;else{let f=await n.get(Ja);if(!f&&BE)try{const g=new Q5,h=await g.get(ar),u=await g.get(Ja);h&&u&&a===Nm&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await n.set(ar,h),await n.set(Ja,u),f=h,await g.remove(ar),await g.remove(Ja))}catch(g){console.error("error while attempting to recover localstorage: "+g)}if(f)try{typeof f=="object"?a===Sm&&typeof f=="string"?r=mc.fromJSON(f):r=await Tf.fromKeyPair(f):typeof f=="string"&&(r=mc.fromJSON(f))}catch{}}let s=new xf,l=null;if(r)try{const f=await n.get(ar);if(typeof f=="object"&&f!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");t.identity?s=t.identity:f&&(l=Af.fromJSON(f),bb(l)?"toDer"in r?s=Rf.fromDelegation(r,l):s=pb.fromDelegation(r,l):(await _m(n),r=null))}catch(f){console.error(f),await _m(n),r=null}let c;return(o=t.idleOptions)!=null&&o.disableIdle?c=void 0:(l||t.identity)&&(c=vb.create(t.idleOptions)),r||(a===Sm?(r=mc.generate(),await n.set(Ja,JSON.stringify(r.toJSON()))):(t.storage&&a===Nm&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${Sm}' as the key type, as it can serialize to a string`),r=await Tf.generate(),await n.set(Ja,r.getKeyPair()))),new this(s,r,l,n,c,t)}_registerDefaultIdleCallback(){var n,a;const t=(n=this._createOptions)==null?void 0:n.idleOptions;!(t!=null&&t.onIdle)&&!(t!=null&&t.disableDefaultIdleCallback)&&((a=this.idleManager)==null||a.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(t,n){var c,o;const a=t.delegations.map(f=>({delegation:new jy(f.delegation.pubkey,f.delegation.expiration,f.delegation.targets),signature:f.signature})),r=Af.fromDelegations(a,t.userPublicKey),s=this._key;if(!s)return;this._chain=r,"toDer"in s?this._identity=Rf.fromDelegation(s,this._chain):this._identity=pb.fromDelegation(s,this._chain),(c=this._idpWindow)==null||c.close();const l=(o=this._createOptions)==null?void 0:o.idleOptions;!this.idleManager&&!(l!=null&&l.disableIdle)&&(this.idleManager=vb.create(l),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(ar,JSON.stringify(this._chain.toJSON())),n==null||n(t)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null&&bb(this._chain)}async login(t){var l,c,o;const n=nS((l=this._createOptions)==null?void 0:l.loginOptions,t),a=(n==null?void 0:n.maxTimeToLive)??W5,r=new URL(((c=n==null?void 0:n.identityProvider)==null?void 0:c.toString())||F5);r.hash=J5,(o=this._idpWindow)==null||o.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(r,{maxTimeToLive:a,...n}),window.addEventListener("message",this._eventHandler),this._idpWindow=window.open(r.toString(),"idpWindow",n==null?void 0:n.windowOpenerFeatures)??void 0;const s=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(tS,n==null?void 0:n.onError):setTimeout(s,eS))};s()}_getEventHandler(t,n){return async a=>{var s,l,c;if(a.origin!==t.origin)return;const r=a.data;switch(r.kind){case"authorize-ready":{const o={kind:"authorize-client",sessionPublicKey:new Uint8Array((s=this._key)==null?void 0:s.getPublicKey().toDer()),maxTimeToLive:n==null?void 0:n.maxTimeToLive,allowPinAuthentication:n==null?void 0:n.allowPinAuthentication,derivationOrigin:(l=n==null?void 0:n.derivationOrigin)==null?void 0:l.toString(),...n==null?void 0:n.customValues};(c=this._idpWindow)==null||c.postMessage(o,t.origin);break}case"authorize-client-success":try{await this._handleSuccess(r,n==null?void 0:n.onSuccess)}catch(o){this._handleFailure(o.message,n==null?void 0:n.onError)}break;case"authorize-client-failure":this._handleFailure(r.text,n==null?void 0:n.onError);break}}}_handleFailure(t,n){var a;(a=this._idpWindow)==null||a.close(),n==null||n(t),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(t={}){if(await _m(this._storage),this._identity=new xf,this._chain=null,t.returnTo)try{window.history.pushState({},"",t.returnTo)}catch{window.location.href=t.returnTo}}}async function _m(e){await e.remove(Ja),await e.remove(ar),await e.remove(L5)}function nS(e,t){if(!e&&!t)return;const n=e!=null&&e.customValues||t!=null&&t.customValues?{...e==null?void 0:e.customValues,...t==null?void 0:t.customValues}:void 0;return{...e,...t,customValues:n}}const UE=({IDL:e})=>{const t=e.Variant({admin:e.Null,user:e.Null,guest:e.Null}),n=e.Int,a=e.Record({id:e.Text,url:e.Text,attestationHash:e.Opt(e.Text),owner:e.Principal,publicKey:e.Text,name:e.Text,stakeAmount:e.Nat,reputation:e.Float64,isActive:e.Bool,isVerified:e.Bool,uptime:e.Float64,securityScore:e.Nat,totalEarnings:e.Float64,rating:e.Float64,totalSessions:e.Nat,lastSeen:n,location:e.Text}),r=e.Record({user:e.Principal,serverUrl:e.Text,timestamp:n,sessionId:e.Text}),s=e.Variant({pending:e.Null,approved:e.Null,rejected:e.Null}),l=e.Record({startTime:n,costPerMinute:e.Float64,endTime:n,protocolFee:e.Float64,user:e.Principal,totalCost:e.Float64,providerEarnings:e.Float64,durationMinutes:e.Float64,sessionId:e.Text,providerId:e.Text}),c=e.Record({id:e.Text,user:e.Principal,message:e.Text,timestamp:n,roomId:e.Text}),o=e.Record({name:e.Text}),f=e.Record({principal:e.Principal,role:t,approval:s});return e.Service({answerOffer:e.Func([e.Nat,e.Text],[e.Bool],[]),assignRole:e.Func([e.Principal,t],[],[]),createRoom:e.Func([],[e.Nat],[]),getAllTurnProviders:e.Func([],[e.Vec(a)],["query"]),getAllTurnServerUsages:e.Func([],[e.Vec(r)],["query"]),getAnswer:e.Func([e.Nat],[e.Opt(e.Text)],["query"]),getApprovalStatus:e.Func([],[s],["query"]),getBillingRecords:e.Func([],[e.Vec(l)],["query"]),getCandidates:e.Func([e.Text],[e.Vec(e.Text)],["query"]),getCurrentUserRole:e.Func([],[t],["query"]),getOffer:e.Func([e.Nat],[e.Opt(e.Text)],[]),getRoomMessages:e.Func([e.Text],[e.Vec(c)],["query"]),getTurnServerUsage:e.Func([e.Text],[e.Opt(r)],["query"]),getUserProfile:e.Func([],[e.Opt(o)],["query"]),initializeAuth:e.Func([],[],[]),isCurrentUserAdmin:e.Func([],[e.Bool],["query"]),joinRoom:e.Func([e.Nat,e.Text],[e.Bool],[]),listUsers:e.Func([],[e.Vec(f)],["query"]),logTurnServerUsage:e.Func([e.Text,e.Text],[],[]),recordBilling:e.Func([e.Text,e.Text,n,n,e.Float64],[],[]),registerPrincipal:e.Func([e.Principal],[e.Text],[]),registerTurnProvider:e.Func([e.Text,e.Text,e.Text,e.Text,e.Opt(e.Text),e.Nat,e.Text],[],[]),registerUser:e.Func([],[],[]),saveUserProfile:e.Func([o],[],[]),sendMessage:e.Func([e.Text,e.Text],[],[]),setApproval:e.Func([e.Principal,s],[],[]),submitCandidate:e.Func([e.Text,e.Text],[],[])})},Of="tqeln-aaaaa-aaaad-abn7q-cai",J0=(e,t={})=>{const n=t.agent||new Lr({...t.agentOptions});return t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),md.createActor(UE,{agent:n,canisterId:e,...t.actorOptions})};J0(Of);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rS=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,a)=>a?a.toUpperCase():n.toLowerCase()),Sb=e=>{const t=rS(e);return t.charAt(0).toUpperCase()+t.slice(1)},qE=(...e)=>e.filter((t,n,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===n).join(" ").trim(),sS=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=G.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:r="",children:s,iconNode:l,...c},o)=>G.createElement("svg",{ref:o,...iS,width:t,height:t,stroke:e,strokeWidth:a?Number(n)*24/Number(t):n,className:qE("lucide",r),...!s&&!sS(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,g])=>G.createElement(f,g)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=(e,t)=>{const n=G.forwardRef(({className:a,...r},s)=>G.createElement(lS,{ref:s,iconNode:t,className:qE(`lucide-${aS(Sb(e))}`,`lucide-${e}`,a),...r}));return n.displayName=Sb(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],oS=X("activity",cS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],W0=X("book-open",uS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],dS=X("chart-column",fS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hS=X("check",mS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rr=X("circle-check-big",yS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],pS=X("circle-x",gS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Aa=X("clock",bS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Tm=X("code",xS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Am=X("coins",vS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],_u=X("copy",ES);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Vy=X("dollar-sign",wS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],SS=X("download",NS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_b=X("external-link",_S);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qc=X("eye",TS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Cf=X("file-text",AS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],hc=X("globe",RS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Tb=X("loader-circle",OS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],eh=X("lock",CS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],BS=X("log-out",MS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],qS=X("map-pin",US);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],zS=X("maximize",DS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],kS=X("message-circle",jS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],DE=X("mic-off",HS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],zE=X("mic",VS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],KS=X("minimize",GS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],Ab=X("phone-off",YS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],IS=X("phone",LS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],ZS=X("play",QS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$S=X("plus",XS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Rb=X("search",PS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],JS=X("send",FS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],kr=X("server",WS);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],t_=X("settings",e_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Yt=X("shield",n_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],Tu=X("shuffle",a_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],s_=X("skip-forward",r_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Mf=X("star",i_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Ob=X("terminal",l_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],o_=X("thumbs-down",c_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],f_=X("thumbs-up",u_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],jE=X("trending-up",d_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Qn=X("triangle-alert",m_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],y_=X("user-check",h_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Au=X("user-plus",g_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Sa=X("users",p_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],kE=X("video-off",b_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],sr=X("video",x_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]],th=X("vote",v_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hr=X("x",E_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Bf=X("zap",w_);function N_({backend:e}){const[t,n]=G.useState(null),[a,r]=G.useState(null),[s,l]=G.useState([]),[c,o]=G.useState(!1),[f,g]=G.useState(!1),[h,u]=G.useState(!1),[d,m]=G.useState(""),[S,v]=G.useState(""),[p,y]=G.useState([]),[b,N]=G.useState(""),[w,C]=G.useState(!1),B=G.useRef(null),D={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:194.31.150.154:3478?transport=udp",username:"turnx",credential:"1234"}]};G.useEffect(()=>((async()=>{try{const z=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});n(z),B.current&&(B.current.srcObject=z)}catch(z){console.error("Failed to access media devices:",z)}})(),()=>{t==null||t.getTracks().forEach(z=>z.stop())}),[]),G.useEffect(()=>{const z=new URL(window.location.href).searchParams.get("roomId");z&&z.startsWith("CODE_")&&(m(z),_(z,!1))},[]);const j=async()=>{if(!t){console.warn(" No localStream  cannot create room.");return}try{console.log(" Calling backend.createRoom()..."),C(!0);const R=await e.createRoom();console.log(" Room created with ID:",R.toString()),m(R.toString()),v(`${window.location.origin}?roomId=${R.toString()}`),console.log(" Initializing connection as room creator..."),_(R.toString(),!0)}catch(R){console.error(" Error creating room:",R),alert("Could not create room. Make sure you are logged in with Internet Identity.")}finally{C(!1)}},O=async()=>{const R=prompt("Enter Room ID to join")||"";R.trim()?(console.log(" Joining existing room:",R),m(R),_(R,!1)):console.warn(" No room ID entered.")},_=async(R,z)=>{if(!t){console.warn(" No localStream  cannot start connection.");return}console.log(` Setting up RTCPeerConnection for room ${R}, creator: ${z}`);const K=new RTCPeerConnection(D);r(K),t.getTracks().forEach(L=>{console.log(` Adding local track: ${L.kind}`),K.addTrack(L,t)}),K.ontrack=L=>{console.log(" Remote track received:",L.streams[0]),L.streams[0]&&!s.includes(L.streams[0])&&l(Y=>[...Y,L.streams[0]])},K.onicecandidate=async L=>{L.candidate?console.log(" ICE candidate found:",L.candidate):console.log(" ICE gathering complete.")},K.oniceconnectionstatechange=()=>{console.log(" ICE connection state:",K.iceConnectionState)},K.onconnectionstatechange=()=>{console.log(" Peer connection state:",K.connectionState)};try{if(z){console.log(" Creating offer...");const Y=await K.createOffer();await K.setLocalDescription(Y),console.log(" Sending offer to backend.joinRoom:",R,Y);const ye=await e.joinRoom(BigInt(R),btoa(JSON.stringify(Y)));if(console.log("joinRoom() success:",ye),!ye){console.error(" Failed to submit offer to backend.");return}}else{console.log(" Fetching offer from backend.getOffer for room:",R);const Y=await e.getOffer(BigInt(R));if(console.log("getOffer() returned length:",Y.length),!Y.length){console.warn(" No offer found for room:",R);return}const ye=Y[0],Ee=JSON.parse(atob(ye));console.log(" Offer received, setting as remote description..."),await K.setRemoteDescription(Ee),console.log(" Creating answer...");const Qe=await K.createAnswer();await K.setLocalDescription(Qe),console.log(" Sending answer to backend.answerOffer:",Qe);const Ce=await e.answerOffer(BigInt(R),btoa(JSON.stringify(Qe)));if(console.log("answerOffer() success:",Ce),!Ce){console.error(" Failed to submit answer to backend.");return}}console.log(" Starting poll interval for answer retrieval...");const L=setInterval(async()=>{const Y=await e.getAnswer(BigInt(R));if(Y.length&&!K.currentRemoteDescription){console.log(" Answer found, applying remote description...");const ye=JSON.parse(atob(Y[0]));await K.setRemoteDescription(ye)}},2e3);return()=>clearInterval(L)}catch(L){console.error(" Error during connection setup:",L)}},U=async()=>{b.trim()&&(await e.sendMessage(d,b),y(R=>[...R,{user:"Me",message:b}]),N(""))},E=async()=>{if(!d)return;const z=(await e.getRoomMessages(d)).map(K=>({user:K.user.toString(),message:K.message}));y(z)};G.useEffect(()=>{if(d){const R=setInterval(E,3e3);return()=>clearInterval(R)}},[d]);const T=()=>{if(t){const R=t.getAudioTracks()[0];R.enabled=!R.enabled,o(!R.enabled)}},M=()=>{if(t){const R=t.getVideoTracks()[0];R.enabled=!R.enabled,g(!R.enabled)}},A=()=>u(R=>!R),q=()=>{const R=`${window.location.origin}?roomId=${d}`;navigator.clipboard.writeText(R)};return i.createElement("div",{className:"min-h-screen bg-gray-900 text-white flex"},i.createElement("div",{className:"w-1/4 bg-gray-800 p-4 flex flex-col space-y-4 border-r border-gray-700"},i.createElement("button",{onClick:j,className:"bg-green-600 px-4 py-2 rounded hover:bg-green-700"},w?"Creating...":"+ Create Room"),i.createElement("button",{onClick:O,className:"bg-blue-600 px-4 py-2 rounded hover:bg-blue-700"},"Join Room"),d&&i.createElement("button",{onClick:q,className:"mt-4 text-xs bg-gray-700 px-2 py-1 rounded hover:bg-gray-600"},i.createElement(_u,{size:14,className:"inline"})," Copy Invite Link")),i.createElement("div",{className:"flex-1 p-4 flex flex-col"},i.createElement("div",{className:`relative bg-black rounded-xl overflow-hidden grid grid-cols-2 gap-2 ${h?"w-full h-[85vh]":"w-full h-[60vh]"}`},i.createElement("video",{ref:B,muted:!0,autoPlay:!0,playsInline:!0,className:"object-cover w-full h-full border-2 border-green-500"}),s.map((R,z)=>i.createElement("video",{key:z,autoPlay:!0,playsInline:!0,ref:K=>{K&&(K.srcObject=R)},className:"object-cover w-full h-full border border-gray-700"})),i.createElement("button",{onClick:A,className:"absolute top-3 right-3 bg-gray-800/70 p-2 rounded hover:bg-gray-700"},h?i.createElement(KS,null):i.createElement(zS,null))),i.createElement("div",{className:"flex gap-4 mt-4 justify-center"},i.createElement("button",{onClick:T,className:"bg-gray-700 p-4 rounded-full hover:bg-gray-600"},c?i.createElement(DE,null):i.createElement(zE,null)),i.createElement("button",{onClick:M,className:"bg-gray-700 p-4 rounded-full hover:bg-gray-600"},f?i.createElement(kE,null):i.createElement(sr,null))),d&&i.createElement("div",{className:"bg-gray-800 mt-4 p-3 rounded-lg flex flex-col h-48"},i.createElement("div",{className:"flex-1 overflow-y-auto space-y-2"},p.map((R,z)=>i.createElement("div",{key:z,className:"text-sm"},i.createElement("span",{className:"font-bold"},R.user,": "),R.message))),i.createElement("div",{className:"flex mt-2"},i.createElement("input",{className:"flex-1 p-2 text-black rounded-l",placeholder:"Type a message...",value:b,onChange:R=>N(R.target.value)}),i.createElement("button",{onClick:U,className:"bg-green-600 px-4 py-2 rounded-r hover:bg-green-700"},i.createElement(JS,{size:16}))))))}const Cb="actor",S_=UE;function ea(){const e=ja(),t=Ro({queryKey:[Cb],queryFn:async()=>{const a=(await hd.create()).getIdentity(),r=new Lr({identity:a});return md.createActor(S_,{agent:r,canisterId:Of})},staleTime:1/0});return G.useEffect(()=>{t.data&&e.invalidateQueries({predicate:n=>!n.queryKey.includes(Cb)})},[t.data,e]),{actor:t.data??null,isFetching:t.isFetching}}function HE(){const{actor:e,isFetching:t}=ea();return Ro({queryKey:["listUsers"],queryFn:async()=>e?e.listUsers():[],enabled:!!e&&!t,staleTime:30*1e3})}function __(){const{actor:e}=ea(),t=ja();return Tl({mutationFn:async({user:n,approval:a})=>{if(!e)throw new Error("No actor available");se.fromText(n)},onSuccess:()=>{t.invalidateQueries({queryKey:["listUsers"]})},retry:2})}function T_(){const{actor:e}=ea(),t=ja();return Tl({mutationFn:async({user:n,role:a})=>{if(!e)throw new Error("No actor available");se.fromText(n)},onSuccess:()=>{t.invalidateQueries({queryKey:["listUsers"]})},retry:2})}function A_(){const{actor:e}=ea(),t=ja();return Tl({mutationFn:async({serverUrl:n,sessionId:a})=>{if(!e)throw new Error("No actor");return e.logTurnServerUsage(n,a)},onSuccess:()=>{t.invalidateQueries({queryKey:["turnServerUsage"]}),t.invalidateQueries({queryKey:["allTurnServerUsages"]})},retry:2})}function R_(){const{actor:e,isFetching:t}=ea();return Ro({queryKey:["allTurnServerUsages"],queryFn:async()=>e?e.getAllTurnServerUsages():[],enabled:!!e&&!t,staleTime:30*1e3})}function Gy(){const{actor:e,isFetching:t}=ea();return Ro({queryKey:["allTurnProviders"],queryFn:async()=>e?e.getAllTurnProviders():[],enabled:!!e&&!t,staleTime:2*60*1e3})}function O_(){const{actor:e}=ea(),t=ja();return Tl({mutationFn:async n=>{if(!e)throw new Error("No actor");return e.registerTurnProvider(n.id,n.name,n.url,n.publicKey,n.attestationHash!==null?[n.attestationHash]:[],n.stakeAmount,n.location)},onSuccess:()=>{t.invalidateQueries({queryKey:["allTurnProviders"]})},retry:2})}function C_(){const{actor:e}=ea(),t=ja();return Tl({mutationFn:async({name:n,maxParticipants:a})=>{if(!e)throw new Error("No actor");return e.createRoom(n,a)},onSuccess:()=>{t.invalidateQueries({queryKey:["allRooms"]})},retry:2})}function M_(){const{actor:e,isFetching:t}=ea();return Ro({queryKey:["billingRecords"],queryFn:async()=>e?e.getBillingRecords():[],enabled:!!e&&!t,staleTime:60*1e3})}function B_(){const{actor:e}=ea(),t=ja();return Tl({mutationFn:async n=>{if(!e)throw new Error("No actor");return e.recordBilling(n.sessionId,n.providerId,n.startTime,n.endTime,n.costPerMinute)},onSuccess:()=>{t.invalidateQueries({queryKey:["billingRecords"]})},retry:2})}function U_(){const{data:e=[]}=HE(),{data:t=[]}=R_(),{data:n=[]}=Gy(),{data:a=[]}=M_(),r=__(),s=T_(),l=(d,m)=>{r.mutate({user:d,approval:m})},c=(d,m)=>{s.mutate({user:d,role:m})},o=d=>{switch(d){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=d=>{switch(d){case"admin":return"bg-purple-100 text-purple-800";case"user":return"bg-blue-100 text-blue-800";case"guest":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},g=a.reduce((d,m)=>d+m.totalCost,0),h=a.reduce((d,m)=>d+m.providerEarnings,0),u=a.reduce((d,m)=>d+m.protocolFee,0);return i.createElement("div",{className:"space-y-6"},i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6"},i.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},i.createElement("div",{className:"flex items-center space-x-3"},i.createElement(Sa,{className:"h-8 w-8 text-blue-600"}),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Total Users"),i.createElement("p",{className:"text-2xl font-bold text-gray-900"},e.length)))),i.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},i.createElement("div",{className:"flex items-center space-x-3"},i.createElement(Yt,{className:"h-8 w-8 text-green-600"}),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Approved Users"),i.createElement("p",{className:"text-2xl font-bold text-gray-900"},e.filter(d=>d.approval==="approved").length)))),i.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},i.createElement("div",{className:"flex items-center space-x-3"},i.createElement(kr,{className:"h-8 w-8 text-purple-600"}),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"TURN Providers"),i.createElement("p",{className:"text-2xl font-bold text-gray-900"},n.length)))),i.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},i.createElement("div",{className:"flex items-center space-x-3"},i.createElement(Vy,{className:"h-8 w-8 text-yellow-600"}),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Total Revenue"),i.createElement("p",{className:"text-2xl font-bold text-gray-900"},g.toFixed(2)," TURNX"))))),i.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},i.createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-4"},"Revenue Breakdown"),i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},i.createElement("div",{className:"bg-green-50 rounded-lg p-4"},i.createElement("div",{className:"flex items-center space-x-2 mb-2"},i.createElement(jE,{className:"h-5 w-5 text-green-600"}),i.createElement("span",{className:"font-medium text-green-900"},"Provider Earnings (90%)")),i.createElement("p",{className:"text-2xl font-bold text-green-900"},h.toFixed(2)," TURNX")),i.createElement("div",{className:"bg-blue-50 rounded-lg p-4"},i.createElement("div",{className:"flex items-center space-x-2 mb-2"},i.createElement(Yt,{className:"h-5 w-5 text-blue-600"}),i.createElement("span",{className:"font-medium text-blue-900"},"Protocol Treasury (10%)")),i.createElement("p",{className:"text-2xl font-bold text-blue-900"},u.toFixed(2)," TURNX")),i.createElement("div",{className:"bg-purple-50 rounded-lg p-4"},i.createElement("div",{className:"flex items-center space-x-2 mb-2"},i.createElement(Aa,{className:"h-5 w-5 text-purple-600"}),i.createElement("span",{className:"font-medium text-purple-900"},"Total Sessions")),i.createElement("p",{className:"text-2xl font-bold text-purple-900"},a.length)))),i.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},i.createElement("div",{className:"p-6 border-b"},i.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"User Management")),i.createElement("div",{className:"p-6"},i.createElement("div",{className:"space-y-4"},e.map(d=>i.createElement("div",{key:d.principal.toString(),className:"border rounded-lg p-4"},i.createElement("div",{className:"flex items-center justify-between mb-3"},i.createElement("div",null,i.createElement("p",{className:"font-medium text-gray-900"},d.principal.toString().slice(0,20),"..."),i.createElement("div",{className:"flex items-center space-x-2 mt-1"},i.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f(d.role)}`},d.role),i.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o(d.approval)}`},d.approval)))),i.createElement("div",{className:"flex items-center space-x-3"},i.createElement("div",{className:"flex space-x-2"},i.createElement("button",{onClick:()=>l(d.principal.toString(),"approved"),disabled:r.isPending,className:"px-3 py-1 bg-green-100 text-green-700 rounded hover:bg-green-200 disabled:opacity-50 text-sm"},"Approve"),i.createElement("button",{onClick:()=>l(d.principal.toString(),"rejected"),disabled:r.isPending,className:"px-3 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 disabled:opacity-50 text-sm"},"Reject")),i.createElement("select",{onChange:m=>c(d.principal.toString(),m.target.value),value:d.role,disabled:s.isPending,className:"border rounded px-2 py-1 text-sm"},i.createElement("option",{value:"guest"},"Guest"),i.createElement("option",{value:"user"},"User"),i.createElement("option",{value:"admin"},"Admin")))))))),i.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},i.createElement("div",{className:"p-6 border-b"},i.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"TURN Provider Status")),i.createElement("div",{className:"p-6"},i.createElement("div",{className:"space-y-4"},n.length===0?i.createElement("p",{className:"text-gray-500 text-center py-8"},"No TURN providers registered yet"):n.map(d=>i.createElement("div",{key:d.id,className:"border rounded-lg p-4"},i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4"},i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Provider"),i.createElement("p",{className:"font-medium"},d.name),i.createElement("p",{className:"text-xs text-gray-500"},d.location)),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Stake Amount"),i.createElement("p",{className:"font-medium"},Number(d.stakeAmount).toLocaleString()," TURNX")),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Status"),i.createElement("div",{className:"flex items-center space-x-2"},i.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`},d.isActive?"Active":"Inactive"),d.isVerified&&i.createElement("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},"Verified"))),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Performance"),i.createElement("p",{className:"text-sm"},"Reputation: ",d.reputation,"%"),i.createElement("p",{className:"text-sm"},"Uptime: ",d.uptime,"%")))))))),i.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},i.createElement("div",{className:"p-6 border-b"},i.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"TURN Server Usage Audit")),i.createElement("div",{className:"p-6"},i.createElement("div",{className:"space-y-4"},t.length===0?i.createElement("p",{className:"text-gray-500 text-center py-8"},"No TURN server usage recorded yet"):t.map((d,m)=>i.createElement("div",{key:m,className:"border rounded-lg p-4"},i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4"},i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Session ID"),i.createElement("p",{className:"font-mono text-sm"},d.sessionId.slice(0,20),"...")),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"TURN Server"),i.createElement("p",{className:"text-sm"},d.serverUrl)),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"User"),i.createElement("p",{className:"font-mono text-sm"},d.user.toString().slice(0,15),"...")),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Timestamp"),i.createElement("div",{className:"flex items-center space-x-1"},i.createElement(Aa,{className:"h-3 w-3 text-gray-400"}),i.createElement("p",{className:"text-sm"},new Date(Number(d.timestamp)/1e6).toLocaleString()))))))))),i.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},i.createElement("div",{className:"p-6 border-b"},i.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Recent Billing Records")),i.createElement("div",{className:"p-6"},i.createElement("div",{className:"space-y-4"},a.length===0?i.createElement("p",{className:"text-gray-500 text-center py-8"},"No billing records yet"):a.slice(0,10).map((d,m)=>i.createElement("div",{key:m,className:"border rounded-lg p-4"},i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4"},i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Session"),i.createElement("p",{className:"font-mono text-sm"},d.sessionId.slice(0,15),"...")),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Duration"),i.createElement("p",{className:"text-sm"},d.durationMinutes.toFixed(1)," min")),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Total Cost"),i.createElement("p",{className:"font-medium text-green-600"},d.totalCost.toFixed(4)," TURNX")),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Provider Earnings"),i.createElement("p",{className:"text-sm"},d.providerEarnings.toFixed(4)," TURNX")),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Protocol Fee"),i.createElement("p",{className:"text-sm"},d.protocolFee.toFixed(4)," TURNX")))))))))}function q_(){const[e,t]=G.useState(null),{data:n=[]}=HE(),[a,r]=G.useState(""),[s,l]=G.useState("connections"),[c,o]=G.useState([]),[f,g]=G.useState([]),[h,u]=G.useState([]);G.useEffect(()=>{(async()=>{const _=await hd.create();await _.isAuthenticated()?t(_.getIdentity()):await _.login({identityProvider:"https://identity.ic0.app/#authorize",onSuccess:()=>t(_.getIdentity())})})()},[]);const d=(e==null?void 0:e.getPrincipal().toString())||"",m=n.filter(_=>_.principal.toString()!==d&&Object.keys(_.approval)[0]==="approved"),S=m.filter(_=>_.principal.toString().toLowerCase().includes(a.toLowerCase())),v=m.filter(_=>c.includes(_.principal.toString())),p=m.filter(_=>f.includes(_.principal.toString())),y=m.filter(_=>h.includes(_.principal.toString())),b=S.filter(_=>!c.includes(_.principal.toString())&&!f.includes(_.principal.toString())&&!h.includes(_.principal.toString())),N=_=>{g(U=>[...U,_])},w=_=>{o(U=>[...U,_]),u(U=>U.filter(E=>E!==_))},C=_=>{u(U=>U.filter(E=>E!==_))},B=_=>{o(U=>U.filter(E=>E!==_))},D=_=>{g(U=>U.filter(E=>E!==_))},j=(_,U)=>i.createElement("div",{key:_.principal.toString(),className:"bg-white rounded-lg border p-4 hover:shadow-md transition-shadow"},i.createElement("div",{className:"flex items-center justify-between"},i.createElement("div",{className:"flex items-center space-x-3"},i.createElement("div",{className:"bg-blue-100 rounded-full p-3"},i.createElement(Sa,{className:"h-6 w-6 text-blue-600"})),i.createElement("div",null,i.createElement("p",{className:"font-medium text-gray-900"},_.principal.toString().slice(0,15),"..."),i.createElement("div",{className:"flex items-center space-x-2 mt-1"},i.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Object.keys(_.role)[0]==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`},Object.keys(_.role)[0]),i.createElement("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},Object.keys(_.approval)[0])))),i.createElement("div",{className:"flex items-center space-x-2"},U))),O=[{id:"connections",label:"My Connections",count:c.length},{id:"requests",label:"Requests",count:h.length+f.length},{id:"discover",label:"Discover Users",count:b.length}];return i.createElement("div",{className:"space-y-6"},i.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},i.createElement("div",{className:"flex items-center justify-between mb-4"},i.createElement("div",{className:"flex items-center space-x-3"},i.createElement(Au,{className:"h-8 w-8 text-blue-600"}),i.createElement("div",null,i.createElement("h2",{className:"text-2xl font-bold text-gray-900"},"Connection Manager"),i.createElement("p",{className:"text-gray-600"},"Connect with other users for private communications")))),i.createElement("div",{className:"relative"},i.createElement(Rb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.createElement("input",{type:"text",placeholder:"Search users by principal ID...",value:a,onChange:_=>r(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}))),i.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},i.createElement("div",{className:"border-b"},i.createElement("nav",{className:"flex space-x-1 p-4"},O.map(_=>i.createElement("button",{key:_.id,onClick:()=>l(_.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${s===_.id?"bg-blue-100 text-blue-700 border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`},i.createElement("span",null,_.label),_.count>0&&i.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s===_.id?"bg-blue-200 text-blue-800":"bg-gray-200 text-gray-700"}`},_.count))))),i.createElement("div",{className:"p-6"},s==="connections"&&i.createElement("div",{className:"space-y-4"},i.createElement("div",{className:"flex items-center justify-between"},i.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Your Connections"),i.createElement("div",{className:"text-sm text-gray-500"},c.length," connection",c.length!==1?"s":"")),v.length===0?i.createElement("div",{className:"text-center py-12"},i.createElement(y_,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.createElement("p",{className:"text-gray-500 text-lg"},"No connections yet"),i.createElement("p",{className:"text-gray-400 text-sm"},"Start by discovering and connecting with other users")):i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},v.map(_=>j(_,i.createElement("div",{className:"flex space-x-2"},i.createElement("button",{className:"flex items-center space-x-1 px-3 py-1 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm",title:"Start video call"},i.createElement(sr,{className:"h-3 w-3"}),i.createElement("span",null,"Call")),i.createElement("button",{className:"flex items-center space-x-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",title:"Send message"},i.createElement(kS,{className:"h-3 w-3"}),i.createElement("span",null,"Message")),i.createElement("button",{onClick:()=>B(_.principal.toString()),className:"flex items-center space-x-1 px-3 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm",title:"Remove connection"},i.createElement(Hr,{className:"h-3 w-3"}),i.createElement("span",null,"Remove"))))))),s==="requests"&&i.createElement("div",{className:"space-y-6"},i.createElement("div",null,i.createElement("div",{className:"flex items-center justify-between mb-4"},i.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Received Requests"),i.createElement("div",{className:"text-sm text-gray-500"},h.length," pending request",h.length!==1?"s":"")),y.length===0?i.createElement("div",{className:"text-center py-8 bg-gray-50 rounded-lg"},i.createElement(Aa,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),i.createElement("p",{className:"text-gray-500"},"No pending requests")):i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},y.map(_=>j(_,i.createElement("div",{className:"flex space-x-2"},i.createElement("button",{onClick:()=>w(_.principal.toString()),className:"flex items-center space-x-1 px-3 py-1 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm"},i.createElement(hS,{className:"h-3 w-3"}),i.createElement("span",null,"Accept")),i.createElement("button",{onClick:()=>C(_.principal.toString()),className:"flex items-center space-x-1 px-3 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm"},i.createElement(Hr,{className:"h-3 w-3"}),i.createElement("span",null,"Reject"))))))),i.createElement("div",null,i.createElement("div",{className:"flex items-center justify-between mb-4"},i.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Sent Requests"),i.createElement("div",{className:"text-sm text-gray-500"},f.length," pending request",f.length!==1?"s":"")),p.length===0?i.createElement("div",{className:"text-center py-8 bg-gray-50 rounded-lg"},i.createElement(Aa,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),i.createElement("p",{className:"text-gray-500"},"No sent requests")):i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},p.map(_=>j(_,i.createElement("div",{className:"flex space-x-2"},i.createElement("span",{className:"flex items-center space-x-1 px-3 py-1 bg-yellow-100 text-yellow-700 rounded-lg text-sm"},i.createElement(Aa,{className:"h-3 w-3"}),i.createElement("span",null,"Pending")),i.createElement("button",{onClick:()=>D(_.principal.toString()),className:"flex items-center space-x-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm"},i.createElement(Hr,{className:"h-3 w-3"}),i.createElement("span",null,"Cancel")))))))),s==="discover"&&i.createElement("div",{className:"space-y-4"},i.createElement("div",{className:"flex items-center justify-between"},i.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Discover Users"),i.createElement("div",{className:"text-sm text-gray-500"},b.length," user",b.length!==1?"s":""," available")),b.length===0?i.createElement("div",{className:"text-center py-12"},i.createElement(Rb,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.createElement("p",{className:"text-gray-500 text-lg"},a?"No users found":"No new users to discover"),i.createElement("p",{className:"text-gray-400 text-sm"},a?"Try a different search term":"You've already connected with all available users")):i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},b.map(_=>j(_,i.createElement("button",{onClick:()=>N(_.principal.toString()),className:"flex items-center space-x-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium"},i.createElement(Au,{className:"h-3 w-3"}),i.createElement("span",null,"Connect")))))))),i.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4"},i.createElement("div",{className:"flex items-start space-x-3"},i.createElement(Au,{className:"h-5 w-5 text-blue-600 mt-0.5"}),i.createElement("div",{className:"flex-1"},i.createElement("h3",{className:"font-medium text-blue-900"},"Privacy & Connections"),i.createElement("p",{className:"text-blue-800 text-sm mt-1"},"Connections are managed privately using your Principal ID. Only approved users can send and receive connection requests. All communications remain end-to-end encrypted through the $TURNX network.")))))}function D_(){const[e,t]=G.useState(null);G.useEffect(()=>{(async()=>{const $=await hd.create();await $.isAuthenticated()&&t($.getIdentity())})()},[]);const{data:n=[]}=Gy(),a=C_(),r=A_(),s=B_(),[l,c]=G.useState(!1),[o,f]=G.useState(null),[g,h]=G.useState(!0),[u,d]=G.useState(!0),[m,S]=G.useState(0),[v,p]=G.useState(null),[y,b]=G.useState(0),[N,w]=G.useState(0),[C,B]=G.useState(0),[D,j]=G.useState("excellent"),[O,_]=G.useState(!1),[U,E]=G.useState("disconnected"),[T,M]=G.useState(0),A=G.useRef(null),q=G.useRef(null),R=G.useRef(null),z=G.useRef(null),K=G.useRef(null),L=(e==null?void 0:e.getPrincipal().toString())||"",Y=["rdmx6-jaaaa-aaaah-qcaiq-cai","rrkah-fqaaa-aaaah-qcaiq-cai","ryjl3-tyaaa-aaaah-qcaiq-cai","renrk-eyaaa-aaaah-qcaiq-cai","rdbzx-hqaaa-aaaah-qcaiq-cai","rjmkw-byaaa-aaaah-qcaiq-cai"];G.useEffect(()=>{if(o&&o.isActive)return z.current=setInterval(()=>{const me=Math.floor((new Date().getTime()-o.startTime.getTime())/1e3);S(me)},1e3),()=>{z.current&&clearInterval(z.current)}},[o]),G.useEffect(()=>{if(o&&o.isVideoCallActive&&v)return K.current=setInterval(()=>{const Ye=(new Date().getTime()-o.startTime.getTime())/(1e3*60)*.2;M(Ye)},1e3),()=>{K.current&&clearInterval(K.current)}},[o,v]),G.useEffect(()=>{if(l){const $=Date.now();return R.current=setInterval(()=>{b(Math.floor((Date.now()-$)/1e3))},1e3),()=>{R.current&&clearInterval(R.current)}}else b(0)},[l]),G.useEffect(()=>{if(o&&o.isVideoCallActive){const $=setInterval(()=>{const me=["excellent","good","fair"],ge=me[Math.floor(Math.random()*me.length)];j(ge)},1e4);return()=>clearInterval($)}},[o]);const ye=()=>{const $=n.filter(ge=>ge.rating>4.5&&ge.reputation>90&&ge.isVerified&&ge.attestationHash);if($.length===0){const ge=n.filter(Ye=>Ye.isVerified&&Ye.attestationHash);if(ge.length>0){const Ye=Math.floor(Math.random()*ge.length);return ge[Ye]}if(n.length>0){const Ye=Math.floor(Math.random()*n.length);return n[Ye]}return null}const me=Math.floor(Math.random()*$.length);return $[me]},Ee=$=>({username:`user_${Math.random().toString(36).substr(2,9)}`,credential:`temp_pass_${Math.random().toString(36).substr(2,9)}`,urls:$.url}),Qe=async $=>{const me={iceServers:[{urls:$.urls,username:$.username,credential:$.credential}],iceTransportPolicy:"relay"},ge=new RTCPeerConnection(me);return ge.oniceconnectionstatechange=()=>{switch(console.log("ICE connection state:",ge.iceConnectionState),ge.iceConnectionState){case"checking":E("connecting");break;case"connected":case"completed":E("connected");break;case"failed":case"disconnected":E("failed");break}},ge.ontrack=Ye=>{console.log("Received remote stream"),q.current&&Ye.streams[0]&&(q.current.srcObject=Ye.streams[0],f(Ct=>Ct?{...Ct,remoteStream:Ye.streams[0]}:null))},ge},Ce=async()=>{try{const $=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"},audio:!0});return A.current&&(A.current.srcObject=$),$}catch($){throw console.error("Error accessing camera:",$),$}},en=async $=>{try{_(!0),E("connecting");const me=await Ce(),ge=await Qe($.turnCredentials);me.getTracks().forEach(Ct=>{ge.addTrack(Ct,me)});const Ye=await ge.createOffer();await ge.setLocalDescription(Ye),setTimeout(async()=>{try{const Ct={type:"answer",sdp:Ye.sdp};await ge.setRemoteDescription(Ct),f(Uo=>Uo?{...Uo,peerConnection:ge,localStream:me,isVideoCallActive:!0}:null),_(!1),E("connected"),v&&r.mutate({serverUrl:v.url,sessionId:$.roomId})}catch(Ct){console.error("Error setting remote description:",Ct),E("failed"),_(!1)}},2e3)}catch(me){console.error("Error initiating video call:",me),E("failed"),_(!1)}},Yy=async()=>{c(!0),_(!1),E("disconnected");const $=Math.random()*6e3+2e3;setTimeout(async()=>{c(!1),_(!0);const me=Y.filter(Ct=>Ct!==L),ge=me[Math.floor(Math.random()*me.length)],Ye=ye();Ye&&p(Ye);try{const Ct=await a.mutateAsync({name:`Random Chat ${Date.now()}`,maxParticipants:BigInt(2)}),Uo=Ye?Ee(Ye):null,Zy={roomId:Ct.id,partnerId:ge,partnerVideoRef:q,peerConnection:null,localStream:null,remoteStream:null,startTime:new Date,isActive:!0,isVideoCallActive:!1,turnCredentials:Uo};f(Zy),S(0),M(0),j("excellent"),await en(Zy)}catch(Ct){console.error("Failed to create random chat room:",Ct),c(!1),_(!1),E("failed")}},$)},Ly=async()=>{if(o){if(o.localStream&&o.localStream.getTracks().forEach(me=>me.stop()),o.peerConnection&&o.peerConnection.close(),A.current&&(A.current.srcObject=null),q.current&&(q.current.srcObject=null),T>0&&v){const me=BigInt(Date.now()*1e6),ge=BigInt(o.startTime.getTime()*1e6);s.mutate({sessionId:o.roomId,providerId:v.id,startTime:ge,endTime:me,costPerMinute:.2})}w(me=>me+1);const $=m/60;B(me=>me===0?$:(me+$)/2)}f(null),h(!0),d(!0),S(0),M(0),p(null),j("excellent"),_(!1),E("disconnected")},VE=async()=>{await Ly(),setTimeout(()=>{Yy()},500)},GE=()=>{if(o&&o.localStream){const $=o.localStream.getVideoTracks()[0];$&&($.enabled=!$.enabled,h($.enabled))}},KE=()=>{if(o&&o.localStream){const $=o.localStream.getAudioTracks()[0];$&&($.enabled=!$.enabled,d($.enabled))}},yd=$=>{const me=Math.floor($/60),ge=$%60;return`${me}:${ge.toString().padStart(2,"0")}`},YE=$=>$<1?`${Math.floor($*60)}s`:`${Math.floor($)}m`,LE=()=>{switch(D){case"excellent":return"text-green-600";case"good":return"text-blue-600";case"fair":return"text-yellow-600";case"poor":return"text-red-600";default:return"text-gray-600"}},IE=()=>{switch(D){case"excellent":return i.createElement(Bf,{className:"h-4 w-4"});case"good":return i.createElement(hc,{className:"h-4 w-4"});case"fair":return i.createElement(Aa,{className:"h-4 w-4"});case"poor":return i.createElement(Hr,{className:"h-4 w-4"});default:return i.createElement(hc,{className:"h-4 w-4"})}},Iy=()=>{switch(U){case"connected":return"text-green-600";case"connecting":return"text-yellow-600";case"failed":return"text-red-600";default:return"text-gray-600"}},Qy=()=>{switch(U){case"connected":return i.createElement(IS,{className:"h-4 w-4"});case"connecting":return i.createElement(Tb,{className:"h-4 w-4 animate-spin"});case"failed":return i.createElement(Ab,{className:"h-4 w-4"});default:return i.createElement(Ab,{className:"h-4 w-4"})}};return i.createElement("div",{className:"space-y-6"},i.createElement("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-6"},i.createElement("div",{className:"flex items-center justify-between"},i.createElement("div",{className:"flex items-center space-x-4"},i.createElement("div",{className:"bg-purple-100 rounded-full p-3"},i.createElement(Tu,{className:"h-8 w-8 text-purple-600"})),i.createElement("div",null,i.createElement("h2",{className:"text-2xl font-bold text-purple-900"},"Random Video Chat"),i.createElement("p",{className:"text-purple-800"},"Connect with random users for anonymous one-on-one live video conversations with end-to-end encryption"))),i.createElement("div",{className:"grid grid-cols-2 gap-4 text-center"},i.createElement("div",{className:"bg-white rounded-lg p-3 border border-purple-100"},i.createElement("p",{className:"text-2xl font-bold text-purple-600"},N),i.createElement("p",{className:"text-xs text-purple-700"},"Total Chats")),i.createElement("div",{className:"bg-white rounded-lg p-3 border border-purple-100"},i.createElement("p",{className:"text-2xl font-bold text-pink-600"},YE(C)),i.createElement("p",{className:"text-xs text-pink-700"},"Avg. Duration"))))),i.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},!l&&!O&&!o&&i.createElement("div",{className:"p-8 text-center"},i.createElement("div",{className:"mb-8"},i.createElement(Tu,{className:"h-16 w-16 text-purple-600 mx-auto mb-4"}),i.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-2"},"Ready for Random Video Chat?"),i.createElement("p",{className:"text-gray-600 max-w-md mx-auto"},"Connect instantly with another user for a private, anonymous live video conversation. All video calls are end-to-end encrypted and completely private.")),i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 max-w-2xl mx-auto"},i.createElement("div",{className:"bg-green-50 rounded-lg p-4 text-center"},i.createElement(Yt,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),i.createElement("h4",{className:"font-medium text-green-900"},"Private & Secure"),i.createElement("p",{className:"text-sm text-green-700"},"End-to-end encrypted live video calls")),i.createElement("div",{className:"bg-blue-50 rounded-lg p-4 text-center"},i.createElement(Sa,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),i.createElement("h4",{className:"font-medium text-blue-900"},"Anonymous Matching"),i.createElement("p",{className:"text-sm text-blue-700"},"Random pairing with live video connection")),i.createElement("div",{className:"bg-purple-50 rounded-lg p-4 text-center"},i.createElement(sr,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),i.createElement("h4",{className:"font-medium text-purple-900"},"Instant Video Call"),i.createElement("p",{className:"text-sm text-purple-700"},"Live video streaming in seconds"))),i.createElement("button",{onClick:Yy,className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-xl font-semibold text-lg hover:from-purple-700 hover:to-pink-700 transition-all transform hover:scale-105 shadow-lg"},i.createElement("div",{className:"flex items-center space-x-3"},i.createElement(sr,{className:"h-6 w-6"}),i.createElement("span",null,"Start Random Video Chat")))),l&&i.createElement("div",{className:"p-8 text-center"},i.createElement("div",{className:"mb-6"},i.createElement("div",{className:"relative"},i.createElement("div",{className:"w-20 h-20 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin mx-auto mb-4"}),i.createElement(Tu,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 h-8 w-8 text-purple-600"})),i.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-2"},"Finding your video chat partner..."),i.createElement("p",{className:"text-gray-600"},"Searching for available users worldwide for live video chat"),i.createElement("p",{className:"text-sm text-purple-600 mt-2"},"Search time: ",yd(y))),i.createElement("div",{className:"bg-blue-50 rounded-lg p-4 mb-6 max-w-md mx-auto"},i.createElement("div",{className:"flex items-center space-x-2 mb-2"},i.createElement(hc,{className:"h-4 w-4 text-blue-600"}),i.createElement("span",{className:"text-sm font-medium text-blue-900"},"Global Video Matching")),i.createElement("p",{className:"text-xs text-blue-700"},"Connecting you with users from around the world for live video conversations")),i.createElement("button",{onClick:()=>c(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors"},"Cancel Search")),O&&i.createElement("div",{className:"p-8 text-center"},i.createElement("div",{className:"mb-6"},i.createElement("div",{className:"relative"},i.createElement("div",{className:"w-20 h-20 border-4 border-green-200 border-t-green-600 rounded-full animate-spin mx-auto mb-4"}),i.createElement(sr,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 h-8 w-8 text-green-600"})),i.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-2"},"Establishing live video connection..."),i.createElement("p",{className:"text-gray-600"},"Setting up secure video call with your partner")),i.createElement("div",{className:"bg-green-50 rounded-lg p-4 max-w-md mx-auto"},i.createElement("div",{className:"flex items-center space-x-2 mb-2"},i.createElement(Yt,{className:"h-4 w-4 text-green-600"}),i.createElement("span",{className:"text-sm font-medium text-green-900"},"Secure Video Connection")),i.createElement("p",{className:"text-xs text-green-700"},"Setting up end-to-end encryption and TURN relay for private video streaming"))),o&&i.createElement("div",{className:"p-6"},i.createElement("div",{className:"flex items-center justify-between mb-6"},i.createElement("div",{className:"flex items-center space-x-4"},i.createElement("div",{className:"bg-green-100 rounded-full p-2"},i.createElement("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"})),i.createElement("div",null,i.createElement("h3",{className:"font-semibold text-gray-900"},"Live Video Chat Active"),i.createElement("div",{className:"flex items-center space-x-4 text-sm text-gray-600"},i.createElement("span",null,"Duration: ",yd(m)),i.createElement("span",null,""),i.createElement("span",null,"Partner: ",o.partnerId.slice(0,10),"..."),i.createElement("span",null,""),i.createElement("div",{className:`flex items-center space-x-1 ${Iy()}`},Qy(),i.createElement("span",{className:"capitalize"},U)),i.createElement("span",null,""),i.createElement("div",{className:`flex items-center space-x-1 ${LE()}`},IE(),i.createElement("span",{className:"capitalize"},D))))),i.createElement("div",{className:"flex items-center space-x-2"},i.createElement("button",{onClick:VE,className:"flex items-center space-x-2 px-4 py-2 bg-yellow-100 text-yellow-700 rounded-lg hover:bg-yellow-200 transition-colors"},i.createElement(s_,{className:"h-4 w-4"}),i.createElement("span",null,"Next Partner")),i.createElement("button",{onClick:Ly,className:"flex items-center space-x-2 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors"},i.createElement(Hr,{className:"h-4 w-4"}),i.createElement("span",null,"End Video Chat")))),i.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},i.createElement("div",{className:"space-y-4"},i.createElement("div",{className:"flex items-center justify-between"},i.createElement("h4",{className:"font-medium text-gray-900"},"Your Video"),i.createElement("div",{className:"flex items-center space-x-2 text-sm text-gray-600"},i.createElement("div",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),i.createElement("span",null,"Live"))),i.createElement("div",{className:"simple-camera-preview"},o.isVideoCallActive&&g?i.createElement(i.Fragment,null,i.createElement("video",{ref:A,autoPlay:!0,muted:!0,playsInline:!0,className:"simple-camera-video"}),i.createElement("div",{className:"absolute top-3 left-3 bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm font-medium"},i.createElement("div",{className:"flex items-center space-x-2"},i.createElement("div",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),i.createElement("span",null,"You"))),i.createElement("div",{className:"absolute top-3 right-3 bg-green-600 text-white px-3 py-1 rounded-full text-sm flex items-center space-x-1"},i.createElement(Yt,{className:"h-3 w-3"}),i.createElement("span",null,"E2EE")),v&&i.createElement("div",{className:"absolute bottom-3 left-3 bg-black bg-opacity-70 text-white px-2 py-1 rounded text-xs flex items-center space-x-1"},i.createElement("span",null,v.name),v.attestationHash&&i.createElement(Yt,{className:"h-3 w-3 text-green-400"}))):i.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 bg-gray-900"},i.createElement(sr,{className:"h-16 w-16 mb-4 text-gray-500"}),i.createElement("p",{className:"text-center font-medium text-lg text-gray-300"},"Your Camera"),i.createElement("p",{className:"text-sm text-center mt-2 text-gray-500"},o.isVideoCallActive?"Camera disabled":"Connecting...")))),i.createElement("div",{className:"space-y-4"},i.createElement("div",{className:"flex items-center justify-between"},i.createElement("h4",{className:"font-medium text-gray-900"},"Partner Video"),i.createElement("div",{className:"flex items-center space-x-2 text-sm text-gray-600"},i.createElement("div",{className:`w-2 h-2 rounded-full ${U==="connected"?"bg-blue-400 animate-pulse":"bg-gray-400"}`}),i.createElement("span",null,U==="connected"?"Connected":"Connecting..."))),i.createElement("div",{className:"simple-camera-preview"},o.remoteStream&&U==="connected"?i.createElement(i.Fragment,null,i.createElement("video",{ref:q,autoPlay:!0,playsInline:!0,className:"simple-camera-video"}),i.createElement("div",{className:"absolute top-3 left-3 bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm font-medium"},i.createElement("div",{className:"flex items-center space-x-2"},i.createElement("div",{className:"w-2 h-2 rounded-full bg-blue-400 animate-pulse"}),i.createElement("span",null,"Partner"))),i.createElement("div",{className:"absolute top-3 right-3 bg-green-600 text-white px-3 py-1 rounded-full text-sm flex items-center space-x-1"},i.createElement(Yt,{className:"h-3 w-3"}),i.createElement("span",null,"E2EE"))):i.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 bg-gray-800"},U==="connecting"?i.createElement(i.Fragment,null,i.createElement(Tb,{className:"h-16 w-16 mb-4 text-gray-500 animate-spin"}),i.createElement("p",{className:"text-center font-medium text-lg text-gray-300"},"Connecting to Partner"),i.createElement("p",{className:"text-sm text-center mt-2 text-gray-500"},"Establishing live video connection...")):U==="failed"?i.createElement(i.Fragment,null,i.createElement(Hr,{className:"h-16 w-16 mb-4 text-red-500"}),i.createElement("p",{className:"text-center font-medium text-lg text-gray-300"},"Connection Failed"),i.createElement("p",{className:"text-sm text-center mt-2 text-gray-500"},"Unable to establish video connection")):i.createElement(i.Fragment,null,i.createElement(Sa,{className:"h-16 w-16 mb-4 text-gray-500"}),i.createElement("p",{className:"text-center font-medium text-lg text-gray-300"},"Partner Camera"),i.createElement("p",{className:"text-sm text-center mt-2 text-gray-500"},"Waiting for partner video...")))))),i.createElement("div",{className:"flex justify-center space-x-4 mt-6"},i.createElement("button",{onClick:GE,disabled:!o.isVideoCallActive,className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-colors disabled:opacity-50 ${g?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`},g?i.createElement(sr,{className:"h-5 w-5"}):i.createElement(kE,{className:"h-5 w-5"}),i.createElement("span",null,g?"Camera On":"Camera Off")),i.createElement("button",{onClick:KE,disabled:!o.isVideoCallActive,className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-colors disabled:opacity-50 ${u?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`},u?i.createElement(zE,{className:"h-5 w-5"}):i.createElement(DE,{className:"h-5 w-5"}),i.createElement("span",null,u?"Mic On":"Mic Off"))),v&&i.createElement("div",{className:"mt-6 bg-blue-50 rounded-lg p-4"},i.createElement("h4",{className:"font-medium text-blue-900 mb-2"},"Live Video Session Details"),i.createElement("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 text-sm"},i.createElement("div",null,i.createElement("p",{className:"text-blue-700"},"Duration"),i.createElement("p",{className:"font-medium text-blue-900"},yd(m))),i.createElement("div",null,i.createElement("p",{className:"text-blue-700"},"Provider"),i.createElement("p",{className:"font-medium text-blue-900"},v.name)),i.createElement("div",null,i.createElement("p",{className:"text-blue-700"},"Cost Rate"),i.createElement("p",{className:"font-medium text-blue-900"},"0.20 TURNX/min")),i.createElement("div",null,i.createElement("p",{className:"text-blue-700"},"Session Cost"),i.createElement("p",{className:"font-medium text-red-600"},T.toFixed(4)," TURNX")),i.createElement("div",null,i.createElement("p",{className:"text-blue-700"},"Connection"),i.createElement("div",{className:`flex items-center space-x-1 ${Iy()}`},Qy(),i.createElement("span",{className:"font-medium capitalize"},U))),i.createElement("div",null,i.createElement("p",{className:"text-blue-700"},"Attestation"),i.createElement("div",{className:"flex items-center space-x-1"},v.attestationHash?i.createElement(i.Fragment,null,i.createElement(Yt,{className:"h-3 w-3 text-green-600"}),i.createElement("span",{className:"font-medium text-green-700"},"Verified")):i.createElement("span",{className:"font-medium text-red-700"},"Not Available"))))))),i.createElement("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4"},i.createElement("div",{className:"flex items-start space-x-3"},i.createElement(Yt,{className:"h-5 w-5 text-purple-600 mt-0.5"}),i.createElement("div",{className:"flex-1"},i.createElement("h3",{className:"font-medium text-purple-900"},"Privacy & Safety in Random Video Chat"),i.createElement("p",{className:"text-purple-800 text-sm mt-1"},"Random video chats are completely anonymous and private. Your identity is not revealed to your chat partner. All video and audio streams are end-to-end encrypted through verified TURN providers with live video transmission. You can end or skip to the next video chat at any time. Each session creates a secure 1-on-1 room with automatic cleanup.")))),i.createElement("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 border border-blue-200 rounded-xl p-4"},i.createElement("div",{className:"flex items-start space-x-3"},i.createElement(Mf,{className:"h-5 w-5 text-blue-600 mt-0.5"}),i.createElement("div",{className:"flex-1"},i.createElement("h3",{className:"font-medium text-blue-900"},"Tips for Great Random Video Chats"),i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2 text-sm text-blue-800"},i.createElement("div",null,i.createElement("p",{className:"font-medium"}," Be respectful and friendly on video"),i.createElement("p",{className:"font-medium"}," Ensure good lighting for video quality"),i.createElement("p",{className:"font-medium"}," Use clear audio for better communication")),i.createElement("div",null,i.createElement("p",{className:"font-medium"}," Skip if you feel uncomfortable"),i.createElement("p",{className:"font-medium"}," Report inappropriate video behavior"),i.createElement("p",{className:"font-medium"}," Enjoy meeting people through live video")))))))}function z_(){const[e,t]=G.useState("overview"),[n,a]=G.useState(null),r=(f,g)=>{navigator.clipboard.writeText(f).then(()=>{a(g),setTimeout(()=>a(null),2e3)})},s=[{id:"overview",label:"Platform Overview",icon:W0},{id:"users",label:"User Guide",icon:Sa},{id:"providers",label:"TURN Providers",icon:kr},{id:"developers",label:"Developer Guide",icon:Tm}],l=`// Rust Attestation Agent Example
use std::time::{Duration, SystemTime, UNIX_EPOCH};
use serde::{Deserialize, Serialize};
use tokio::time::interval;

#[derive(Serialize, Deserialize)]
struct AttestationReport {
    provider_id: String,
    timestamp: u64,
    turn_server_status: String,
    security_metrics: SecurityMetrics,
    signature: String,
}

#[derive(Serialize, Deserialize)]
struct SecurityMetrics {
    uptime_percentage: f64,
    data_integrity_score: u8,
    encryption_compliance: bool,
    traffic_volume: u64,
}

async fn run_attestation_agent(provider_id: String) -> Result<(), Box<dyn std::error::Error>> {
    let mut interval = interval(Duration::from_secs(60)); // Report every minute
    
    loop {
        interval.tick().await;
        
        // Monitor TURN server operations
        let metrics = collect_security_metrics().await?;
        
        // Generate attestation report
        let report = AttestationReport {
            provider_id: provider_id.clone(),
            timestamp: SystemTime::now().duration_since(UNIX_EPOCH)?.as_secs(),
            turn_server_status: check_turn_server_status().await?,
            security_metrics: metrics,
            signature: generate_cryptographic_signature(&metrics).await?,
        };
        
        // Submit to coordination canister
        submit_attestation_report(report).await?;
    }
}

async fn collect_security_metrics() -> Result<SecurityMetrics, Box<dyn std::error::Error>> {
    // Implementation for collecting security metrics
    Ok(SecurityMetrics {
        uptime_percentage: 99.9,
        data_integrity_score: 100,
        encryption_compliance: true,
        traffic_volume: get_traffic_volume().await?,
    })
}`,c=`#!/bin/bash
# TURN Provider Setup Script

# 1. Install Rust and dependencies
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
source ~/.cargo/env

# 2. Clone attestation agent
git clone https://github.com/turnx-network/attestation-agent.git
cd attestation-agent

# 3. Configure environment
cp .env.example .env
# Edit .env with your provider details:
# PROVIDER_ID=your_provider_id
# TURN_SERVER_URL=your_turn_server_url
# PRIVATE_KEY_PATH=path_to_your_private_key
# CANISTER_ID=coordination_canister_id

# 4. Build and run
cargo build --release
./target/release/attestation-agent --config .env

# 5. Register with coordination canister
dfx canister call coordination_canister registerTurnProvider \\
  '("provider_001", "My TURN Provider", "turn:myserver.com:3478", \\
    "public_key_here", opt "attestation_hash", 1000, "US-East")'`,o=`// WebRTC Integration Example
const configuration = {
  iceServers: [
    {
      urls: 'turn:turnx-provider.com:3478',
      username: 'generated_username',
      credential: 'hmac_credential'
    }
  ],
  iceTransportPolicy: 'relay' // Force TURN relay for privacy
};

const peerConnection = new RTCPeerConnection(configuration);

// Enable DTLS-SRTP encryption
peerConnection.addEventListener('connectionstatechange', () => {
  if (peerConnection.connectionState === 'connected') {
    console.log('E2EE connection established via TURN relay');
  }
});`;return i.createElement("div",{className:"space-y-6"},i.createElement("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6"},i.createElement("div",{className:"flex items-center space-x-4"},i.createElement("div",{className:"bg-blue-100 rounded-full p-3"},i.createElement(W0,{className:"h-8 w-8 text-blue-600"})),i.createElement("div",null,i.createElement("h2",{className:"text-2xl font-bold text-blue-900"},"$TURNX Network Documentation"),i.createElement("p",{className:"text-blue-800"},"Comprehensive guide to privacy-preserving WebRTC coordination with attestation-based TURN providers")))),i.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},i.createElement("div",{className:"border-b"},i.createElement("nav",{className:"flex space-x-1 p-4"},s.map(f=>{const g=f.icon;return i.createElement("button",{key:f.id,onClick:()=>t(f.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${e===f.id?"bg-blue-100 text-blue-700 border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`},i.createElement(g,{className:"h-4 w-4"}),i.createElement("span",null,f.label))}))),i.createElement("div",{className:"p-6"},e==="overview"&&i.createElement("div",{className:"space-y-8"},i.createElement("div",null,i.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"Platform Architecture"),i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},i.createElement("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200"},i.createElement("div",{className:"flex items-center space-x-3 mb-4"},i.createElement(Yt,{className:"h-8 w-8 text-green-600"}),i.createElement("h4",{className:"font-semibold text-green-900"},"Privacy-First Design")),i.createElement("ul",{className:"space-y-2 text-sm text-green-800"},i.createElement("li",null," End-to-end DTLS-SRTP encryption"),i.createElement("li",null," ICE relay-only configuration"),i.createElement("li",null," No personal data storage"),i.createElement("li",null," Anonymous session tracking"))),i.createElement("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200"},i.createElement("div",{className:"flex items-center space-x-3 mb-4"},i.createElement(kr,{className:"h-8 w-8 text-blue-600"}),i.createElement("h4",{className:"font-semibold text-blue-900"},"Attestation System")),i.createElement("ul",{className:"space-y-2 text-sm text-blue-800"},i.createElement("li",null," Rust-based attestation agents"),i.createElement("li",null," Continuous security monitoring"),i.createElement("li",null," Cryptographic proof of compliance"),i.createElement("li",null," Real-time status reporting"))),i.createElement("div",{className:"bg-purple-50 rounded-lg p-6 border border-purple-200"},i.createElement("div",{className:"flex items-center space-x-3 mb-4"},i.createElement(Bf,{className:"h-8 w-8 text-purple-600"}),i.createElement("h4",{className:"font-semibold text-purple-900"},"$TURNX Economy")),i.createElement("ul",{className:"space-y-2 text-sm text-purple-800"},i.createElement("li",null," Per-minute billing system"),i.createElement("li",null," 90% provider earnings"),i.createElement("li",null," 10% protocol treasury"),i.createElement("li",null," Transparent fee distribution"))))),i.createElement("div",null,i.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"Key Features"),i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},i.createElement("div",{className:"space-y-4"},i.createElement("div",{className:"flex items-start space-x-3"},i.createElement(Sa,{className:"h-5 w-5 text-blue-600 mt-1"}),i.createElement("div",null,i.createElement("h4",{className:"font-medium text-gray-900"},"Multi-Participant Rooms"),i.createElement("p",{className:"text-sm text-gray-600"},"Support for up to 50 participants with scalable WebRTC mesh networking"))),i.createElement("div",{className:"flex items-start space-x-3"},i.createElement(hc,{className:"h-5 w-5 text-green-600 mt-1"}),i.createElement("div",null,i.createElement("h4",{className:"font-medium text-gray-900"},"Random Video Chat"),i.createElement("p",{className:"text-sm text-gray-600"},"Anonymous one-on-one matching with privacy-preserving pairing"))),i.createElement("div",{className:"flex items-start space-x-3"},i.createElement(eh,{className:"h-5 w-5 text-purple-600 mt-1"}),i.createElement("div",null,i.createElement("h4",{className:"font-medium text-gray-900"},"User Connections"),i.createElement("p",{className:"text-sm text-gray-600"},"Private connection management with request/approval system")))),i.createElement("div",{className:"space-y-4"},i.createElement("div",{className:"flex items-start space-x-3"},i.createElement(Qc,{className:"h-5 w-5 text-orange-600 mt-1"}),i.createElement("div",null,i.createElement("h4",{className:"font-medium text-gray-900"},"DAO Governance"),i.createElement("p",{className:"text-sm text-gray-600"},"Decentralized protocol parameter management and treasury control"))),i.createElement("div",{className:"flex items-start space-x-3"},i.createElement(Mf,{className:"h-5 w-5 text-yellow-600 mt-1"}),i.createElement("div",null,i.createElement("h4",{className:"font-medium text-gray-900"},"Provider Reputation"),i.createElement("p",{className:"text-sm text-gray-600"},"Performance-based scoring with staking and slashing mechanisms"))),i.createElement("div",{className:"flex items-start space-x-3"},i.createElement(rr,{className:"h-5 w-5 text-teal-600 mt-1"}),i.createElement("div",null,i.createElement("h4",{className:"font-medium text-gray-900"},"Transparent Billing"),i.createElement("p",{className:"text-sm text-gray-600"},"Real-time cost tracking with detailed session records"))))))),e==="users"&&i.createElement("div",{className:"space-y-8"},i.createElement("div",null,i.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"Getting Started"),i.createElement("div",{className:"space-y-6"},i.createElement("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200"},i.createElement("h4",{className:"font-semibold text-blue-900 mb-3"},"1. Authentication & Profile Setup"),i.createElement("div",{className:"space-y-3 text-sm text-blue-800"},i.createElement("p",null," Connect using Internet Identity for secure, privacy-preserving authentication"),i.createElement("p",null," Set up your profile with a display name (no personal information required)"),i.createElement("p",null," Wait for admin approval to access full platform features"),i.createElement("p",null," Your Principal ID serves as your unique, anonymous identifier"))),i.createElement("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200"},i.createElement("h4",{className:"font-semibold text-green-900 mb-3"},"2. WebRTC Communication"),i.createElement("div",{className:"space-y-3 text-sm text-green-800"},i.createElement("p",null," Create rooms supporting up to 50 participants with integrated chat"),i.createElement("p",null," Join rooms using room codes or shareable links"),i.createElement("p",null," All communications are end-to-end encrypted using DTLS-SRTP"),i.createElement("p",null," TURN providers relay encrypted data without access to content"))),i.createElement("div",{className:"bg-purple-50 rounded-lg p-6 border border-purple-200"},i.createElement("h4",{className:"font-semibold text-purple-900 mb-3"},"3. $TURNX Token Management"),i.createElement("div",{className:"space-y-3 text-sm text-purple-800"},i.createElement("p",null," Monitor your $TURNX balance in real-time during sessions"),i.createElement("p",null," Pay per-minute rates (typically 0.20 TURNX/min) for TURN relay usage"),i.createElement("p",null," View detailed billing records and session history"),i.createElement("p",null," Top up your balance to continue using the service"))))),i.createElement("div",null,i.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"Advanced Features"),i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},i.createElement("div",{className:"bg-white border rounded-lg p-6"},i.createElement("div",{className:"flex items-center space-x-3 mb-4"},i.createElement(Sa,{className:"h-6 w-6 text-blue-600"}),i.createElement("h4",{className:"font-semibold text-gray-900"},"Connection Management")),i.createElement("ul",{className:"space-y-2 text-sm text-gray-700"},i.createElement("li",null," Send connection requests to other users"),i.createElement("li",null," Accept or reject incoming requests"),i.createElement("li",null," Manage your network of connected users"),i.createElement("li",null," Start private video calls with connections"))),i.createElement("div",{className:"bg-white border rounded-lg p-6"},i.createElement("div",{className:"flex items-center space-x-3 mb-4"},i.createElement(hc,{className:"h-6 w-6 text-green-600"}),i.createElement("h4",{className:"font-semibold text-gray-900"},"Random Video Chat")),i.createElement("ul",{className:"space-y-2 text-sm text-gray-700"},i.createElement("li",null," Anonymous matching with random users"),i.createElement("li",null," One-on-one encrypted video conversations"),i.createElement("li",null," Skip to next partner anytime"),i.createElement("li",null," Complete privacy protection"))))),i.createElement("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6"},i.createElement("div",{className:"flex items-start space-x-3"},i.createElement(Qn,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),i.createElement("div",null,i.createElement("h4",{className:"font-medium text-yellow-900"},"Privacy & Security Best Practices"),i.createElement("ul",{className:"mt-2 space-y-1 text-sm text-yellow-800"},i.createElement("li",null," Never share personal information during video calls"),i.createElement("li",null," Use the platform's built-in features for communication"),i.createElement("li",null," Report inappropriate behavior to administrators"),i.createElement("li",null," Verify TURN provider attestation status for maximum security"),i.createElement("li",null," Monitor your session costs and balance regularly")))))),e==="providers"&&i.createElement("div",{className:"space-y-8"},i.createElement("div",null,i.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"Rust Attestation Agent Requirements"),i.createElement("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6"},i.createElement("div",{className:"flex items-start space-x-3"},i.createElement(Qn,{className:"h-5 w-5 text-red-600 mt-0.5"}),i.createElement("div",null,i.createElement("h4",{className:"font-medium text-red-900"},"Mandatory Requirement"),i.createElement("p",{className:"text-sm text-red-800 mt-1"},"All TURN providers MUST deploy and maintain a Rust-based attestation agent. Failure to do so will result in provider suspension and potential stake slashing.")))),i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},i.createElement("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200"},i.createElement("div",{className:"flex items-center space-x-3 mb-4"},i.createElement(eh,{className:"h-6 w-6 text-blue-600"}),i.createElement("h4",{className:"font-semibold text-blue-900"},"Security Monitoring")),i.createElement("ul",{className:"space-y-2 text-sm text-blue-800"},i.createElement("li",null," Continuous TURN server operation monitoring"),i.createElement("li",null," Data integrity and encryption compliance checks"),i.createElement("li",null," Traffic volume and pattern analysis"),i.createElement("li",null," Uptime and performance metrics collection"))),i.createElement("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200"},i.createElement("div",{className:"flex items-center space-x-3 mb-4"},i.createElement(Qc,{className:"h-6 w-6 text-green-600"}),i.createElement("h4",{className:"font-semibold text-green-900"},"Transparency Features")),i.createElement("ul",{className:"space-y-2 text-sm text-green-800"},i.createElement("li",null," Real-time attestation status reporting"),i.createElement("li",null," Cryptographic proof of secure operations"),i.createElement("li",null," Public verification of compliance status"),i.createElement("li",null," Automated canister integration"))))),i.createElement("div",null,i.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"Setup Instructions"),i.createElement("div",{className:"space-y-6"},i.createElement("div",{className:"bg-gray-50 rounded-lg p-6 border"},i.createElement("div",{className:"flex items-center justify-between mb-4"},i.createElement("h4",{className:"font-semibold text-gray-900"},"1. Automated Setup Script"),i.createElement("button",{onClick:()=>r(c,"setup-script"),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700"},n==="setup-script"?i.createElement(rr,{className:"h-4 w-4"}):i.createElement(_u,{className:"h-4 w-4"}),i.createElement("span",{className:"text-sm"},n==="setup-script"?"Copied!":"Copy"))),i.createElement("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg text-xs overflow-x-auto"},i.createElement("code",null,c))),i.createElement("div",{className:"bg-gray-50 rounded-lg p-6 border"},i.createElement("div",{className:"flex items-center justify-between mb-4"},i.createElement("h4",{className:"font-semibold text-gray-900"},"2. Attestation Agent Implementation"),i.createElement("button",{onClick:()=>r(l,"rust-code"),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700"},n==="rust-code"?i.createElement(rr,{className:"h-4 w-4"}):i.createElement(_u,{className:"h-4 w-4"}),i.createElement("span",{className:"text-sm"},n==="rust-code"?"Copied!":"Copy"))),i.createElement("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg text-xs overflow-x-auto"},i.createElement("code",null,l))))),i.createElement("div",null,i.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"Provider Requirements"),i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},i.createElement("div",{className:"bg-white border rounded-lg p-6"},i.createElement("div",{className:"flex items-center space-x-3 mb-4"},i.createElement(kr,{className:"h-6 w-6 text-purple-600"}),i.createElement("h4",{className:"font-semibold text-gray-900"},"Technical")),i.createElement("ul",{className:"space-y-2 text-sm text-gray-700"},i.createElement("li",null," Rust 1.70+ installed"),i.createElement("li",null," TURN server (coturn recommended)"),i.createElement("li",null," SSL/TLS certificates"),i.createElement("li",null," 24/7 uptime requirement"),i.createElement("li",null," Minimum 1Gbps bandwidth"))),i.createElement("div",{className:"bg-white border rounded-lg p-6"},i.createElement("div",{className:"flex items-center space-x-3 mb-4"},i.createElement(Bf,{className:"h-6 w-6 text-yellow-600"}),i.createElement("h4",{className:"font-semibold text-gray-900"},"Economic")),i.createElement("ul",{className:"space-y-2 text-sm text-gray-700"},i.createElement("li",null," Minimum 500 TURNX stake"),i.createElement("li",null," Earn 90% of session fees"),i.createElement("li",null," Performance-based reputation"),i.createElement("li",null," Slashing for non-compliance"),i.createElement("li",null," Monthly earnings reports"))),i.createElement("div",{className:"bg-white border rounded-lg p-6"},i.createElement("div",{className:"flex items-center space-x-3 mb-4"},i.createElement(Yt,{className:"h-6 w-6 text-green-600"}),i.createElement("h4",{className:"font-semibold text-gray-900"},"Security")),i.createElement("ul",{className:"space-y-2 text-sm text-gray-700"},i.createElement("li",null," Attestation agent deployment"),i.createElement("li",null," Cryptographic key management"),i.createElement("li",null," Regular security audits"),i.createElement("li",null," Compliance monitoring"),i.createElement("li",null," Incident response procedures"))))),i.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6"},i.createElement("div",{className:"flex items-start space-x-3"},i.createElement(SS,{className:"h-5 w-5 text-blue-600 mt-0.5"}),i.createElement("div",null,i.createElement("h4",{className:"font-medium text-blue-900"},"Resources & Support"),i.createElement("div",{className:"mt-3 space-y-2"},i.createElement("a",{href:"#",className:"flex items-center space-x-2 text-sm text-blue-700 hover:text-blue-800"},i.createElement(_b,{className:"h-3 w-3"}),i.createElement("span",null,"Download Attestation Agent Template")),i.createElement("a",{href:"#",className:"flex items-center space-x-2 text-sm text-blue-700 hover:text-blue-800"},i.createElement(Cf,{className:"h-3 w-3"}),i.createElement("span",null,"Technical Specification Document")),i.createElement("a",{href:"#",className:"flex items-center space-x-2 text-sm text-blue-700 hover:text-blue-800"},i.createElement(Ob,{className:"h-3 w-3"}),i.createElement("span",null,"Provider Setup Troubleshooting Guide"))))))),e==="developers"&&i.createElement("div",{className:"space-y-8"},i.createElement("div",null,i.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"WebRTC Integration"),i.createElement("div",{className:"bg-gray-50 rounded-lg p-6 border"},i.createElement("div",{className:"flex items-center justify-between mb-4"},i.createElement("h4",{className:"font-semibold text-gray-900"},"Privacy-First WebRTC Configuration"),i.createElement("button",{onClick:()=>r(o,"webrtc-code"),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700"},n==="webrtc-code"?i.createElement(rr,{className:"h-4 w-4"}):i.createElement(_u,{className:"h-4 w-4"}),i.createElement("span",{className:"text-sm"},n==="webrtc-code"?"Copied!":"Copy"))),i.createElement("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg text-xs overflow-x-auto"},i.createElement("code",null,o)))),i.createElement("div",null,i.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"API Integration"),i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},i.createElement("div",{className:"bg-white border rounded-lg p-6"},i.createElement("h4",{className:"font-semibold text-gray-900 mb-4"},"Canister Methods"),i.createElement("div",{className:"space-y-3 text-sm"},i.createElement("div",{className:"bg-gray-50 p-3 rounded"},i.createElement("code",{className:"text-blue-600"},"createRoom(name, maxParticipants)"),i.createElement("p",{className:"text-gray-600 mt-1"},"Create a new room with up to 50 participants")),i.createElement("div",{className:"bg-gray-50 p-3 rounded"},i.createElement("code",{className:"text-blue-600"},"logTurnServerUsage(serverUrl, sessionId)"),i.createElement("p",{className:"text-gray-600 mt-1"},"Log TURN server usage for billing")),i.createElement("div",{className:"bg-gray-50 p-3 rounded"},i.createElement("code",{className:"text-blue-600"},"recordBilling(sessionId, providerId, ...)"),i.createElement("p",{className:"text-gray-600 mt-1"},"Record session billing information")))),i.createElement("div",{className:"bg-white border rounded-lg p-6"},i.createElement("h4",{className:"font-semibold text-gray-900 mb-4"},"Authentication Flow"),i.createElement("div",{className:"space-y-3 text-sm"},i.createElement("div",{className:"flex items-center space-x-2"},i.createElement("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-xs font-medium text-blue-600"},"1"),i.createElement("span",null,"Internet Identity authentication")),i.createElement("div",{className:"flex items-center space-x-2"},i.createElement("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-xs font-medium text-blue-600"},"2"),i.createElement("span",null,"Principal ID extraction")),i.createElement("div",{className:"flex items-center space-x-2"},i.createElement("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-xs font-medium text-blue-600"},"3"),i.createElement("span",null,"User profile setup")),i.createElement("div",{className:"flex items-center space-x-2"},i.createElement("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-xs font-medium text-blue-600"},"4"),i.createElement("span",null,"Admin approval process")))))),i.createElement("div",null,i.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"Security Considerations"),i.createElement("div",{className:"space-y-4"},i.createElement("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6"},i.createElement("div",{className:"flex items-start space-x-3"},i.createElement(Qn,{className:"h-5 w-5 text-red-600 mt-0.5"}),i.createElement("div",null,i.createElement("h4",{className:"font-medium text-red-900"},"Critical Security Requirements"),i.createElement("ul",{className:"mt-2 space-y-1 text-sm text-red-800"},i.createElement("li",null," Always use iceTransportPolicy: 'relay' to force TURN usage"),i.createElement("li",null," Verify TURN provider attestation status before connection"),i.createElement("li",null," Implement proper credential refresh mechanisms"),i.createElement("li",null," Never store or log personal user information"),i.createElement("li",null," Use HTTPS/WSS for all signaling communications"))))),i.createElement("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6"},i.createElement("div",{className:"flex items-start space-x-3"},i.createElement(rr,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.createElement("div",null,i.createElement("h4",{className:"font-medium text-green-900"},"Best Practices"),i.createElement("ul",{className:"mt-2 space-y-1 text-sm text-green-800"},i.createElement("li",null," Implement automatic credential refresh before expiry"),i.createElement("li",null," Monitor connection quality and switch providers if needed"),i.createElement("li",null," Use React Query for efficient state management"),i.createElement("li",null," Implement proper error handling for network failures"),i.createElement("li",null," Provide clear user feedback for connection status"))))))),i.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6"},i.createElement("div",{className:"flex items-start space-x-3"},i.createElement(Tm,{className:"h-5 w-5 text-blue-600 mt-0.5"}),i.createElement("div",null,i.createElement("h4",{className:"font-medium text-blue-900"},"Development Resources"),i.createElement("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-4"},i.createElement("div",{className:"space-y-2"},i.createElement("a",{href:"#",className:"flex items-center space-x-2 text-sm text-blue-700 hover:text-blue-800"},i.createElement(_b,{className:"h-3 w-3"}),i.createElement("span",null,"GitHub Repository")),i.createElement("a",{href:"#",className:"flex items-center space-x-2 text-sm text-blue-700 hover:text-blue-800"},i.createElement(Cf,{className:"h-3 w-3"}),i.createElement("span",null,"API Documentation")),i.createElement("a",{href:"#",className:"flex items-center space-x-2 text-sm text-blue-700 hover:text-blue-800"},i.createElement(ZS,{className:"h-3 w-3"}),i.createElement("span",null,"Video Tutorials"))),i.createElement("div",{className:"space-y-2"},i.createElement("a",{href:"#",className:"flex items-center space-x-2 text-sm text-blue-700 hover:text-blue-800"},i.createElement(Ob,{className:"h-3 w-3"}),i.createElement("span",null,"CLI Tools")),i.createElement("a",{href:"#",className:"flex items-center space-x-2 text-sm text-blue-700 hover:text-blue-800"},i.createElement(Tm,{className:"h-3 w-3"}),i.createElement("span",null,"SDK Downloads")),i.createElement("a",{href:"#",className:"flex items-center space-x-2 text-sm text-blue-700 hover:text-blue-800"},i.createElement(Sa,{className:"h-3 w-3"}),i.createElement("span",null,"Developer Community")))))))))))}function j_(){const[e,t]=G.useState("proposals"),[n,a]=G.useState(null),[r,s]=G.useState(!1),[l,c]=G.useState({title:"",description:"",type:"fee_adjustment",details:{}}),[o]=G.useState([{id:"prop_001",title:"Reduce TURN Provider Fee Rate to 0.15 TURNX/min",description:"Proposal to reduce the per-minute fee rate from 0.20 to 0.15 TURNX to increase platform adoption and competitiveness.",type:"fee_adjustment",status:"active",votesFor:1250,votesAgainst:340,totalVotes:1590,quorumRequired:2e3,endTime:new Date(Date.now()+5*24*60*60*1e3),proposer:"rdmx6-jaaaa-aaaah-qcaiq-cai",executionDelay:48,details:{currentRate:.2,proposedRate:.15,estimatedImpact:"Increase in user adoption by ~25%"}},{id:"prop_002",title:"Approve New TURN Provider: CloudRelay Networks",description:"Proposal to approve CloudRelay Networks as a verified TURN provider with proper attestation agent deployment.",type:"provider_approval",status:"active",votesFor:890,votesAgainst:120,totalVotes:1010,quorumRequired:1500,endTime:new Date(Date.now()+3*24*60*60*1e3),proposer:"rrkah-fqaaa-aaaah-qcaiq-cai",executionDelay:24,details:{providerName:"CloudRelay Networks",stakeAmount:2500,location:"EU-West",attestationStatus:"verified"}},{id:"prop_003",title:"Allocate 50,000 TURNX for Marketing Campaign",description:"Proposal to allocate treasury funds for a comprehensive marketing campaign to increase platform awareness.",type:"treasury_allocation",status:"passed",votesFor:2100,votesAgainst:450,totalVotes:2550,quorumRequired:2e3,endTime:new Date(Date.now()-2*24*60*60*1e3),proposer:"ryjl3-tyaaa-aaaah-qcaiq-cai",executionDelay:72,details:{amount:5e4,purpose:"Marketing Campaign",duration:"6 months"}}]),[f]=G.useState({totalBalance:125750.5,monthlyInflow:8420.25,monthlyOutflow:3200,totalProposals:15,activeProposals:3,passedProposals:8,rejectedProposals:4}),[g]=G.useState(450),h=(y,b)=>{console.log(`Voting ${b} on proposal ${y} with ${g} voting power`)},u=y=>{y.preventDefault(),console.log("Creating proposal:",l),s(!1),c({title:"",description:"",type:"fee_adjustment",details:{}})},d=y=>{switch(y){case"active":return"bg-blue-100 text-blue-800";case"passed":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"executed":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},m=y=>{switch(y){case"fee_adjustment":return i.createElement(Vy,{className:"h-4 w-4"});case"provider_approval":return i.createElement(Yt,{className:"h-4 w-4"});case"treasury_allocation":return i.createElement(Am,{className:"h-4 w-4"});case"protocol_upgrade":return i.createElement(t_,{className:"h-4 w-4"});default:return i.createElement(Cf,{className:"h-4 w-4"})}},S=y=>Math.min(y.totalVotes/y.quorumRequired*100,100),v=y=>y.totalVotes===0?0:y.votesFor/y.totalVotes*100,p=[{id:"proposals",label:"Active Proposals",count:o.filter(y=>y.status==="active").length},{id:"treasury",label:"Treasury",count:null},{id:"create",label:"Create Proposal",count:null},{id:"history",label:"History",count:o.filter(y=>y.status!=="active").length}];return i.createElement("div",{className:"space-y-6"},i.createElement("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-xl p-6"},i.createElement("div",{className:"flex items-center justify-between"},i.createElement("div",{className:"flex items-center space-x-4"},i.createElement("div",{className:"bg-purple-100 rounded-full p-3"},i.createElement(th,{className:"h-8 w-8 text-purple-600"})),i.createElement("div",null,i.createElement("h2",{className:"text-2xl font-bold text-purple-900"},"DAO Governance"),i.createElement("p",{className:"text-purple-800"},"Decentralized protocol parameter management and treasury control"))),i.createElement("div",{className:"text-right"},i.createElement("div",{className:"bg-white rounded-lg p-4 border border-purple-100"},i.createElement("p",{className:"text-sm text-gray-600"},"Your Voting Power"),i.createElement("p",{className:"text-2xl font-bold text-purple-600"},g.toLocaleString()),i.createElement("p",{className:"text-xs text-gray-500"},"Based on TURNX holdings"))))),i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6"},i.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},i.createElement("div",{className:"flex items-center space-x-3"},i.createElement(Cf,{className:"h-8 w-8 text-blue-600"}),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Total Proposals"),i.createElement("p",{className:"text-2xl font-bold text-gray-900"},f.totalProposals)))),i.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},i.createElement("div",{className:"flex items-center space-x-3"},i.createElement(Aa,{className:"h-8 w-8 text-yellow-600"}),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Active Proposals"),i.createElement("p",{className:"text-2xl font-bold text-gray-900"},f.activeProposals)))),i.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},i.createElement("div",{className:"flex items-center space-x-3"},i.createElement(rr,{className:"h-8 w-8 text-green-600"}),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Passed"),i.createElement("p",{className:"text-2xl font-bold text-gray-900"},f.passedProposals)))),i.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},i.createElement("div",{className:"flex items-center space-x-3"},i.createElement(Am,{className:"h-8 w-8 text-purple-600"}),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Treasury Balance"),i.createElement("p",{className:"text-2xl font-bold text-gray-900"},f.totalBalance.toLocaleString()),i.createElement("p",{className:"text-xs text-gray-500"},"TURNX"))))),i.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},i.createElement("div",{className:"border-b"},i.createElement("nav",{className:"flex space-x-1 p-4"},p.map(y=>i.createElement("button",{key:y.id,onClick:()=>t(y.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${e===y.id?"bg-purple-100 text-purple-700 border border-purple-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`},i.createElement("span",null,y.label),y.count!==null&&i.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e===y.id?"bg-purple-200 text-purple-800":"bg-gray-200 text-gray-700"}`},y.count))))),i.createElement("div",{className:"p-6"},e==="proposals"&&i.createElement("div",{className:"space-y-6"},o.filter(y=>y.status==="active").map(y=>i.createElement("div",{key:y.id,className:"border rounded-lg p-6 hover:shadow-md transition-shadow"},i.createElement("div",{className:"flex items-start justify-between mb-4"},i.createElement("div",{className:"flex-1"},i.createElement("div",{className:"flex items-center space-x-3 mb-2"},i.createElement("div",{className:"bg-gray-100 rounded-full p-2"},m(y.type)),i.createElement("div",null,i.createElement("h3",{className:"font-semibold text-gray-900"},y.title),i.createElement("div",{className:"flex items-center space-x-2 mt-1"},i.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d(y.status)}`},y.status),i.createElement("span",{className:"text-xs text-gray-500"},"by ",y.proposer.slice(0,10),"...")))),i.createElement("p",{className:"text-gray-700 text-sm mb-4"},y.description))),i.createElement("div",{className:"space-y-4 mb-6"},i.createElement("div",null,i.createElement("div",{className:"flex justify-between text-sm mb-2"},i.createElement("span",{className:"text-gray-600"},"Approval Rate"),i.createElement("span",{className:"font-medium"},v(y).toFixed(1),"%")),i.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2"},i.createElement("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${v(y)}%`}})),i.createElement("div",{className:"flex justify-between text-xs text-gray-500 mt-1"},i.createElement("span",null,y.votesFor.toLocaleString()," for"),i.createElement("span",null,y.votesAgainst.toLocaleString()," against"))),i.createElement("div",null,i.createElement("div",{className:"flex justify-between text-sm mb-2"},i.createElement("span",{className:"text-gray-600"},"Quorum Progress"),i.createElement("span",{className:"font-medium"},y.totalVotes.toLocaleString()," / ",y.quorumRequired.toLocaleString())),i.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2"},i.createElement("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${S(y)}%`}})))),i.createElement("div",{className:"flex items-center justify-between"},i.createElement("div",{className:"flex items-center space-x-4 text-sm text-gray-600"},i.createElement("div",{className:"flex items-center space-x-1"},i.createElement(Aa,{className:"h-4 w-4"}),i.createElement("span",null,"Ends ",y.endTime.toLocaleDateString())),i.createElement("div",{className:"flex items-center space-x-1"},i.createElement(Qn,{className:"h-4 w-4"}),i.createElement("span",null,y.executionDelay,"h execution delay"))),i.createElement("div",{className:"flex items-center space-x-3"},i.createElement("button",{onClick:()=>a(y),className:"flex items-center space-x-1 px-3 py-1 text-blue-600 hover:text-blue-700 text-sm"},i.createElement(Qc,{className:"h-4 w-4"}),i.createElement("span",null,"Details")),i.createElement("button",{onClick:()=>h(y.id,"against"),className:"flex items-center space-x-1 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm"},i.createElement(o_,{className:"h-4 w-4"}),i.createElement("span",null,"Against")),i.createElement("button",{onClick:()=>h(y.id,"for"),className:"flex items-center space-x-1 px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm"},i.createElement(f_,{className:"h-4 w-4"}),i.createElement("span",null,"For")))))),o.filter(y=>y.status==="active").length===0&&i.createElement("div",{className:"text-center py-12"},i.createElement(th,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.createElement("p",{className:"text-gray-500 text-lg"},"No active proposals"),i.createElement("p",{className:"text-gray-400 text-sm"},"Create a new proposal to get started"))),e==="treasury"&&i.createElement("div",{className:"space-y-6"},i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},i.createElement("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200"},i.createElement("div",{className:"flex items-center space-x-3 mb-4"},i.createElement(jE,{className:"h-8 w-8 text-green-600"}),i.createElement("div",null,i.createElement("p",{className:"text-sm text-green-700"},"Monthly Inflow"),i.createElement("p",{className:"text-2xl font-bold text-green-900"},f.monthlyInflow.toLocaleString()),i.createElement("p",{className:"text-xs text-green-600"},"TURNX"))),i.createElement("p",{className:"text-sm text-green-700"},"From protocol fees (10% of session costs)")),i.createElement("div",{className:"bg-red-50 rounded-lg p-6 border border-red-200"},i.createElement("div",{className:"flex items-center space-x-3 mb-4"},i.createElement(dS,{className:"h-8 w-8 text-red-600"}),i.createElement("div",null,i.createElement("p",{className:"text-sm text-red-700"},"Monthly Outflow"),i.createElement("p",{className:"text-2xl font-bold text-red-900"},f.monthlyOutflow.toLocaleString()),i.createElement("p",{className:"text-xs text-red-600"},"TURNX"))),i.createElement("p",{className:"text-sm text-red-700"},"From approved treasury allocations")),i.createElement("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200"},i.createElement("div",{className:"flex items-center space-x-3 mb-4"},i.createElement(Am,{className:"h-8 w-8 text-blue-600"}),i.createElement("div",null,i.createElement("p",{className:"text-sm text-blue-700"},"Net Growth"),i.createElement("p",{className:"text-2xl font-bold text-blue-900"},"+",(f.monthlyInflow-f.monthlyOutflow).toLocaleString()),i.createElement("p",{className:"text-xs text-blue-600"},"TURNX/month"))),i.createElement("p",{className:"text-sm text-blue-700"},"Sustainable treasury growth"))),i.createElement("div",{className:"bg-white border rounded-lg p-6"},i.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4"},"Treasury Allocation History"),i.createElement("div",{className:"space-y-4"},i.createElement("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},i.createElement("div",null,i.createElement("p",{className:"font-medium text-gray-900"},"Marketing Campaign"),i.createElement("p",{className:"text-sm text-gray-600"},"Approved via Proposal #003")),i.createElement("div",{className:"text-right"},i.createElement("p",{className:"font-medium text-red-600"},"-50,000 TURNX"),i.createElement("p",{className:"text-xs text-gray-500"},"2 days ago"))),i.createElement("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},i.createElement("div",null,i.createElement("p",{className:"font-medium text-gray-900"},"Developer Grants Program"),i.createElement("p",{className:"text-sm text-gray-600"},"Approved via Proposal #001")),i.createElement("div",{className:"text-right"},i.createElement("p",{className:"font-medium text-red-600"},"-25,000 TURNX"),i.createElement("p",{className:"text-xs text-gray-500"},"1 week ago"))),i.createElement("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},i.createElement("div",null,i.createElement("p",{className:"font-medium text-gray-900"},"Security Audit"),i.createElement("p",{className:"text-sm text-gray-600"},"Emergency allocation")),i.createElement("div",{className:"text-right"},i.createElement("p",{className:"font-medium text-red-600"},"-15,000 TURNX"),i.createElement("p",{className:"text-xs text-gray-500"},"2 weeks ago")))))),e==="create"&&i.createElement("div",{className:"max-w-2xl mx-auto"},i.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6"},i.createElement("div",{className:"flex items-start space-x-3"},i.createElement(Qn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),i.createElement("div",null,i.createElement("h3",{className:"font-medium text-blue-900"},"Proposal Requirements"),i.createElement("ul",{className:"mt-2 space-y-1 text-sm text-blue-800"},i.createElement("li",null," Minimum 100 TURNX voting power required to create proposals"),i.createElement("li",null," Proposals require a quorum of 2,000 votes to pass"),i.createElement("li",null," Execution delay varies by proposal type (24-72 hours)"),i.createElement("li",null," Treasury allocations require detailed justification"))))),i.createElement("form",{onSubmit:u,className:"space-y-6"},i.createElement("div",null,i.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Proposal Type"),i.createElement("select",{value:l.type,onChange:y=>c(b=>({...b,type:y.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent"},i.createElement("option",{value:"fee_adjustment"},"Fee Rate Adjustment"),i.createElement("option",{value:"provider_approval"},"TURN Provider Approval"),i.createElement("option",{value:"treasury_allocation"},"Treasury Allocation"),i.createElement("option",{value:"protocol_upgrade"},"Protocol Upgrade"))),i.createElement("div",null,i.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Proposal Title"),i.createElement("input",{type:"text",value:l.title,onChange:y=>c(b=>({...b,title:y.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter a clear, descriptive title...",required:!0})),i.createElement("div",null,i.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Description"),i.createElement("textarea",{value:l.description,onChange:y=>c(b=>({...b,description:y.target.value})),rows:6,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Provide a detailed description of the proposal, including rationale and expected impact...",required:!0})),i.createElement("div",{className:"flex space-x-4"},i.createElement("button",{type:"button",onClick:()=>c({title:"",description:"",type:"fee_adjustment",details:{}}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors"},"Reset"),i.createElement("button",{type:"submit",disabled:g<100,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},"Create Proposal")),g<100&&i.createElement("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},i.createElement("div",{className:"flex items-start space-x-3"},i.createElement(Qn,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),i.createElement("div",null,i.createElement("p",{className:"text-sm text-yellow-800"},"You need at least 100 TURNX voting power to create proposals. Your current voting power is ",g," TURNX.")))))),e==="history"&&i.createElement("div",{className:"space-y-4"},o.filter(y=>y.status!=="active").map(y=>i.createElement("div",{key:y.id,className:"border rounded-lg p-6"},i.createElement("div",{className:"flex items-start justify-between"},i.createElement("div",{className:"flex-1"},i.createElement("div",{className:"flex items-center space-x-3 mb-2"},i.createElement("div",{className:"bg-gray-100 rounded-full p-2"},m(y.type)),i.createElement("div",null,i.createElement("h3",{className:"font-semibold text-gray-900"},y.title),i.createElement("div",{className:"flex items-center space-x-2 mt-1"},i.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d(y.status)}`},y.status),i.createElement("span",{className:"text-xs text-gray-500"},"by ",y.proposer.slice(0,10),"...")))),i.createElement("p",{className:"text-gray-700 text-sm mb-4"},y.description)),i.createElement("div",{className:"text-right text-sm text-gray-600"},i.createElement("p",null,"Final: ",y.votesFor.toLocaleString()," for, ",y.votesAgainst.toLocaleString()," against"),i.createElement("p",null,"Approval: ",v(y).toFixed(1),"%")))))))),n&&i.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},i.createElement("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto"},i.createElement("div",{className:"flex items-center justify-between mb-6"},i.createElement("h3",{className:"text-xl font-semibold text-gray-900"},"Proposal Details"),i.createElement("button",{onClick:()=>a(null),className:"text-gray-400 hover:text-gray-600"},i.createElement(pS,{className:"h-6 w-6"}))),i.createElement("div",{className:"space-y-6"},i.createElement("div",null,i.createElement("h4",{className:"font-medium text-gray-900 mb-2"},n.title),i.createElement("p",{className:"text-gray-700"},n.description)),i.createElement("div",{className:"grid grid-cols-2 gap-4"},i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Proposer"),i.createElement("p",{className:"font-mono text-sm"},n.proposer)),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Type"),i.createElement("p",{className:"font-medium"},n.type.replace("_"," "))),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"End Time"),i.createElement("p",{className:"font-medium"},n.endTime.toLocaleString())),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Execution Delay"),i.createElement("p",{className:"font-medium"},n.executionDelay," hours"))),n.details&&Object.keys(n.details).length>0&&i.createElement("div",null,i.createElement("h4",{className:"font-medium text-gray-900 mb-2"},"Additional Details"),i.createElement("div",{className:"bg-gray-50 rounded-lg p-4"},Object.entries(n.details).map(([y,b])=>i.createElement("div",{key:y,className:"flex justify-between py-1"},i.createElement("span",{className:"text-sm text-gray-600 capitalize"},y.replace(/([A-Z])/g," $1")),i.createElement("span",{className:"text-sm font-medium"},String(b))))))))))}function k_(){const{data:e=[]}=Gy(),t=O_(),[n,a]=G.useState(!1),[r,s]=G.useState(null),[l,c]=G.useState({id:"",name:"",url:"",publicKey:"",attestationHash:"",stakeAmount:"",location:""}),o=v=>{v.preventDefault(),t.mutate({id:l.id,name:l.name,url:l.url,publicKey:l.publicKey,attestationHash:l.attestationHash||null,stakeAmount:BigInt(l.stakeAmount),location:l.location},{onSuccess:()=>{a(!1),c({id:"",name:"",url:"",publicKey:"",attestationHash:"",stakeAmount:"",location:""})}})},f=v=>v.attestationHash?v.isVerified?{status:"verified",color:"text-green-600",bg:"bg-green-100",text:"Verified",icon:rr}:{status:"pending",color:"text-yellow-600",bg:"bg-yellow-100",text:"Pending",icon:Aa}:{status:"missing",color:"text-red-600",bg:"bg-red-100",text:"No Attestation",icon:Qn},g=(v,p)=>v>=p.good?"text-green-600":v>=p.fair?"text-yellow-600":"text-red-600",h=v=>i.createElement("div",{className:"flex items-center space-x-1"},[1,2,3,4,5].map(p=>i.createElement(Mf,{key:p,className:`h-4 w-4 ${p<=v?"text-yellow-400 fill-current":"text-gray-300"}`}))),u=e.filter(v=>v.isVerified&&v.attestationHash);e.filter(v=>!v.isVerified||!v.attestationHash);const d=e.filter(v=>v.isActive),m=e.reduce((v,p)=>v+Number(p.stakeAmount),0),S=e.length>0?e.reduce((v,p)=>v+p.rating,0)/e.length:0;return i.createElement("div",{className:"space-y-6"},i.createElement("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6"},i.createElement("div",{className:"flex items-center justify-between"},i.createElement("div",{className:"flex items-center space-x-4"},i.createElement("div",{className:"bg-blue-100 rounded-full p-3"},i.createElement(kr,{className:"h-8 w-8 text-blue-600"})),i.createElement("div",null,i.createElement("h2",{className:"text-2xl font-bold text-blue-900"},"TURN Provider Network"),i.createElement("p",{className:"text-blue-800"},"Attestation-verified providers with staking and reputation system"))),i.createElement("button",{onClick:()=>a(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"},i.createElement($S,{className:"h-4 w-4"}),i.createElement("span",null,"Register Provider")))),i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6"},i.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},i.createElement("div",{className:"flex items-center space-x-3"},i.createElement(kr,{className:"h-8 w-8 text-blue-600"}),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Total Providers"),i.createElement("p",{className:"text-2xl font-bold text-gray-900"},e.length)))),i.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},i.createElement("div",{className:"flex items-center space-x-3"},i.createElement(Yt,{className:"h-8 w-8 text-green-600"}),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Verified"),i.createElement("p",{className:"text-2xl font-bold text-gray-900"},u.length)))),i.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},i.createElement("div",{className:"flex items-center space-x-3"},i.createElement(oS,{className:"h-8 w-8 text-purple-600"}),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Active"),i.createElement("p",{className:"text-2xl font-bold text-gray-900"},d.length)))),i.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},i.createElement("div",{className:"flex items-center space-x-3"},i.createElement(Vy,{className:"h-8 w-8 text-yellow-600"}),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Total Staked"),i.createElement("p",{className:"text-2xl font-bold text-gray-900"},m.toLocaleString()),i.createElement("p",{className:"text-xs text-gray-500"},"TURNX")))),i.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},i.createElement("div",{className:"flex items-center space-x-3"},i.createElement(Mf,{className:"h-8 w-8 text-orange-600"}),i.createElement("div",null,i.createElement("p",{className:"text-sm text-gray-600"},"Avg Rating"),i.createElement("p",{className:"text-2xl font-bold text-gray-900"},S.toFixed(1)))))),i.createElement("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6"},i.createElement("div",{className:"flex items-start space-x-3"},i.createElement(Qn,{className:"h-6 w-6 text-red-600 mt-0.5"}),i.createElement("div",{className:"flex-1"},i.createElement("h3",{className:"font-semibold text-red-900 mb-2"},"Mandatory Rust Attestation Agent"),i.createElement("p",{className:"text-red-800 mb-4"},"All TURN providers MUST deploy and maintain a Rust-based attestation agent for continuous security monitoring. Failure to maintain attestation will result in provider suspension and potential stake slashing."),i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},i.createElement("div",{className:"bg-white rounded-lg p-4 border border-red-100"},i.createElement("div",{className:"flex items-center space-x-2 mb-2"},i.createElement(eh,{className:"h-4 w-4 text-red-600"}),i.createElement("span",{className:"font-medium text-red-900"},"Security Monitoring")),i.createElement("p",{className:"text-sm text-red-700"},"Continuous TURN server operation and data integrity checks")),i.createElement("div",{className:"bg-white rounded-lg p-4 border border-red-100"},i.createElement("div",{className:"flex items-center space-x-2 mb-2"},i.createElement(Qc,{className:"h-4 w-4 text-red-600"}),i.createElement("span",{className:"font-medium text-red-900"},"Transparency")),i.createElement("p",{className:"text-sm text-red-700"},"Real-time attestation status reporting to coordination canister")),i.createElement("div",{className:"bg-white rounded-lg p-4 border border-red-100"},i.createElement("div",{className:"flex items-center space-x-2 mb-2"},i.createElement(Bf,{className:"h-4 w-4 text-red-600"}),i.createElement("span",{className:"font-medium text-red-900"},"Accountability")),i.createElement("p",{className:"text-sm text-red-700"},"Attestation compliance directly linked to provider rewards")))))),i.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},i.createElement("div",{className:"p-6 border-b"},i.createElement("h3",{className:"text-xl font-semibold text-gray-900"},"Provider Network")),i.createElement("div",{className:"p-6"},e.length===0?i.createElement("div",{className:"text-center py-12"},i.createElement(kr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.createElement("p",{className:"text-gray-500 text-lg"},"No TURN providers registered"),i.createElement("p",{className:"text-gray-400 text-sm"},"Be the first to register a provider with attestation agent")):i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},e.map(v=>{const p=f(v),y=p.icon;return i.createElement("div",{key:v.id,className:`border rounded-lg p-6 transition-all hover:shadow-md ${v.isVerified&&v.attestationHash?"border-green-200 bg-green-50":v.attestationHash?"border-yellow-200 bg-yellow-50":"border-red-200 bg-red-50"}`},i.createElement("div",{className:"flex items-start justify-between mb-4"},i.createElement("div",{className:"flex-1"},i.createElement("div",{className:"flex items-center space-x-2 mb-2"},i.createElement("h4",{className:"font-semibold text-gray-900"},v.name),v.isActive&&i.createElement("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})),i.createElement("p",{className:"text-sm text-gray-600 mb-2"},v.url),i.createElement("div",{className:"flex items-center space-x-2"},i.createElement(qS,{className:"h-3 w-3 text-gray-400"}),i.createElement("span",{className:"text-xs text-gray-500"},v.location))),i.createElement("button",{onClick:()=>s(v),className:"text-blue-600 hover:text-blue-700"},i.createElement(Qc,{className:"h-4 w-4"}))),i.createElement("div",{className:`flex items-center space-x-2 p-3 rounded-lg mb-4 ${p.bg}`},i.createElement(y,{className:`h-4 w-4 ${p.color}`}),i.createElement("span",{className:`text-sm font-medium ${p.color}`},p.text)),i.createElement("div",{className:"space-y-3"},i.createElement("div",{className:"flex justify-between items-center"},i.createElement("span",{className:"text-sm text-gray-600"},"Rating:"),i.createElement("div",{className:"flex items-center space-x-1"},h(v.rating),i.createElement("span",{className:"text-sm font-medium ml-1"},v.rating))),i.createElement("div",{className:"flex justify-between items-center"},i.createElement("span",{className:"text-sm text-gray-600"},"Reputation:"),i.createElement("span",{className:`text-sm font-medium ${g(v.reputation,{good:90,fair:70})}`},v.reputation,"%")),i.createElement("div",{className:"flex justify-between items-center"},i.createElement("span",{className:"text-sm text-gray-600"},"Uptime:"),i.createElement("span",{className:`text-sm font-medium ${g(v.uptime,{good:99,fair:95})}`},v.uptime,"%")),i.createElement("div",{className:"flex justify-between items-center"},i.createElement("span",{className:"text-sm text-gray-600"},"Stake:"),i.createElement("span",{className:"text-sm font-medium"},Number(v.stakeAmount).toLocaleString()," TURNX")),i.createElement("div",{className:"flex justify-between items-center"},i.createElement("span",{className:"text-sm text-gray-600"},"Sessions:"),i.createElement("span",{className:"text-sm font-medium"},Number(v.totalSessions).toLocaleString())),i.createElement("div",{className:"flex justify-between items-center"},i.createElement("span",{className:"text-sm text-gray-600"},"Earnings:"),i.createElement("span",{className:"text-sm font-medium text-green-600"},v.totalEarnings.toFixed(2)," TURNX"))),i.createElement("div",{className:"flex items-center justify-between mt-4 pt-4 border-t"},i.createElement("div",{className:"flex items-center space-x-2"},v.isVerified?i.createElement("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full font-medium"},"Verified"):i.createElement("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded-full font-medium"},"Unverified"),v.isActive?i.createElement("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full font-medium"},"Active"):i.createElement("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded-full font-medium"},"Inactive")),i.createElement("div",{className:"text-xs text-gray-500"},"Security: ",Number(v.securityScore),"/100")))})))),n&&i.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},i.createElement("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto"},i.createElement("div",{className:"flex items-center justify-between mb-6"},i.createElement("h3",{className:"text-xl font-semibold text-gray-900"},"Register TURN Provider"),i.createElement("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600"},i.createElement(Hr,{className:"h-6 w-6"}))),i.createElement("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6"},i.createElement("div",{className:"flex items-start space-x-3"},i.createElement(Qn,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),i.createElement("div",null,i.createElement("h4",{className:"font-medium text-yellow-900"},"Attestation Agent Required"),i.createElement("p",{className:"text-sm text-yellow-800 mt-1"},"You must deploy and maintain a Rust-based attestation agent before registering. See the Documentation tab for setup instructions.")))),i.createElement("form",{onSubmit:o,className:"space-y-6"},i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},i.createElement("div",null,i.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Provider ID"),i.createElement("input",{type:"text",value:l.id,onChange:v=>c(p=>({...p,id:v.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"provider_001",required:!0})),i.createElement("div",null,i.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Provider Name"),i.createElement("input",{type:"text",value:l.name,onChange:v=>c(p=>({...p,name:v.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"My TURN Provider",required:!0}))),i.createElement("div",null,i.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"TURN Server URL"),i.createElement("input",{type:"url",value:l.url,onChange:v=>c(p=>({...p,url:v.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"turn:myserver.com:3478",required:!0})),i.createElement("div",null,i.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Public Key"),i.createElement("textarea",{value:l.publicKey,onChange:v=>c(p=>({...p,publicKey:v.target.value})),rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your public key for authentication...",required:!0})),i.createElement("div",null,i.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Attestation Hash (Optional)"),i.createElement("input",{type:"text",value:l.attestationHash,onChange:v=>c(p=>({...p,attestationHash:v.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Hash from your attestation agent..."}),i.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Leave empty if attestation agent is not yet deployed. You can update this later.")),i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},i.createElement("div",null,i.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Stake Amount (TURNX)"),i.createElement("input",{type:"number",min:"500",value:l.stakeAmount,onChange:v=>c(p=>({...p,stakeAmount:v.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1000",required:!0}),i.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Minimum 500 TURNX required")),i.createElement("div",null,i.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Location"),i.createElement("select",{value:l.location,onChange:v=>c(p=>({...p,location:v.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0},i.createElement("option",{value:""},"Select location..."),i.createElement("option",{value:"US-East"},"US East"),i.createElement("option",{value:"US-West"},"US West"),i.createElement("option",{value:"EU-West"},"EU West"),i.createElement("option",{value:"EU-Central"},"EU Central"),i.createElement("option",{value:"Asia-Pacific"},"Asia Pacific"),i.createElement("option",{value:"Other"},"Other")))),i.createElement("div",{className:"flex space-x-4"},i.createElement("button",{type:"button",onClick:()=>a(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors"},"Cancel"),i.createElement("button",{type:"submit",disabled:t.isPending,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors"},t.isPending?"Registering...":"Register Provider"))))),r&&i.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},i.createElement("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full p-6 max-h-[90vh] overflow-y-auto"},i.createElement("div",{className:"flex items-center justify-between mb-6"},i.createElement("h3",{className:"text-xl font-semibold text-gray-900"},r.name),i.createElement("button",{onClick:()=>s(null),className:"text-gray-400 hover:text-gray-600"},i.createElement(Hr,{className:"h-6 w-6"}))),i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},i.createElement("div",{className:"space-y-4"},i.createElement("div",null,i.createElement("h4",{className:"font-medium text-gray-900 mb-2"},"Provider Information"),i.createElement("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2"},i.createElement("div",{className:"flex justify-between"},i.createElement("span",{className:"text-sm text-gray-600"},"ID:"),i.createElement("span",{className:"text-sm font-mono"},r.id)),i.createElement("div",{className:"flex justify-between"},i.createElement("span",{className:"text-sm text-gray-600"},"URL:"),i.createElement("span",{className:"text-sm font-mono"},r.url)),i.createElement("div",{className:"flex justify-between"},i.createElement("span",{className:"text-sm text-gray-600"},"Location:"),i.createElement("span",{className:"text-sm"},r.location)),i.createElement("div",{className:"flex justify-between"},i.createElement("span",{className:"text-sm text-gray-600"},"Owner:"),i.createElement("span",{className:"text-sm font-mono"},r.owner.toString().slice(0,15),"...")))),i.createElement("div",null,i.createElement("h4",{className:"font-medium text-gray-900 mb-2"},"Attestation Status"),i.createElement("div",{className:"bg-gray-50 rounded-lg p-4"},r.attestationHash?i.createElement("div",{className:"space-y-2"},i.createElement("div",{className:"flex items-center space-x-2"},i.createElement(rr,{className:"h-4 w-4 text-green-600"}),i.createElement("span",{className:"text-sm font-medium text-green-900"},"Attestation Agent Deployed")),i.createElement("div",{className:"text-xs text-gray-600"},"Hash: ",r.attestationHash.slice(0,20),"..."),i.createElement("div",{className:"text-xs text-gray-600"},"Last seen: ",new Date(Number(r.lastSeen)/1e6).toLocaleString())):i.createElement("div",{className:"flex items-center space-x-2"},i.createElement(Qn,{className:"h-4 w-4 text-red-600"}),i.createElement("span",{className:"text-sm font-medium text-red-900"},"No Attestation Agent"))))),i.createElement("div",{className:"space-y-4"},i.createElement("div",null,i.createElement("h4",{className:"font-medium text-gray-900 mb-2"},"Performance Metrics"),i.createElement("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3"},i.createElement("div",{className:"flex justify-between items-center"},i.createElement("span",{className:"text-sm text-gray-600"},"Rating:"),i.createElement("div",{className:"flex items-center space-x-1"},h(r.rating),i.createElement("span",{className:"text-sm font-medium ml-1"},r.rating))),i.createElement("div",{className:"flex justify-between"},i.createElement("span",{className:"text-sm text-gray-600"},"Reputation:"),i.createElement("span",{className:`text-sm font-medium ${g(r.reputation,{good:90,fair:70})}`},r.reputation,"%")),i.createElement("div",{className:"flex justify-between"},i.createElement("span",{className:"text-sm text-gray-600"},"Uptime:"),i.createElement("span",{className:`text-sm font-medium ${g(r.uptime,{good:99,fair:95})}`},r.uptime,"%")),i.createElement("div",{className:"flex justify-between"},i.createElement("span",{className:"text-sm text-gray-600"},"Security Score:"),i.createElement("span",{className:"text-sm font-medium"},Number(r.securityScore),"/100")))),i.createElement("div",null,i.createElement("h4",{className:"font-medium text-gray-900 mb-2"},"Economics"),i.createElement("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2"},i.createElement("div",{className:"flex justify-between"},i.createElement("span",{className:"text-sm text-gray-600"},"Stake Amount:"),i.createElement("span",{className:"text-sm font-medium"},Number(r.stakeAmount).toLocaleString()," TURNX")),i.createElement("div",{className:"flex justify-between"},i.createElement("span",{className:"text-sm text-gray-600"},"Total Sessions:"),i.createElement("span",{className:"text-sm font-medium"},Number(r.totalSessions).toLocaleString())),i.createElement("div",{className:"flex justify-between"},i.createElement("span",{className:"text-sm text-gray-600"},"Total Earnings:"),i.createElement("span",{className:"text-sm font-medium text-green-600"},r.totalEarnings.toFixed(2)," TURNX")))))))))}function H_(){const[e,t]=G.useState(null),[n,a]=G.useState(null),[r,s]=G.useState(null),[l,c]=G.useState(null),[o,f]=G.useState("landing"),[g,h]=G.useState(null),u="jl3ck-2cds7-rddbn-ww2i7-uo3ti-huzcp-5p673-miyae-vc22n-nzkna-2qe";G.useEffect(()=>{const b=new URLSearchParams(window.location.search);h(b.get("roomId"))},[]),G.useEffect(()=>{(async()=>{const N=await hd.create();if(s(N),await N.isAuthenticated()){const w=N.getIdentity(),C=new Lr({identity:w});t(w),a(C),c(J0(Of,{agent:C}))}})()},[]);const d=async()=>{r&&await r.login({identityProvider:"https://identity.ic0.app/#authorize",onSuccess:async()=>{const b=r.getIdentity(),N=new Lr({identity:b});t(b),a(N),c(J0(Of,{agent:N}))}})},m=async()=>{r&&(await r.logout(),t(null),a(null),c(null))},S=()=>{const b=e==null?void 0:e.getPrincipal().toText();b&&navigator.clipboard.writeText(b)},v=e==null?void 0:e.getPrincipal().toText(),p=v===u,y=[{id:"webrtc",label:"WebRTC",icon:sr},{id:"connections",label:"Connections",icon:Au},{id:"random-chat",label:"Random Chat",icon:Tu},{id:"providers",label:"TURN Providers",icon:kr},{id:"dao",label:"DAO",icon:th},{id:"onboarding",label:"Docs",icon:W0},...p?[{id:"admin",label:"Admin",icon:Sa}]:[]];return!e||!l?i.createElement("div",{className:"min-h-screen flex items-center justify-center"},i.createElement("button",{disabled:!r,onClick:d,className:"px-6 py-3 bg-green-600 text-white rounded-full"},"Login with Internet Identity")):i.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 text-gray-800"},i.createElement("div",{className:"flex justify-between items-center p-4 bg-white shadow-sm border-b"},i.createElement("nav",{className:"flex space-x-2 overflow-x-auto whitespace-nowrap w-full px-2 sm:px-0"},i.createElement("button",{onClick:()=>f("landing"),className:`px-4 py-2 rounded-full ${o==="landing"?"bg-green-100 text-green-700 border":""}`}," Home"),y.map(b=>{const N=b.icon;return i.createElement("button",{key:b.id,onClick:()=>f(b.id),className:`px-4 py-2 rounded-full ${o===b.id?"bg-green-100 text-green-700 border":""}`},i.createElement(N,{className:"h-4 w-4"})," ",b.label)})),i.createElement("div",{className:"flex items-center space-x-2"},i.createElement("span",{className:"text-sm"},v),i.createElement("button",{onClick:S,className:"px-2 py-1 text-xs bg-gray-200 rounded"},"Copy"),i.createElement("button",{onClick:m,className:"px-2 py-1 text-xs bg-red-200 rounded flex items-center space-x-1"},i.createElement(BS,{size:14})," Logout"))),i.createElement("div",{className:"p-4"},o==="landing"&&i.createElement("p",{className:"text-center mt-20"},"Welcome to TURNX"),o==="webrtc"&&i.createElement(N_,{backend:l,turnConfig:{iceServers:[{urls:"turn:194.31.150.154:3478?transport=udp",username:"turnx",credential:"1234"}]},callMode:g?"join":"start",callId:g??"",onEndCall:()=>console.log("Call ended")}),o==="connections"&&i.createElement(q_,null),o==="random-chat"&&i.createElement(D_,null),o==="providers"&&i.createElement(k_,null),o==="dao"&&i.createElement(j_,null),o==="onboarding"&&i.createElement(z_,null),o==="admin"&&p&&i.createElement(U_,null)))}const V_=new r4;K3.createRoot(document.getElementById("root")).render(i.createElement(i.StrictMode,null,i.createElement(d4,{client:V_},i.createElement(H_,null))));
