var WN=Object.defineProperty;var Q2=t=>{throw TypeError(t)};var eS=(t,e,n)=>e in t?WN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var dn=(t,e,n)=>eS(t,typeof e!="symbol"?e+"":e,n),Sp=(t,e,n)=>e.has(t)||Q2("Cannot "+n);var $=(t,e,n)=>(Sp(t,e,"read from private field"),n?n.call(t):e.get(t)),ye=(t,e,n)=>e.has(t)?Q2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ue=(t,e,n,r)=>(Sp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Se=(t,e,n)=>(Sp(t,e,"access private method"),n);var yu=(t,e,n,r)=>({set _(a){ue(t,e,a,n)},get _(){return $(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Iv={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg=Symbol.for("react.transitional.element"),tS=Symbol.for("react.portal"),nS=Symbol.for("react.fragment"),rS=Symbol.for("react.strict_mode"),aS=Symbol.for("react.profiler"),iS=Symbol.for("react.consumer"),sS=Symbol.for("react.context"),cS=Symbol.for("react.forward_ref"),oS=Symbol.for("react.suspense"),lS=Symbol.for("react.memo"),$v=Symbol.for("react.lazy"),J2=Symbol.iterator;function uS(t){return t===null||typeof t!="object"?null:(t=J2&&t[J2]||t["@@iterator"],typeof t=="function"?t:null)}var kv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fv=Object.assign,jv={};function tu(t,e,n){this.props=t,this.context=e,this.refs=jv,this.updater=n||kv}tu.prototype.isReactComponent={};tu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Vv(){}Vv.prototype=tu.prototype;function Zg(t,e,n){this.props=t,this.context=e,this.refs=jv,this.updater=n||kv}var Xg=Zg.prototype=new Vv;Xg.constructor=Zg;Fv(Xg,tu.prototype);Xg.isPureReactComponent=!0;var W2=Array.isArray,wt={H:null,A:null,T:null,S:null,V:null},Hv=Object.prototype.hasOwnProperty;function Qg(t,e,n,r,a,i){return n=i.ref,{$$typeof:Lg,type:t,key:e,ref:n!==void 0?n:null,props:i}}function fS(t,e){return Qg(t.type,e,void 0,void 0,void 0,t.props)}function Jg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lg}function dS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ex=/\/+/g;function Tp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dS(""+t.key):e.toString(36)}function tx(){}function hS(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(tx,tx):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function No(t,e,n,r,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Lg:case tS:s=!0;break;case $v:return s=t._init,No(s(t._payload),e,n,r,a)}}if(s)return a=a(t),s=r===""?"."+Tp(t,0):r,W2(a)?(n="",s!=null&&(n=s.replace(ex,"$&/")+"/"),No(a,e,n,"",function(u){return u})):a!=null&&(Jg(a)&&(a=fS(a,n+(a.key==null||t&&t.key===a.key?"":(""+a.key).replace(ex,"$&/")+"/")+s)),e.push(a)),1;s=0;var c=r===""?".":r+":";if(W2(t))for(var l=0;l<t.length;l++)r=t[l],i=c+Tp(r,l),s+=No(r,e,n,i,a);else if(l=uS(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,i=c+Tp(r,l++),s+=No(r,e,n,i,a);else if(i==="object"){if(typeof t.then=="function")return No(hS(t),e,n,r,a);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function Hd(t,e,n){if(t==null)return t;var r=[],a=0;return No(t,r,"","",function(i){return e.call(n,i,a++)}),r}function mS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nx=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function pS(){}Ie.Children={map:Hd,forEach:function(t,e,n){Hd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hd(t,function(){e++}),e},toArray:function(t){return Hd(t,function(e){return e})||[]},only:function(t){if(!Jg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=tu;Ie.Fragment=nS;Ie.Profiler=aS;Ie.PureComponent=Zg;Ie.StrictMode=rS;Ie.Suspense=oS;Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=wt;Ie.__COMPILER_RUNTIME={__proto__:null,c:function(t){return wt.H.useMemoCache(t)}};Ie.cache=function(t){return function(){return t.apply(null,arguments)}};Ie.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=Fv({},t.props),a=t.key,i=void 0;if(e!=null)for(s in e.ref!==void 0&&(i=void 0),e.key!==void 0&&(a=""+e.key),e)!Hv.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(r[s]=e[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];r.children=c}return Qg(t.type,a,void 0,void 0,i,r)};Ie.createContext=function(t){return t={$$typeof:sS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:iS,_context:t},t};Ie.createElement=function(t,e,n){var r,a={},i=null;if(e!=null)for(r in e.key!==void 0&&(i=""+e.key),e)Hv.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(a[r]=e[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return Qg(t,i,void 0,void 0,null,a)};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:cS,render:t}};Ie.isValidElement=Jg;Ie.lazy=function(t){return{$$typeof:$v,_payload:{_status:-1,_result:t},_init:mS}};Ie.memo=function(t,e){return{$$typeof:lS,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=wt.T,n={};wt.T=n;try{var r=t(),a=wt.S;a!==null&&a(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(pS,nx)}catch(i){nx(i)}finally{wt.T=e}};Ie.unstable_useCacheRefresh=function(){return wt.H.useCacheRefresh()};Ie.use=function(t){return wt.H.use(t)};Ie.useActionState=function(t,e,n){return wt.H.useActionState(t,e,n)};Ie.useCallback=function(t,e){return wt.H.useCallback(t,e)};Ie.useContext=function(t){return wt.H.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t,e){return wt.H.useDeferredValue(t,e)};Ie.useEffect=function(t,e,n){var r=wt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};Ie.useId=function(){return wt.H.useId()};Ie.useImperativeHandle=function(t,e,n){return wt.H.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return wt.H.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return wt.H.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return wt.H.useMemo(t,e)};Ie.useOptimistic=function(t,e){return wt.H.useOptimistic(t,e)};Ie.useReducer=function(t,e,n){return wt.H.useReducer(t,e,n)};Ie.useRef=function(t){return wt.H.useRef(t)};Ie.useState=function(t){return wt.H.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return wt.H.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return wt.H.useTransition()};Ie.version="19.1.0";Iv.exports=Ie;var be=Iv.exports;const o=Kg(be);var Dv={exports:{}},Om={},zv={exports:{}},Pv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,V){var F=C.length;C.push(V);e:for(;0<F;){var Q=F-1>>>1,oe=C[Q];if(0<a(oe,V))C[Q]=V,C[F]=oe,F=Q;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var V=C[0],F=C.pop();if(F!==V){C[0]=F;e:for(var Q=0,oe=C.length,ae=oe>>>1;Q<ae;){var se=2*(Q+1)-1,le=C[se],U=se+1,de=C[U];if(0>a(le,F))U<oe&&0>a(de,le)?(C[Q]=de,C[U]=F,Q=U):(C[Q]=le,C[se]=F,Q=se);else if(U<oe&&0>a(de,F))C[Q]=de,C[U]=F,Q=U;else break e}}return V}function a(C,V){var F=C.sortIndex-V.sortIndex;return F!==0?F:C.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var l=[],u=[],p=1,y=null,h=3,d=!1,f=!1,A=!1,N=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function M(C){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=C)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function S(C){if(A=!1,M(C),!f)if(n(l)!==null)f=!0,H||(H=!0,X());else{var V=n(u);V!==null&&j(S,V.startTime-C)}}var H=!1,z=-1,K=5,Z=-1;function k(){return N?!0:!(t.unstable_now()-Z<K)}function P(){if(N=!1,H){var C=t.unstable_now();Z=C;var V=!0;try{e:{f=!1,A&&(A=!1,x(z),z=-1),d=!0;var F=h;try{t:{for(M(C),y=n(l);y!==null&&!(y.expirationTime>C&&k());){var Q=y.callback;if(typeof Q=="function"){y.callback=null,h=y.priorityLevel;var oe=Q(y.expirationTime<=C);if(C=t.unstable_now(),typeof oe=="function"){y.callback=oe,M(C),V=!0;break t}y===n(l)&&r(l),M(C)}else r(l);y=n(l)}if(y!==null)V=!0;else{var ae=n(u);ae!==null&&j(S,ae.startTime-C),V=!1}}break e}finally{y=null,h=F,d=!1}V=void 0}}finally{V?X():H=!1}}}var X;if(typeof _=="function")X=function(){_(P)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,O=E.port2;E.port1.onmessage=P,X=function(){O.postMessage(null)}}else X=function(){v(P,0)};function j(C,V){z=v(function(){C(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(C){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var F=h;h=V;try{return C()}finally{h=F}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(C,V){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var F=h;h=C;try{return V()}finally{h=F}},t.unstable_scheduleCallback=function(C,V,F){var Q=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Q+F:Q):F=Q,C){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=F+oe,C={id:p++,callback:V,priorityLevel:C,startTime:F,expirationTime:oe,sortIndex:-1},F>Q?(C.sortIndex=F,e(u,C),n(l)===null&&C===n(u)&&(A?(x(z),z=-1):A=!0,j(S,F-Q))):(C.sortIndex=oe,e(l,C),f||d||(f=!0,H||(H=!0,X()))),C},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(C){var V=h;return function(){var F=h;h=V;try{return C.apply(this,arguments)}finally{h=F}}}})(Pv);zv.exports=Pv;var yS=zv.exports,Gv={exports:{}},Pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS=be;function Yv(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ui(){}var zn={d:{f:Ui,r:function(){throw Error(Yv(522))},D:Ui,C:Ui,L:Ui,m:Ui,X:Ui,S:Ui,M:Ui},p:0,findDOMNode:null},bS=Symbol.for("react.portal");function xS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bS,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Du=gS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Um(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=zn;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Yv(299));return xS(t,e,null,n)};Pn.flushSync=function(t){var e=Du.T,n=zn.p;try{if(Du.T=null,zn.p=2,t)return t()}finally{Du.T=e,zn.p=n,zn.d.f()}};Pn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,zn.d.C(t,e))};Pn.prefetchDNS=function(t){typeof t=="string"&&zn.d.D(t)};Pn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=Um(n,e.crossOrigin),a=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?zn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:i}):n==="script"&&zn.d.X(t,{crossOrigin:r,integrity:a,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Pn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Um(e.as,e.crossOrigin);zn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&zn.d.M(t)};Pn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=Um(n,e.crossOrigin);zn.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Pn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Um(e.as,e.crossOrigin);zn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else zn.d.m(t)};Pn.requestFormReset=function(t){zn.d.r(t)};Pn.unstable_batchedUpdates=function(t,e){return t(e)};Pn.useFormState=function(t,e,n){return Du.H.useFormState(t,e,n)};Pn.useFormStatus=function(){return Du.H.useHostTransitionStatus()};Pn.version="19.1.0";function Kv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kv)}catch(t){console.error(t)}}Kv(),Gv.exports=Pn;var wS=Gv.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xt=yS,Lv=be,ES=wS;function he(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Zv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dd(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rx(t){if(dd(t)!==t)throw Error(he(188))}function vS(t){var e=t.alternate;if(!e){if(e=dd(t),e===null)throw Error(he(188));return e!==t?null:t}for(var n=t,r=e;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return rx(a),t;if(i===r)return rx(a),e;i=i.sibling}throw Error(he(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?t:e}function Qv(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=Qv(t),e!==null)return e;t=t.sibling}return null}var gt=Object.assign,_S=Symbol.for("react.element"),Dd=Symbol.for("react.transitional.element"),Ru=Symbol.for("react.portal"),$o=Symbol.for("react.fragment"),Jv=Symbol.for("react.strict_mode"),t1=Symbol.for("react.profiler"),NS=Symbol.for("react.provider"),Wv=Symbol.for("react.consumer"),si=Symbol.for("react.context"),Wg=Symbol.for("react.forward_ref"),n1=Symbol.for("react.suspense"),r1=Symbol.for("react.suspense_list"),eb=Symbol.for("react.memo"),Ki=Symbol.for("react.lazy"),a1=Symbol.for("react.activity"),SS=Symbol.for("react.memo_cache_sentinel"),ax=Symbol.iterator;function gu(t){return t===null||typeof t!="object"?null:(t=ax&&t[ax]||t["@@iterator"],typeof t=="function"?t:null)}var TS=Symbol.for("react.client.reference");function i1(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===TS?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $o:return"Fragment";case t1:return"Profiler";case Jv:return"StrictMode";case n1:return"Suspense";case r1:return"SuspenseList";case a1:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Ru:return"Portal";case si:return(t.displayName||"Context")+".Provider";case Wv:return(t._context.displayName||"Context")+".Consumer";case Wg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case eb:return e=t.displayName||null,e!==null?e:i1(t.type)||"Memo";case Ki:e=t._payload,t=t._init;try{return i1(t(e))}catch{}}return null}var Ou=Array.isArray,Oe=Lv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=ES.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Uc={pending:!1,data:null,method:null,action:null},s1=[],ko=-1;function $a(t){return{current:t}}function fn(t){0>ko||(t.current=s1[ko],s1[ko]=null,ko--)}function Et(t,e){ko++,s1[ko]=t.current,t.current=e}var Ra=$a(null),df=$a(null),Rs=$a(null),ph=$a(null);function yh(t,e){switch(Et(Rs,e),Et(df,t),Et(Ra,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?lw(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=lw(e),t=y8(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}fn(Ra),Et(Ra,t)}function $l(){fn(Ra),fn(df),fn(Rs)}function c1(t){t.memoizedState!==null&&Et(ph,t);var e=Ra.current,n=y8(e,t.type);e!==n&&(Et(df,t),Et(Ra,n))}function gh(t){df.current===t&&(fn(Ra),fn(df)),ph.current===t&&(fn(ph),vf._currentValue=Uc)}var o1=Object.prototype.hasOwnProperty,tb=Xt.unstable_scheduleCallback,Ap=Xt.unstable_cancelCallback,AS=Xt.unstable_shouldYield,BS=Xt.unstable_requestPaint,Oa=Xt.unstable_now,RS=Xt.unstable_getCurrentPriorityLevel,e6=Xt.unstable_ImmediatePriority,t6=Xt.unstable_UserBlockingPriority,bh=Xt.unstable_NormalPriority,OS=Xt.unstable_LowPriority,n6=Xt.unstable_IdlePriority,US=Xt.log,CS=Xt.unstable_setDisableYieldValue,hd=null,ur=null;function Ss(t){if(typeof US=="function"&&CS(t),ur&&typeof ur.setStrictMode=="function")try{ur.setStrictMode(hd,t)}catch{}}var fr=Math.clz32?Math.clz32:IS,MS=Math.log,qS=Math.LN2;function IS(t){return t>>>=0,t===0?32:31-(MS(t)/qS|0)|0}var zd=256,Pd=4194304;function nc(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Cm(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var a=0,i=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var c=r&134217727;return c!==0?(r=c&~i,r!==0?a=nc(r):(s&=c,s!==0?a=nc(s):n||(n=c&~t,n!==0&&(a=nc(n))))):(c=r&~i,c!==0?a=nc(c):s!==0?a=nc(s):n||(n=r&~t,n!==0&&(a=nc(n)))),a===0?0:e!==0&&e!==a&&!(e&i)&&(i=a&-a,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:a}function md(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function $S(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r6(){var t=zd;return zd<<=1,!(zd&4194048)&&(zd=256),t}function a6(){var t=Pd;return Pd<<=1,!(Pd&62914560)&&(Pd=4194304),t}function Bp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pd(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kS(t,e,n,r,a,i){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var c=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=s&~n;0<n;){var p=31-fr(n),y=1<<p;c[p]=0,l[p]=-1;var h=u[p];if(h!==null)for(u[p]=null,p=0;p<h.length;p++){var d=h[p];d!==null&&(d.lane&=-536870913)}n&=~y}r!==0&&i6(t,r,0),i!==0&&a===0&&t.tag!==0&&(t.suspendedLanes|=i&~(s&~e))}function i6(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-fr(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function s6(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fr(n),a=1<<r;a&e|t[r]&e&&(t[r]|=e),n&=~a}}function nb(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function rb(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function c6(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:T8(t.type))}function FS(t,e){var n=tt.p;try{return tt.p=t,e()}finally{tt.p=n}}var Xs=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Xs,Jn="__reactProps$"+Xs,nu="__reactContainer$"+Xs,l1="__reactEvents$"+Xs,jS="__reactListeners$"+Xs,VS="__reactHandles$"+Xs,ix="__reactResources$"+Xs,yd="__reactMarker$"+Xs;function ab(t){delete t[Bn],delete t[Jn],delete t[l1],delete t[jS],delete t[VS]}function Fo(t){var e=t[Bn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[nu]||n[Bn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dw(t);t!==null;){if(n=t[Bn])return n;t=dw(t)}return e}t=n,n=t.parentNode}return null}function ru(t){if(t=t[Bn]||t[nu]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Uu(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(he(33))}function rl(t){var e=t[ix];return e||(e=t[ix]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function cn(t){t[yd]=!0}var o6=new Set,l6={};function so(t,e){kl(t,e),kl(t+"Capture",e)}function kl(t,e){for(l6[t]=e,t=0;t<e.length;t++)o6.add(e[t])}var HS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sx={},cx={};function DS(t){return o1.call(cx,t)?!0:o1.call(sx,t)?!1:HS.test(t)?cx[t]=!0:(sx[t]=!0,!1)}function N0(t,e,n){if(DS(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Gd(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ja(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var Rp,ox;function So(t){if(Rp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rp=e&&e[1]||"",ox=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rp+t+ox}var Op=!1;function Up(t,e){if(!t||Op)return"";Op=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var y=function(){throw Error()};if(Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(d){var h=d}Reflect.construct(t,[],y)}else{try{y.call()}catch(d){h=d}t.call(y.prototype)}}else{try{throw Error()}catch(d){h=d}(y=t())&&typeof y.catch=="function"&&y.catch(function(){})}}catch(d){if(d&&h&&typeof d.stack=="string")return[d.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),s=i[0],c=i[1];if(s&&c){var l=s.split(`
`),u=c.split(`
`);for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===u.length)for(r=l.length-1,a=u.length-1;1<=r&&0<=a&&l[r]!==u[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==u[a]){if(r!==1||a!==1)do if(r--,a--,0>a||l[r]!==u[a]){var p=`
`+l[r].replace(" at new "," at ");return t.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",t.displayName)),p}while(1<=r&&0<=a);break}}}finally{Op=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?So(n):""}function zS(t){switch(t.tag){case 26:case 27:case 5:return So(t.type);case 16:return So("Lazy");case 13:return So("Suspense");case 19:return So("SuspenseList");case 0:case 15:return Up(t.type,!1);case 11:return Up(t.type.render,!1);case 1:return Up(t.type,!0);case 31:return So("Activity");default:return""}}function lx(t){try{var e="";do e+=zS(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Nr(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function u6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PS(t){var e=u6(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xh(t){t._valueTracker||(t._valueTracker=PS(t))}function f6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=u6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var GS=/[\n"\\]/g;function Br(t){return t.replace(GS,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function u1(t,e,n,r,a,i,s,c){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Nr(e)):t.value!==""+Nr(e)&&(t.value=""+Nr(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?f1(t,s,Nr(e)):n!=null?f1(t,s,Nr(n)):r!=null&&t.removeAttribute("value"),a==null&&i!=null&&(t.defaultChecked=!!i),a!=null&&(t.checked=a&&typeof a!="function"&&typeof a!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?t.name=""+Nr(c):t.removeAttribute("name")}function d6(t,e,n,r,a,i,s,c){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null))return;n=n!=null?""+Nr(n):"",e=e!=null?""+Nr(e):n,c||e===t.value||(t.value=e),t.defaultValue=e}r=r??a,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=c?t.checked:!!r,t.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s)}function f1(t,e,n){e==="number"&&wh(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function al(t,e,n,r){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Nr(n),e=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,r&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function h6(t,e,n){if(e!=null&&(e=""+Nr(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Nr(n):""}function m6(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(he(92));if(Ou(r)){if(1<r.length)throw Error(he(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Nr(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function Fl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var YS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ux(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||YS.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function p6(t,e,n){if(e!=null&&typeof e!="object")throw Error(he(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var a in e)r=e[a],e.hasOwnProperty(a)&&n[a]!==r&&ux(t,a,r)}else for(var i in e)e.hasOwnProperty(i)&&ux(t,i,e[i])}function ib(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var KS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),LS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function S0(t){return LS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var d1=null;function sb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jo=null,il=null;function fx(t){var e=ru(t);if(e&&(t=e.stateNode)){var n=t[Jn]||null;e:switch(t=e.stateNode,e.type){case"input":if(u1(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Br(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var a=r[Jn]||null;if(!a)throw Error(he(90));u1(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&f6(r)}break e;case"textarea":h6(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&al(t,!!n.multiple,e,!1)}}}var Cp=!1;function y6(t,e,n){if(Cp)return t(e,n);Cp=!0;try{var r=t(e);return r}finally{if(Cp=!1,(jo!==null||il!==null)&&(Dm(),jo&&(e=jo,t=il,il=jo=null,fx(e),t)))for(e=0;e<t.length;e++)fx(t[e])}}function hf(t,e){var n=t.stateNode;if(n===null)return null;var r=n[Jn]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(he(231,e,typeof n));return n}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h1=!1;if(wi)try{var bu={};Object.defineProperty(bu,"passive",{get:function(){h1=!0}}),window.addEventListener("test",bu,bu),window.removeEventListener("test",bu,bu)}catch{h1=!1}var Ts=null,cb=null,T0=null;function g6(){if(T0)return T0;var t,e=cb,n=e.length,r,a="value"in Ts?Ts.value:Ts.textContent,i=a.length;for(t=0;t<n&&e[t]===a[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===a[i-r];r++);return T0=a.slice(t,1<r?1-r:void 0)}function A0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yd(){return!0}function dx(){return!1}function Wn(t){function e(n,r,a,i,s){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yd:dx,this.isPropagationStopped=dx,this}return gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yd)},persist:function(){},isPersistent:Yd}),e}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mm=Wn(co),gd=gt({},co,{view:0,detail:0}),ZS=Wn(gd),Mp,qp,xu,qm=gt({},gd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ob,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xu&&(xu&&t.type==="mousemove"?(Mp=t.screenX-xu.screenX,qp=t.screenY-xu.screenY):qp=Mp=0,xu=t),Mp)},movementY:function(t){return"movementY"in t?t.movementY:qp}}),hx=Wn(qm),XS=gt({},qm,{dataTransfer:0}),QS=Wn(XS),JS=gt({},gd,{relatedTarget:0}),Ip=Wn(JS),WS=gt({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),e7=Wn(WS),t7=gt({},co,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),n7=Wn(t7),r7=gt({},co,{data:0}),mx=Wn(r7),a7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function c7(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=s7[t])?!!e[t]:!1}function ob(){return c7}var o7=gt({},gd,{key:function(t){if(t.key){var e=a7[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=A0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?i7[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ob,charCode:function(t){return t.type==="keypress"?A0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?A0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),l7=Wn(o7),u7=gt({},qm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),px=Wn(u7),f7=gt({},gd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ob}),d7=Wn(f7),h7=gt({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),m7=Wn(h7),p7=gt({},qm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),y7=Wn(p7),g7=gt({},co,{newState:0,oldState:0}),b7=Wn(g7),x7=[9,13,27,32],lb=wi&&"CompositionEvent"in window,zu=null;wi&&"documentMode"in document&&(zu=document.documentMode);var w7=wi&&"TextEvent"in window&&!zu,b6=wi&&(!lb||zu&&8<zu&&11>=zu),yx=" ",gx=!1;function x6(t,e){switch(t){case"keyup":return x7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vo=!1;function E7(t,e){switch(t){case"compositionend":return w6(e);case"keypress":return e.which!==32?null:(gx=!0,yx);case"textInput":return t=e.data,t===yx&&gx?null:t;default:return null}}function v7(t,e){if(Vo)return t==="compositionend"||!lb&&x6(t,e)?(t=g6(),T0=cb=Ts=null,Vo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return b6&&e.locale!=="ko"?null:e.data;default:return null}}var _7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_7[t.type]:e==="textarea"}function E6(t,e,n,r){jo?il?il.push(r):il=[r]:jo=r,e=Fh(e,"onChange"),0<e.length&&(n=new Mm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pu=null,mf=null;function N7(t){h8(t,0)}function Im(t){var e=Uu(t);if(f6(e))return t}function xx(t,e){if(t==="change")return e}var v6=!1;if(wi){var $p;if(wi){var kp="oninput"in document;if(!kp){var wx=document.createElement("div");wx.setAttribute("oninput","return;"),kp=typeof wx.oninput=="function"}$p=kp}else $p=!1;v6=$p&&(!document.documentMode||9<document.documentMode)}function Ex(){Pu&&(Pu.detachEvent("onpropertychange",_6),mf=Pu=null)}function _6(t){if(t.propertyName==="value"&&Im(mf)){var e=[];E6(e,mf,t,sb(t)),y6(N7,e)}}function S7(t,e,n){t==="focusin"?(Ex(),Pu=e,mf=n,Pu.attachEvent("onpropertychange",_6)):t==="focusout"&&Ex()}function T7(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Im(mf)}function A7(t,e){if(t==="click")return Im(e)}function B7(t,e){if(t==="input"||t==="change")return Im(e)}function R7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mr=typeof Object.is=="function"?Object.is:R7;function pf(t,e){if(mr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!o1.call(e,a)||!mr(t[a],e[a]))return!1}return!0}function vx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _x(t,e){var n=vx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vx(n)}}function N6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?N6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function S6(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=wh(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wh(t.document)}return e}function ub(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var O7=wi&&"documentMode"in document&&11>=document.documentMode,Ho=null,m1=null,Gu=null,p1=!1;function Nx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;p1||Ho==null||Ho!==wh(r)||(r=Ho,"selectionStart"in r&&ub(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gu&&pf(Gu,r)||(Gu=r,r=Fh(m1,"onSelect"),0<r.length&&(e=new Mm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ho)))}function tc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Do={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionrun:tc("Transition","TransitionRun"),transitionstart:tc("Transition","TransitionStart"),transitioncancel:tc("Transition","TransitionCancel"),transitionend:tc("Transition","TransitionEnd")},Fp={},T6={};wi&&(T6=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function oo(t){if(Fp[t])return Fp[t];if(!Do[t])return t;var e=Do[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in T6)return Fp[t]=e[n];return t}var A6=oo("animationend"),B6=oo("animationiteration"),R6=oo("animationstart"),U7=oo("transitionrun"),C7=oo("transitionstart"),M7=oo("transitioncancel"),O6=oo("transitionend"),U6=new Map,y1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");y1.push("scrollEnd");function ta(t,e){U6.set(t,e),so(e,[t])}var Sx=new WeakMap;function Rr(t,e){if(typeof t=="object"&&t!==null){var n=Sx.get(t);return n!==void 0?n:(e={value:t,source:e,stack:lx(e)},Sx.set(t,e),e)}return{value:t,source:e,stack:lx(e)}}var wr=[],zo=0,fb=0;function $m(){for(var t=zo,e=fb=zo=0;e<t;){var n=wr[e];wr[e++]=null;var r=wr[e];wr[e++]=null;var a=wr[e];wr[e++]=null;var i=wr[e];if(wr[e++]=null,r!==null&&a!==null){var s=r.pending;s===null?a.next=a:(a.next=s.next,s.next=a),r.pending=a}i!==0&&C6(n,a,i)}}function km(t,e,n,r){wr[zo++]=t,wr[zo++]=e,wr[zo++]=n,wr[zo++]=r,fb|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function db(t,e,n,r){return km(t,e,n,r),Eh(t)}function au(t,e){return km(t,null,null,e),Eh(t)}function C6(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var a=!1,i=t.return;i!==null;)i.childLanes|=n,r=i.alternate,r!==null&&(r.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(a=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,a&&e!==null&&(a=31-fr(n),t=i.hiddenUpdates,r=t[a],r===null?t[a]=[e]:r.push(e),e.lane=n|536870912),i):null}function Eh(t){if(50<tf)throw tf=0,k1=null,Error(he(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Po={};function q7(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(t,e,n,r){return new q7(t,e,n,r)}function hb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yi(t,e){var n=t.alternate;return n===null?(n=sr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function M6(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function B0(t,e,n,r,a,i){var s=0;if(r=t,typeof t=="function")hb(t)&&(s=1);else if(typeof t=="string")s=$T(t,n,Ra.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case a1:return t=sr(31,n,e,a),t.elementType=a1,t.lanes=i,t;case $o:return Cc(n.children,a,i,e);case Jv:s=8,a|=24;break;case t1:return t=sr(12,n,e,a|2),t.elementType=t1,t.lanes=i,t;case n1:return t=sr(13,n,e,a),t.elementType=n1,t.lanes=i,t;case r1:return t=sr(19,n,e,a),t.elementType=r1,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case NS:case si:s=10;break e;case Wv:s=9;break e;case Wg:s=11;break e;case eb:s=14;break e;case Ki:s=16,r=null;break e}s=29,n=Error(he(130,t===null?"null":typeof t,"")),r=null}return e=sr(s,n,e,a),e.elementType=t,e.type=r,e.lanes=i,e}function Cc(t,e,n,r){return t=sr(7,t,r,e),t.lanes=n,t}function jp(t,e,n){return t=sr(6,t,null,e),t.lanes=n,t}function Vp(t,e,n){return e=sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Go=[],Yo=0,vh=null,_h=0,Sr=[],Tr=0,Mc=null,ci=1,oi="";function rc(t,e){Go[Yo++]=_h,Go[Yo++]=vh,vh=t,_h=e}function q6(t,e,n){Sr[Tr++]=ci,Sr[Tr++]=oi,Sr[Tr++]=Mc,Mc=t;var r=ci;t=oi;var a=32-fr(r)-1;r&=~(1<<a),n+=1;var i=32-fr(e)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,ci=1<<32-fr(e)+a|n<<a|r,oi=i+t}else ci=1<<i|n<<a|r,oi=t}function mb(t){t.return!==null&&(rc(t,1),q6(t,1,0))}function pb(t){for(;t===vh;)vh=Go[--Yo],Go[Yo]=null,_h=Go[--Yo],Go[Yo]=null;for(;t===Mc;)Mc=Sr[--Tr],Sr[Tr]=null,oi=Sr[--Tr],Sr[Tr]=null,ci=Sr[--Tr],Sr[Tr]=null}var Dn=null,St=null,We=!1,qc=null,xa=!1,g1=Error(he(519));function Pc(t){var e=Error(he(418,""));throw yf(Rr(e,t)),g1}function Tx(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Bn]=t,e[Jn]=r,n){case"dialog":Fe("cancel",e),Fe("close",e);break;case"iframe":case"object":case"embed":Fe("load",e);break;case"video":case"audio":for(n=0;n<xf.length;n++)Fe(xf[n],e);break;case"source":Fe("error",e);break;case"img":case"image":case"link":Fe("error",e),Fe("load",e);break;case"details":Fe("toggle",e);break;case"input":Fe("invalid",e),d6(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),xh(e);break;case"select":Fe("invalid",e);break;case"textarea":Fe("invalid",e),m6(e,r.value,r.defaultValue,r.children),xh(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||p8(e.textContent,n)?(r.popover!=null&&(Fe("beforetoggle",e),Fe("toggle",e)),r.onScroll!=null&&Fe("scroll",e),r.onScrollEnd!=null&&Fe("scrollend",e),r.onClick!=null&&(e.onclick=Gm),e=!0):e=!1,e||Pc(t)}function Ax(t){for(Dn=t.return;Dn;)switch(Dn.tag){case 5:case 13:xa=!1;return;case 27:case 3:xa=!0;return;default:Dn=Dn.return}}function wu(t){if(t!==Dn)return!1;if(!We)return Ax(t),We=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||z1(t.type,t.memoizedProps)),n=!n),n&&St&&Pc(t),Ax(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){St=Wr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}St=null}}else e===27?(e=St,Qs(t.type)?(t=Y1,Y1=null,St=t):St=e):St=Dn?Wr(t.stateNode.nextSibling):null;return!0}function bd(){St=Dn=null,We=!1}function Bx(){var t=qc;return t!==null&&(Xn===null?Xn=t:Xn.push.apply(Xn,t),qc=null),t}function yf(t){qc===null?qc=[t]:qc.push(t)}var b1=$a(null),lo=null,li=null;function es(t,e,n){Et(b1,e._currentValue),e._currentValue=n}function gi(t){t._currentValue=b1.current,fn(b1)}function x1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function w1(t,e,n,r){var a=t.child;for(a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){var s=a.child;i=i.firstContext;e:for(;i!==null;){var c=i;i=a;for(var l=0;l<e.length;l++)if(c.context===e[l]){i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),x1(i.return,n,t),r||(s=null);break e}i=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(he(341));s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),x1(s,n,t),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function xd(t,e,n,r){t=null;for(var a=e,i=!1;a!==null;){if(!i){if(a.flags&524288)i=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(he(387));if(s=s.memoizedProps,s!==null){var c=a.type;mr(a.pendingProps.value,s.value)||(t!==null?t.push(c):t=[c])}}else if(a===ph.current){if(s=a.alternate,s===null)throw Error(he(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(t!==null?t.push(vf):t=[vf])}a=a.return}t!==null&&w1(e,t,n,r),e.flags|=262144}function Nh(t){for(t=t.firstContext;t!==null;){if(!mr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gc(t){lo=t,li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Rn(t){return I6(lo,t)}function Kd(t,e){return lo===null&&Gc(t),I6(t,e)}function I6(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},li===null){if(t===null)throw Error(he(308));li=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else li=li.next=e;return n}var I7=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},$7=Xt.unstable_scheduleCallback,k7=Xt.unstable_NormalPriority,Yt={$$typeof:si,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yb(){return{controller:new I7,data:new Map,refCount:0}}function wd(t){t.refCount--,t.refCount===0&&$7(k7,function(){t.controller.abort()})}var Yu=null,E1=0,jl=0,sl=null;function F7(t,e){if(Yu===null){var n=Yu=[];E1=0,jl=jb(),sl={status:"pending",value:void 0,then:function(r){n.push(r)}}}return E1++,e.then(Rx,Rx),e}function Rx(){if(--E1===0&&Yu!==null){sl!==null&&(sl.status="fulfilled");var t=Yu;Yu=null,jl=0,sl=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function j7(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var a=0;a<n.length;a++)(0,n[a])(e)},function(a){for(r.status="rejected",r.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),r}var Ox=Oe.S;Oe.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&F7(t,e),Ox!==null&&Ox(t,e)};var Ic=$a(null);function gb(){var t=Ic.current;return t!==null?t:pt.pooledCache}function R0(t,e){e===null?Et(Ic,Ic.current):Et(Ic,e.pool)}function $6(){var t=gb();return t===null?null:{parent:Yt._currentValue,pool:t}}var Ed=Error(he(460)),k6=Error(he(474)),Fm=Error(he(542)),v1={then:function(){}};function Ux(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ld(){}function F6(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Ld,Ld),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Mx(t),t;default:if(typeof e.status=="string")e.then(Ld,Ld);else{if(t=pt,t!==null&&100<t.shellSuspendCounter)throw Error(he(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var a=e;a.status="fulfilled",a.value=r}},function(r){if(e.status==="pending"){var a=e;a.status="rejected",a.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Mx(t),t}throw Ku=e,Ed}}var Ku=null;function Cx(){if(Ku===null)throw Error(he(459));var t=Ku;return Ku=null,t}function Mx(t){if(t===Ed||t===Fm)throw Error(he(483))}var Li=!1;function bb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Os(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Us(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,st&2){var a=r.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),r.pending=e,e=Eh(t),C6(t,null,n),e}return km(t,r,e,n),Eh(t)}function Lu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,s6(t,n)}}function Hp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?a=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?a=i=e:i=i.next=e}else a=i=e;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var N1=!1;function Zu(){if(N1){var t=sl;if(t!==null)throw t}}function Xu(t,e,n,r){N1=!1;var a=t.updateQueue;Li=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var l=c,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var p=t.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==s&&(c===null?p.firstBaseUpdate=u:c.next=u,p.lastBaseUpdate=l))}if(i!==null){var y=a.baseState;s=0,p=u=l=null,c=i;do{var h=c.lane&-536870913,d=h!==c.lane;if(d?(Ze&h)===h:(r&h)===h){h!==0&&h===jl&&(N1=!0),p!==null&&(p=p.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var f=t,A=c;h=e;var N=n;switch(A.tag){case 1:if(f=A.payload,typeof f=="function"){y=f.call(N,y,h);break e}y=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=A.payload,h=typeof f=="function"?f.call(N,y,h):f,h==null)break e;y=gt({},y,h);break e;case 2:Li=!0}}h=c.callback,h!==null&&(t.flags|=64,d&&(t.flags|=8192),d=a.callbacks,d===null?a.callbacks=[h]:d.push(h))}else d={lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(u=p=d,l=y):p=p.next=d,s|=h;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;d=c,c=d.next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}while(!0);p===null&&(l=y),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=p,i===null&&(a.shared.lanes=0),Ks|=s,t.lanes=s,t.memoizedState=y}}function j6(t,e){if(typeof t!="function")throw Error(he(191,t));t.call(e)}function V6(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)j6(n[t],e)}var Vl=$a(null),Sh=$a(0);function qx(t,e){t=_i,Et(Sh,t),Et(Vl,e),_i=t|e.baseLanes}function S1(){Et(Sh,_i),Et(Vl,Vl.current)}function xb(){_i=Sh.current,fn(Vl),fn(Sh)}var Gs=0,ke=null,lt=null,Vt=null,Th=!1,cl=!1,Yc=!1,Ah=0,gf=0,ol=null,V7=0;function Ut(){throw Error(he(321))}function wb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mr(t[n],e[n]))return!1;return!0}function Eb(t,e,n,r,a,i){return Gs=i,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Oe.H=t===null||t.memoizedState===null?g3:b3,Yc=!1,i=n(r,a),Yc=!1,cl&&(i=D6(e,n,r,a)),H6(t),i}function H6(t){Oe.H=Bh;var e=lt!==null&&lt.next!==null;if(Gs=0,Vt=lt=ke=null,Th=!1,gf=0,ol=null,e)throw Error(he(300));t===null||ln||(t=t.dependencies,t!==null&&Nh(t)&&(ln=!0))}function D6(t,e,n,r){ke=t;var a=0;do{if(cl&&(ol=null),gf=0,cl=!1,25<=a)throw Error(he(301));if(a+=1,Vt=lt=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Oe.H=K7,i=e(n,r)}while(cl);return i}function H7(){var t=Oe.H,e=t.useState()[0];return e=typeof e.then=="function"?vd(e):e,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(ke.flags|=1024),e}function vb(){var t=Ah!==0;return Ah=0,t}function _b(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Nb(t){if(Th){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Th=!1}Gs=0,Vt=lt=ke=null,cl=!1,gf=Ah=0,ol=null}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ke.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Dt(){if(lt===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var e=Vt===null?ke.memoizedState:Vt.next;if(e!==null)Vt=e,lt=t;else{if(t===null)throw ke.alternate===null?Error(he(467)):Error(he(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Vt===null?ke.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Sb(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vd(t){var e=gf;return gf+=1,ol===null&&(ol=[]),t=F6(ol,t,e),e=ke,(Vt===null?e.memoizedState:Vt.next)===null&&(e=e.alternate,Oe.H=e===null||e.memoizedState===null?g3:b3),t}function jm(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vd(t);if(t.$$typeof===si)return Rn(t)}throw Error(he(438,String(t)))}function Tb(t){var e=null,n=ke.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=ke.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(a){return a.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Sb(),ke.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=SS;return e.index++,n}function Ei(t,e){return typeof e=="function"?e(t):e}function O0(t){var e=Dt();return Ab(e,lt,t)}function Ab(t,e,n){var r=t.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=n;var a=t.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}e.baseQueue=a=i,r.pending=null}if(i=t.baseState,a===null)t.memoizedState=i;else{e=a.next;var c=s=null,l=null,u=e,p=!1;do{var y=u.lane&-536870913;if(y!==u.lane?(Ze&y)===y:(Gs&y)===y){var h=u.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),y===jl&&(p=!0);else if((Gs&h)===h){u=u.next,h===jl&&(p=!0);continue}else y={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=y,s=i):l=l.next=y,ke.lanes|=h,Ks|=h;y=u.action,Yc&&n(i,y),i=u.hasEagerState?u.eagerState:n(i,y)}else h={lane:y,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=h,s=i):l=l.next=h,ke.lanes|=y,Ks|=y;u=u.next}while(u!==null&&u!==e);if(l===null?s=i:l.next=c,!mr(i,t.memoizedState)&&(ln=!0,p&&(n=sl,n!==null)))throw n;t.memoizedState=i,t.baseState=s,t.baseQueue=l,r.lastRenderedState=i}return a===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Dp(t){var e=Dt(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=n.dispatch,a=n.pending,i=e.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do i=t(i,s.action),s=s.next;while(s!==a);mr(i,e.memoizedState)||(ln=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function z6(t,e,n){var r=ke,a=Dt(),i=We;if(i){if(n===void 0)throw Error(he(407));n=n()}else n=e();var s=!mr((lt||a).memoizedState,n);s&&(a.memoizedState=n,ln=!0),a=a.queue;var c=Y6.bind(null,r,a,t);if(_d(2048,8,c,[t]),a.getSnapshot!==e||s||Vt!==null&&Vt.memoizedState.tag&1){if(r.flags|=2048,Hl(9,Vm(),G6.bind(null,r,a,n,e),null),pt===null)throw Error(he(349));i||Gs&124||P6(r,e,n)}return n}function P6(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e=Sb(),ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function G6(t,e,n,r){e.value=n,e.getSnapshot=r,K6(e)&&L6(t)}function Y6(t,e,n){return n(function(){K6(e)&&L6(t)})}function K6(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mr(t,n)}catch{return!0}}function L6(t){var e=au(t,2);e!==null&&hr(e,t,2)}function T1(t){var e=Ln();if(typeof t=="function"){var n=t;if(t=n(),Yc){Ss(!0);try{n()}finally{Ss(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},e}function Z6(t,e,n,r){return t.baseState=n,Ab(t,lt,typeof r=="function"?r:Ei)}function D7(t,e,n,r,a){if(Hm(t))throw Error(he(485));if(t=e.action,t!==null){var i={payload:a,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){i.listeners.push(s)}};Oe.T!==null?n(!0):i.isTransition=!1,r(i),n=e.pending,n===null?(i.next=e.pending=i,X6(e,i)):(i.next=n.next,e.pending=n.next=i)}}function X6(t,e){var n=e.action,r=e.payload,a=t.state;if(e.isTransition){var i=Oe.T,s={};Oe.T=s;try{var c=n(a,r),l=Oe.S;l!==null&&l(s,c),Ix(t,e,c)}catch(u){A1(t,e,u)}finally{Oe.T=i}}else try{i=n(a,r),Ix(t,e,i)}catch(u){A1(t,e,u)}}function Ix(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){$x(t,e,r)},function(r){return A1(t,e,r)}):$x(t,e,n)}function $x(t,e,n){e.status="fulfilled",e.value=n,Q6(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,X6(t,n)))}function A1(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,Q6(e),e=e.next;while(e!==r)}t.action=null}function Q6(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function J6(t,e){return e}function kx(t,e){if(We){var n=pt.formState;if(n!==null){e:{var r=ke;if(We){if(St){t:{for(var a=St,i=xa;a.nodeType!==8;){if(!i){a=null;break t}if(a=Wr(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){St=Wr(a.nextSibling),r=a.data==="F!";break e}}Pc(r)}r=!1}r&&(e=n[0])}}return n=Ln(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:J6,lastRenderedState:e},n.queue=r,n=m3.bind(null,ke,r),r.dispatch=n,r=T1(!1),i=Ub.bind(null,ke,!1,r.queue),r=Ln(),a={state:e,dispatch:null,action:t,pending:null},r.queue=a,n=D7.bind(null,ke,a,i,n),a.dispatch=n,r.memoizedState=t,[e,n,!1]}function Fx(t){var e=Dt();return W6(e,lt,t)}function W6(t,e,n){if(e=Ab(t,e,J6)[0],t=O0(Ei)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=vd(e)}catch(s){throw s===Ed?Fm:s}else r=e;e=Dt();var a=e.queue,i=a.dispatch;return n!==e.memoizedState&&(ke.flags|=2048,Hl(9,Vm(),z7.bind(null,a,n),null)),[r,i,t]}function z7(t,e){t.action=e}function jx(t){var e=Dt(),n=lt;if(n!==null)return W6(e,n,t);Dt(),e=e.memoizedState,n=Dt();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Hl(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=ke.updateQueue,e===null&&(e=Sb(),ke.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Vm(){return{destroy:void 0,resource:void 0}}function e3(){return Dt().memoizedState}function U0(t,e,n,r){var a=Ln();r=r===void 0?null:r,ke.flags|=t,a.memoizedState=Hl(1|e,Vm(),n,r)}function _d(t,e,n,r){var a=Dt();r=r===void 0?null:r;var i=a.memoizedState.inst;lt!==null&&r!==null&&wb(r,lt.memoizedState.deps)?a.memoizedState=Hl(e,i,n,r):(ke.flags|=t,a.memoizedState=Hl(1|e,i,n,r))}function Vx(t,e){U0(8390656,8,t,e)}function t3(t,e){_d(2048,8,t,e)}function n3(t,e){return _d(4,2,t,e)}function r3(t,e){return _d(4,4,t,e)}function a3(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function i3(t,e,n){n=n!=null?n.concat([t]):null,_d(4,4,a3.bind(null,e,t),n)}function Bb(){}function s3(t,e){var n=Dt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&wb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function c3(t,e){var n=Dt();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&wb(e,r[1]))return r[0];if(r=t(),Yc){Ss(!0);try{t()}finally{Ss(!1)}}return n.memoizedState=[r,e],r}function Rb(t,e,n){return n===void 0||Gs&1073741824?t.memoizedState=e:(t.memoizedState=n,t=Q3(),ke.lanes|=t,Ks|=t,n)}function o3(t,e,n,r){return mr(n,e)?n:Vl.current!==null?(t=Rb(t,n,r),mr(t,e)||(ln=!0),t):Gs&42?(t=Q3(),ke.lanes|=t,Ks|=t,e):(ln=!0,t.memoizedState=n)}function l3(t,e,n,r,a){var i=tt.p;tt.p=i!==0&&8>i?i:8;var s=Oe.T,c={};Oe.T=c,Ub(t,!1,e,n);try{var l=a(),u=Oe.S;if(u!==null&&u(c,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var p=j7(l,r);Qu(t,e,p,dr(t))}else Qu(t,e,r,dr(t))}catch(y){Qu(t,e,{then:function(){},status:"rejected",reason:y},dr())}finally{tt.p=i,Oe.T=s}}function P7(){}function B1(t,e,n,r){if(t.tag!==5)throw Error(he(476));var a=u3(t).queue;l3(t,a,e,Uc,n===null?P7:function(){return f3(t),n(r)})}function u3(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Uc,baseState:Uc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:Uc},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function f3(t){var e=u3(t).next.queue;Qu(t,e,{},dr())}function Ob(){return Rn(vf)}function d3(){return Dt().memoizedState}function h3(){return Dt().memoizedState}function G7(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=dr();t=Os(n);var r=Us(e,t,n);r!==null&&(hr(r,e,n),Lu(r,e,n)),e={cache:yb()},t.payload=e;return}e=e.return}}function Y7(t,e,n){var r=dr();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Hm(t)?p3(e,n):(n=db(t,e,n,r),n!==null&&(hr(n,t,r),y3(n,e,r)))}function m3(t,e,n){var r=dr();Qu(t,e,n,r)}function Qu(t,e,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hm(t))p3(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,c=i(s,n);if(a.hasEagerState=!0,a.eagerState=c,mr(c,s))return km(t,e,a,0),pt===null&&$m(),!1}catch{}finally{}if(n=db(t,e,a,r),n!==null)return hr(n,t,r),y3(n,e,r),!0}return!1}function Ub(t,e,n,r){if(r={lane:2,revertLane:jb(),action:r,hasEagerState:!1,eagerState:null,next:null},Hm(t)){if(e)throw Error(he(479))}else e=db(t,n,r,2),e!==null&&hr(e,t,2)}function Hm(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function p3(t,e){cl=Th=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function y3(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,s6(t,n)}}var Bh={readContext:Rn,use:jm,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut},g3={readContext:Rn,use:jm,useCallback:function(t,e){return Ln().memoizedState=[t,e===void 0?null:e],t},useContext:Rn,useEffect:Vx,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,U0(4194308,4,a3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return U0(4194308,4,t,e)},useInsertionEffect:function(t,e){U0(4,2,t,e)},useMemo:function(t,e){var n=Ln();e=e===void 0?null:e;var r=t();if(Yc){Ss(!0);try{t()}finally{Ss(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Ln();if(n!==void 0){var a=n(e);if(Yc){Ss(!0);try{n(e)}finally{Ss(!1)}}}else a=e;return r.memoizedState=r.baseState=a,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:a},r.queue=t,t=t.dispatch=Y7.bind(null,ke,t),[r.memoizedState,t]},useRef:function(t){var e=Ln();return t={current:t},e.memoizedState=t},useState:function(t){t=T1(t);var e=t.queue,n=m3.bind(null,ke,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Bb,useDeferredValue:function(t,e){var n=Ln();return Rb(n,t,e)},useTransition:function(){var t=T1(!1);return t=l3.bind(null,ke,t.queue,!0,!1),Ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=ke,a=Ln();if(We){if(n===void 0)throw Error(he(407));n=n()}else{if(n=e(),pt===null)throw Error(he(349));Ze&124||P6(r,e,n)}a.memoizedState=n;var i={value:n,getSnapshot:e};return a.queue=i,Vx(Y6.bind(null,r,i,t),[t]),r.flags|=2048,Hl(9,Vm(),G6.bind(null,r,i,n,e),null),n},useId:function(){var t=Ln(),e=pt.identifierPrefix;if(We){var n=oi,r=ci;n=(r&~(1<<32-fr(r)-1)).toString(32)+n,e=""+e+"R"+n,n=Ah++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=V7++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:Ob,useFormState:kx,useActionState:kx,useOptimistic:function(t){var e=Ln();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Ub.bind(null,ke,!0,n),n.dispatch=e,[t,e]},useMemoCache:Tb,useCacheRefresh:function(){return Ln().memoizedState=G7.bind(null,ke)}},b3={readContext:Rn,use:jm,useCallback:s3,useContext:Rn,useEffect:t3,useImperativeHandle:i3,useInsertionEffect:n3,useLayoutEffect:r3,useMemo:c3,useReducer:O0,useRef:e3,useState:function(){return O0(Ei)},useDebugValue:Bb,useDeferredValue:function(t,e){var n=Dt();return o3(n,lt.memoizedState,t,e)},useTransition:function(){var t=O0(Ei)[0],e=Dt().memoizedState;return[typeof t=="boolean"?t:vd(t),e]},useSyncExternalStore:z6,useId:d3,useHostTransitionStatus:Ob,useFormState:Fx,useActionState:Fx,useOptimistic:function(t,e){var n=Dt();return Z6(n,lt,t,e)},useMemoCache:Tb,useCacheRefresh:h3},K7={readContext:Rn,use:jm,useCallback:s3,useContext:Rn,useEffect:t3,useImperativeHandle:i3,useInsertionEffect:n3,useLayoutEffect:r3,useMemo:c3,useReducer:Dp,useRef:e3,useState:function(){return Dp(Ei)},useDebugValue:Bb,useDeferredValue:function(t,e){var n=Dt();return lt===null?Rb(n,t,e):o3(n,lt.memoizedState,t,e)},useTransition:function(){var t=Dp(Ei)[0],e=Dt().memoizedState;return[typeof t=="boolean"?t:vd(t),e]},useSyncExternalStore:z6,useId:d3,useHostTransitionStatus:Ob,useFormState:jx,useActionState:jx,useOptimistic:function(t,e){var n=Dt();return lt!==null?Z6(n,lt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Tb,useCacheRefresh:h3},ll=null,bf=0;function Zd(t){var e=bf;return bf+=1,ll===null&&(ll=[]),F6(ll,t,e)}function Eu(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Xd(t,e){throw e.$$typeof===_S?Error(he(525)):(t=Object.prototype.toString.call(e),Error(he(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Hx(t){var e=t._init;return e(t._payload)}function x3(t){function e(v,x){if(t){var _=v.deletions;_===null?(v.deletions=[x],v.flags|=16):_.push(x)}}function n(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function r(v){for(var x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function a(v,x){return v=yi(v,x),v.index=0,v.sibling=null,v}function i(v,x,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<x?(v.flags|=67108866,x):_):(v.flags|=67108866,x)):(v.flags|=1048576,x)}function s(v){return t&&v.alternate===null&&(v.flags|=67108866),v}function c(v,x,_,M){return x===null||x.tag!==6?(x=jp(_,v.mode,M),x.return=v,x):(x=a(x,_),x.return=v,x)}function l(v,x,_,M){var S=_.type;return S===$o?p(v,x,_.props.children,M,_.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ki&&Hx(S)===x.type)?(x=a(x,_.props),Eu(x,_),x.return=v,x):(x=B0(_.type,_.key,_.props,null,v.mode,M),Eu(x,_),x.return=v,x)}function u(v,x,_,M){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=Vp(_,v.mode,M),x.return=v,x):(x=a(x,_.children||[]),x.return=v,x)}function p(v,x,_,M,S){return x===null||x.tag!==7?(x=Cc(_,v.mode,M,S),x.return=v,x):(x=a(x,_),x.return=v,x)}function y(v,x,_){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=jp(""+x,v.mode,_),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Dd:return _=B0(x.type,x.key,x.props,null,v.mode,_),Eu(_,x),_.return=v,_;case Ru:return x=Vp(x,v.mode,_),x.return=v,x;case Ki:var M=x._init;return x=M(x._payload),y(v,x,_)}if(Ou(x)||gu(x))return x=Cc(x,v.mode,_,null),x.return=v,x;if(typeof x.then=="function")return y(v,Zd(x),_);if(x.$$typeof===si)return y(v,Kd(v,x),_);Xd(v,x)}return null}function h(v,x,_,M){var S=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return S!==null?null:c(v,x,""+_,M);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Dd:return _.key===S?l(v,x,_,M):null;case Ru:return _.key===S?u(v,x,_,M):null;case Ki:return S=_._init,_=S(_._payload),h(v,x,_,M)}if(Ou(_)||gu(_))return S!==null?null:p(v,x,_,M,null);if(typeof _.then=="function")return h(v,x,Zd(_),M);if(_.$$typeof===si)return h(v,x,Kd(v,_),M);Xd(v,_)}return null}function d(v,x,_,M,S){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return v=v.get(_)||null,c(x,v,""+M,S);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Dd:return v=v.get(M.key===null?_:M.key)||null,l(x,v,M,S);case Ru:return v=v.get(M.key===null?_:M.key)||null,u(x,v,M,S);case Ki:var H=M._init;return M=H(M._payload),d(v,x,_,M,S)}if(Ou(M)||gu(M))return v=v.get(_)||null,p(x,v,M,S,null);if(typeof M.then=="function")return d(v,x,_,Zd(M),S);if(M.$$typeof===si)return d(v,x,_,Kd(x,M),S);Xd(x,M)}return null}function f(v,x,_,M){for(var S=null,H=null,z=x,K=x=0,Z=null;z!==null&&K<_.length;K++){z.index>K?(Z=z,z=null):Z=z.sibling;var k=h(v,z,_[K],M);if(k===null){z===null&&(z=Z);break}t&&z&&k.alternate===null&&e(v,z),x=i(k,x,K),H===null?S=k:H.sibling=k,H=k,z=Z}if(K===_.length)return n(v,z),We&&rc(v,K),S;if(z===null){for(;K<_.length;K++)z=y(v,_[K],M),z!==null&&(x=i(z,x,K),H===null?S=z:H.sibling=z,H=z);return We&&rc(v,K),S}for(z=r(z);K<_.length;K++)Z=d(z,v,K,_[K],M),Z!==null&&(t&&Z.alternate!==null&&z.delete(Z.key===null?K:Z.key),x=i(Z,x,K),H===null?S=Z:H.sibling=Z,H=Z);return t&&z.forEach(function(P){return e(v,P)}),We&&rc(v,K),S}function A(v,x,_,M){if(_==null)throw Error(he(151));for(var S=null,H=null,z=x,K=x=0,Z=null,k=_.next();z!==null&&!k.done;K++,k=_.next()){z.index>K?(Z=z,z=null):Z=z.sibling;var P=h(v,z,k.value,M);if(P===null){z===null&&(z=Z);break}t&&z&&P.alternate===null&&e(v,z),x=i(P,x,K),H===null?S=P:H.sibling=P,H=P,z=Z}if(k.done)return n(v,z),We&&rc(v,K),S;if(z===null){for(;!k.done;K++,k=_.next())k=y(v,k.value,M),k!==null&&(x=i(k,x,K),H===null?S=k:H.sibling=k,H=k);return We&&rc(v,K),S}for(z=r(z);!k.done;K++,k=_.next())k=d(z,v,K,k.value,M),k!==null&&(t&&k.alternate!==null&&z.delete(k.key===null?K:k.key),x=i(k,x,K),H===null?S=k:H.sibling=k,H=k);return t&&z.forEach(function(X){return e(v,X)}),We&&rc(v,K),S}function N(v,x,_,M){if(typeof _=="object"&&_!==null&&_.type===$o&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Dd:e:{for(var S=_.key;x!==null;){if(x.key===S){if(S=_.type,S===$o){if(x.tag===7){n(v,x.sibling),M=a(x,_.props.children),M.return=v,v=M;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ki&&Hx(S)===x.type){n(v,x.sibling),M=a(x,_.props),Eu(M,_),M.return=v,v=M;break e}n(v,x);break}else e(v,x);x=x.sibling}_.type===$o?(M=Cc(_.props.children,v.mode,M,_.key),M.return=v,v=M):(M=B0(_.type,_.key,_.props,null,v.mode,M),Eu(M,_),M.return=v,v=M)}return s(v);case Ru:e:{for(S=_.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(v,x.sibling),M=a(x,_.children||[]),M.return=v,v=M;break e}else{n(v,x);break}else e(v,x);x=x.sibling}M=Vp(_,v.mode,M),M.return=v,v=M}return s(v);case Ki:return S=_._init,_=S(_._payload),N(v,x,_,M)}if(Ou(_))return f(v,x,_,M);if(gu(_)){if(S=gu(_),typeof S!="function")throw Error(he(150));return _=S.call(_),A(v,x,_,M)}if(typeof _.then=="function")return N(v,x,Zd(_),M);if(_.$$typeof===si)return N(v,x,Kd(v,_),M);Xd(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,x!==null&&x.tag===6?(n(v,x.sibling),M=a(x,_),M.return=v,v=M):(n(v,x),M=jp(_,v.mode,M),M.return=v,v=M),s(v)):n(v,x)}return function(v,x,_,M){try{bf=0;var S=N(v,x,_,M);return ll=null,S}catch(z){if(z===Ed||z===Fm)throw z;var H=sr(29,z,null,v.mode);return H.lanes=M,H.return=v,H}finally{}}}var Dl=x3(!0),w3=x3(!1),Mr=$a(null),Ua=null;function ts(t){var e=t.alternate;Et(Zt,Zt.current&1),Et(Mr,t),Ua===null&&(e===null||Vl.current!==null||e.memoizedState!==null)&&(Ua=t)}function E3(t){if(t.tag===22){if(Et(Zt,Zt.current),Et(Mr,t),Ua===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Ua=t)}}else ns()}function ns(){Et(Zt,Zt.current),Et(Mr,Mr.current)}function ui(t){fn(Mr),Ua===t&&(Ua=null),fn(Zt)}var Zt=$a(0);function Rh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||G1(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function zp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var R1={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dr(),a=Os(r);a.payload=e,n!=null&&(a.callback=n),e=Us(t,a,r),e!==null&&(hr(e,t,r),Lu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dr(),a=Os(r);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Us(t,a,r),e!==null&&(hr(e,t,r),Lu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dr(),r=Os(n);r.tag=2,e!=null&&(r.callback=e),e=Us(t,r,n),e!==null&&(hr(e,t,n),Lu(e,t,n))}};function Dx(t,e,n,r,a,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!pf(n,r)||!pf(a,i):!0}function zx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&R1.enqueueReplaceState(e,e.state,null)}function Kc(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=gt({},n));for(var a in t)n[a]===void 0&&(n[a]=t[a])}return n}var Oh=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function v3(t){Oh(t)}function _3(t){console.error(t)}function N3(t){Oh(t)}function Uh(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function Px(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function O1(t,e,n){return n=Os(n),n.tag=3,n.payload={element:null},n.callback=function(){Uh(t,e)},n}function S3(t){return t=Os(t),t.tag=3,t}function T3(t,e,n,r){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var i=r.value;t.payload=function(){return a(i)},t.callback=function(){Px(e,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Px(e,n,r),typeof a!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var c=r.stack;this.componentDidCatch(r.value,{componentStack:c!==null?c:""})})}function L7(t,e,n,r,a){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&xd(e,n,a,!0),n=Mr.current,n!==null){switch(n.tag){case 13:return Ua===null?F1():n.alternate===null&&At===0&&(At=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===v1?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),ey(t,r,a)),!1;case 22:return n.flags|=65536,r===v1?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),ey(t,r,a)),!1}throw Error(he(435,n.tag))}return ey(t,r,a),F1(),!1}if(We)return e=Mr.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=a,r!==g1&&(t=Error(he(422),{cause:r}),yf(Rr(t,n)))):(r!==g1&&(e=Error(he(423),{cause:r}),yf(Rr(e,n))),t=t.current.alternate,t.flags|=65536,a&=-a,t.lanes|=a,r=Rr(r,n),a=O1(t.stateNode,r,a),Hp(t,a),At!==4&&(At=2)),!1;var i=Error(he(520),{cause:r});if(i=Rr(i,n),ef===null?ef=[i]:ef.push(i),At!==4&&(At=2),e===null)return!0;r=Rr(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=a&-a,n.lanes|=t,t=O1(n.stateNode,r,t),Hp(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Cs===null||!Cs.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,a=S3(a),T3(a,t,n,r),Hp(n,a),!1}n=n.return}while(n!==null);return!1}var A3=Error(he(461)),ln=!1;function pn(t,e,n,r){e.child=t===null?w3(e,null,n,r):Dl(e,t.child,n,r)}function Gx(t,e,n,r,a){n=n.render;var i=e.ref;if("ref"in r){var s={};for(var c in r)c!=="ref"&&(s[c]=r[c])}else s=r;return Gc(e),r=Eb(t,e,n,s,i,a),c=vb(),t!==null&&!ln?(_b(t,e,a),vi(t,e,a)):(We&&c&&mb(e),e.flags|=1,pn(t,e,r,a),e.child)}function Yx(t,e,n,r,a){if(t===null){var i=n.type;return typeof i=="function"&&!hb(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,B3(t,e,i,r,a)):(t=B0(n.type,null,r,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!Cb(t,a)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:pf,n(s,r)&&t.ref===e.ref)return vi(t,e,a)}return e.flags|=1,t=yi(i,r),t.ref=e.ref,t.return=e,e.child=t}function B3(t,e,n,r,a){if(t!==null){var i=t.memoizedProps;if(pf(i,r)&&t.ref===e.ref)if(ln=!1,e.pendingProps=r=i,Cb(t,a))t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,vi(t,e,a)}return U1(t,e,n,r,a)}function R3(t,e,n){var r=e.pendingProps,a=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=i!==null?i.baseLanes|n:n,t!==null){for(a=e.child=t.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;e.childLanes=i&~r}else e.childLanes=0,e.child=null;return Kx(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&R0(e,i!==null?i.cachePool:null),i!==null?qx(e,i):S1(),E3(e);else return e.lanes=e.childLanes=536870912,Kx(t,e,i!==null?i.baseLanes|n:n,n)}else i!==null?(R0(e,i.cachePool),qx(e,i),ns(),e.memoizedState=null):(t!==null&&R0(e,null),S1(),ns());return pn(t,e,a,n),e.child}function Kx(t,e,n,r){var a=gb();return a=a===null?null:{parent:Yt._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&R0(e,null),S1(),E3(e),t!==null&&xd(t,e,r,!0),null}function C0(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(he(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function U1(t,e,n,r,a){return Gc(e),n=Eb(t,e,n,r,void 0,a),r=vb(),t!==null&&!ln?(_b(t,e,a),vi(t,e,a)):(We&&r&&mb(e),e.flags|=1,pn(t,e,n,a),e.child)}function Lx(t,e,n,r,a,i){return Gc(e),e.updateQueue=null,n=D6(e,r,n,a),H6(t),r=vb(),t!==null&&!ln?(_b(t,e,i),vi(t,e,i)):(We&&r&&mb(e),e.flags|=1,pn(t,e,n,i),e.child)}function Zx(t,e,n,r,a){if(Gc(e),e.stateNode===null){var i=Po,s=n.contextType;typeof s=="object"&&s!==null&&(i=Rn(s)),i=new n(r,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=R1,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=r,i.state=e.memoizedState,i.refs={},bb(e),s=n.contextType,i.context=typeof s=="object"&&s!==null?Rn(s):Po,i.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(zp(e,n,s,r),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(s=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),s!==i.state&&R1.enqueueReplaceState(i,i.state,null),Xu(e,r,i,a),Zu(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){i=e.stateNode;var c=e.memoizedProps,l=Kc(n,c);i.props=l;var u=i.context,p=n.contextType;s=Po,typeof p=="object"&&p!==null&&(s=Rn(p));var y=n.getDerivedStateFromProps;p=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function",c=e.pendingProps!==c,p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c||u!==s)&&zx(e,i,r,s),Li=!1;var h=e.memoizedState;i.state=h,Xu(e,r,i,a),Zu(),u=e.memoizedState,c||h!==u||Li?(typeof y=="function"&&(zp(e,n,y,r),u=e.memoizedState),(l=Li||Dx(e,n,l,r,h,u,s))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),i.props=r,i.state=u,i.context=s,r=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,_1(t,e),s=e.memoizedProps,p=Kc(n,s),i.props=p,y=e.pendingProps,h=i.context,u=n.contextType,l=Po,typeof u=="object"&&u!==null&&(l=Rn(u)),c=n.getDerivedStateFromProps,(u=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==y||h!==l)&&zx(e,i,r,l),Li=!1,h=e.memoizedState,i.state=h,Xu(e,r,i,a),Zu();var d=e.memoizedState;s!==y||h!==d||Li||t!==null&&t.dependencies!==null&&Nh(t.dependencies)?(typeof c=="function"&&(zp(e,n,c,r),d=e.memoizedState),(p=Li||Dx(e,n,p,r,h,d,l)||t!==null&&t.dependencies!==null&&Nh(t.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,d,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,d,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=d),i.props=r,i.state=d,i.context=l,r=p):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return i=r,C0(t,e),r=(e.flags&128)!==0,i||r?(i=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&r?(e.child=Dl(e,t.child,null,a),e.child=Dl(e,null,n,a)):pn(t,e,n,a),e.memoizedState=i.state,t=e.child):t=vi(t,e,a),t}function Xx(t,e,n,r){return bd(),e.flags|=256,pn(t,e,n,r),e.child}var Pp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gp(t){return{baseLanes:t,cachePool:$6()}}function Yp(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Cr),t}function O3(t,e,n){var r=e.pendingProps,a=!1,i=(e.flags&128)!==0,s;if((s=i)||(s=t!==null&&t.memoizedState===null?!1:(Zt.current&2)!==0),s&&(a=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(We){if(a?ts(e):ns(),We){var c=St,l;if(l=c){e:{for(l=c,c=xa;l.nodeType!==8;){if(!c){c=null;break e}if(l=Wr(l.nextSibling),l===null){c=null;break e}}c=l}c!==null?(e.memoizedState={dehydrated:c,treeContext:Mc!==null?{id:ci,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},l=sr(18,null,null,0),l.stateNode=c,l.return=e,e.child=l,Dn=e,St=null,l=!0):l=!1}l||Pc(e)}if(c=e.memoizedState,c!==null&&(c=c.dehydrated,c!==null))return G1(c)?e.lanes=32:e.lanes=536870912,null;ui(e)}return c=r.children,r=r.fallback,a?(ns(),a=e.mode,c=Ch({mode:"hidden",children:c},a),r=Cc(r,a,n,null),c.return=e,r.return=e,c.sibling=r,e.child=c,a=e.child,a.memoizedState=Gp(n),a.childLanes=Yp(t,s,n),e.memoizedState=Pp,r):(ts(e),C1(e,c))}if(l=t.memoizedState,l!==null&&(c=l.dehydrated,c!==null)){if(i)e.flags&256?(ts(e),e.flags&=-257,e=Kp(t,e,n)):e.memoizedState!==null?(ns(),e.child=t.child,e.flags|=128,e=null):(ns(),a=r.fallback,c=e.mode,r=Ch({mode:"visible",children:r.children},c),a=Cc(a,c,n,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,Dl(e,t.child,null,n),r=e.child,r.memoizedState=Gp(n),r.childLanes=Yp(t,s,n),e.memoizedState=Pp,e=a);else if(ts(e),G1(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(he(419)),r.stack="",r.digest=s,yf({value:r,source:null,stack:null}),e=Kp(t,e,n)}else if(ln||xd(t,e,n,!1),s=(n&t.childLanes)!==0,ln||s){if(s=pt,s!==null&&(r=n&-n,r=r&42?1:nb(r),r=r&(s.suspendedLanes|n)?0:r,r!==0&&r!==l.retryLane))throw l.retryLane=r,au(t,r),hr(s,t,r),A3;c.data==="$?"||F1(),e=Kp(t,e,n)}else c.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,St=Wr(c.nextSibling),Dn=e,We=!0,qc=null,xa=!1,t!==null&&(Sr[Tr++]=ci,Sr[Tr++]=oi,Sr[Tr++]=Mc,ci=t.id,oi=t.overflow,Mc=e),e=C1(e,r.children),e.flags|=4096);return e}return a?(ns(),a=r.fallback,c=e.mode,l=t.child,u=l.sibling,r=yi(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?a=yi(u,a):(a=Cc(a,c,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,c=t.child.memoizedState,c===null?c=Gp(n):(l=c.cachePool,l!==null?(u=Yt._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=$6(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=Yp(t,s,n),e.memoizedState=Pp,r):(ts(e),n=t.child,t=n.sibling,n=yi(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function C1(t,e){return e=Ch({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Ch(t,e){return t=sr(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Kp(t,e,n){return Dl(e,t.child,null,n),t=C1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Qx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),x1(t.return,e,n)}function Lp(t,e,n,r,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function U3(t,e,n){var r=e.pendingProps,a=r.revealOrder,i=r.tail;if(pn(t,e,r.children,n),r=Zt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qx(t,n,e);else if(t.tag===19)Qx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(Et(Zt,r),a){case"forwards":for(n=e.child,a=null;n!==null;)t=n.alternate,t!==null&&Rh(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),Lp(e,!1,a,n,i);break;case"backwards":for(n=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Rh(t)===null){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}Lp(e,!0,n,null,i);break;case"together":Lp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ks|=e.lanes,!(n&e.childLanes))if(t!==null){if(xd(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(he(153));if(e.child!==null){for(t=e.child,n=yi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Cb(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Nh(t)))}function Z7(t,e,n){switch(e.tag){case 3:yh(e,e.stateNode.containerInfo),es(e,Yt,t.memoizedState.cache),bd();break;case 27:case 5:c1(e);break;case 4:yh(e,e.stateNode.containerInfo);break;case 10:es(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(ts(e),e.flags|=128,null):n&e.child.childLanes?O3(t,e,n):(ts(e),t=vi(t,e,n),t!==null?t.sibling:null);ts(e);break;case 19:var a=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(xd(t,e,n,!1),r=(n&e.childLanes)!==0),a){if(r)return U3(t,e,n);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Et(Zt,Zt.current),r)break;return null;case 22:case 23:return e.lanes=0,R3(t,e,n);case 24:es(e,Yt,t.memoizedState.cache)}return vi(t,e,n)}function C3(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)ln=!0;else{if(!Cb(t,n)&&!(e.flags&128))return ln=!1,Z7(t,e,n);ln=!!(t.flags&131072)}else ln=!1,We&&e.flags&1048576&&q6(e,_h,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,a=r._init;if(r=a(r._payload),e.type=r,typeof r=="function")hb(r)?(t=Kc(r,t),e.tag=1,e=Zx(null,e,r,t,n)):(e.tag=0,e=U1(null,e,r,t,n));else{if(r!=null){if(a=r.$$typeof,a===Wg){e.tag=11,e=Gx(null,e,r,t,n);break e}else if(a===eb){e.tag=14,e=Yx(null,e,r,t,n);break e}}throw e=i1(r)||r,Error(he(306,e,""))}}return e;case 0:return U1(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,a=Kc(r,e.pendingProps),Zx(t,e,r,a,n);case 3:e:{if(yh(e,e.stateNode.containerInfo),t===null)throw Error(he(387));r=e.pendingProps;var i=e.memoizedState;a=i.element,_1(t,e),Xu(e,r,null,n);var s=e.memoizedState;if(r=s.cache,es(e,Yt,r),r!==i.cache&&w1(e,[Yt],n,!0),Zu(),r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=Xx(t,e,r,n);break e}else if(r!==a){a=Rr(Error(he(424)),e),yf(a),e=Xx(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(St=Wr(t.firstChild),Dn=e,We=!0,qc=null,xa=!0,n=w3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(bd(),r===a){e=vi(t,e,n);break e}pn(t,e,r,n)}e=e.child}return e;case 26:return C0(t,e),t===null?(n=mw(e.type,null,e.pendingProps,null))?e.memoizedState=n:We||(n=e.type,t=e.pendingProps,r=jh(Rs.current).createElement(n),r[Bn]=e,r[Jn]=t,wn(r,n,t),cn(r),e.stateNode=r):e.memoizedState=mw(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return c1(e),t===null&&We&&(r=e.stateNode=b8(e.type,e.pendingProps,Rs.current),Dn=e,xa=!0,a=St,Qs(e.type)?(Y1=a,St=Wr(r.firstChild)):St=a),pn(t,e,e.pendingProps.children,n),C0(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&We&&((a=r=St)&&(r=_T(r,e.type,e.pendingProps,xa),r!==null?(e.stateNode=r,Dn=e,St=Wr(r.firstChild),xa=!1,a=!0):a=!1),a||Pc(e)),c1(e),a=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,r=i.children,z1(a,i)?r=null:s!==null&&z1(a,s)&&(e.flags|=32),e.memoizedState!==null&&(a=Eb(t,e,H7,null,null,n),vf._currentValue=a),C0(t,e),pn(t,e,r,n),e.child;case 6:return t===null&&We&&((t=n=St)&&(n=NT(n,e.pendingProps,xa),n!==null?(e.stateNode=n,Dn=e,St=null,t=!0):t=!1),t||Pc(e)),null;case 13:return O3(t,e,n);case 4:return yh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Dl(e,null,r,n):pn(t,e,r,n),e.child;case 11:return Gx(t,e,e.type,e.pendingProps,n);case 7:return pn(t,e,e.pendingProps,n),e.child;case 8:return pn(t,e,e.pendingProps.children,n),e.child;case 12:return pn(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,es(e,e.type,r.value),pn(t,e,r.children,n),e.child;case 9:return a=e.type._context,r=e.pendingProps.children,Gc(e),a=Rn(a),r=r(a),e.flags|=1,pn(t,e,r,n),e.child;case 14:return Yx(t,e,e.type,e.pendingProps,n);case 15:return B3(t,e,e.type,e.pendingProps,n);case 19:return U3(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=Ch(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=yi(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return R3(t,e,n);case 24:return Gc(e),r=Rn(Yt),t===null?(a=gb(),a===null&&(a=pt,i=yb(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=n),a=i),e.memoizedState={parent:r,cache:a},bb(e),es(e,Yt,a)):(t.lanes&n&&(_1(t,e),Xu(e,null,null,n),Zu()),a=t.memoizedState,i=e.memoizedState,a.parent!==r?(a={parent:r,cache:r},e.memoizedState=a,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=a),es(e,Yt,r)):(r=i.cache,es(e,Yt,r),r!==a.cache&&w1(e,[Yt],n,!0))),pn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(he(156,e.tag))}function Va(t){t.flags|=4}function Jx(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!E8(e)){if(e=Mr.current,e!==null&&((Ze&4194048)===Ze?Ua!==null:(Ze&62914560)!==Ze&&!(Ze&536870912)||e!==Ua))throw Ku=v1,k6;t.flags|=8192}}function Qd(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?a6():536870912,t.lanes|=e,zl|=e)}function vu(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&65011712,r|=a.flags&65011712,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function X7(t,e,n){var r=e.pendingProps;switch(pb(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(e),null;case 1:return vt(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),gi(Yt),$l(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(wu(e)?Va(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bx())),vt(e),null;case 26:return n=e.memoizedState,t===null?(Va(e),n!==null?(vt(e),Jx(e,n)):(vt(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Va(e),vt(e),Jx(e,n)):(vt(e),e.flags&=-16777217):(t.memoizedProps!==r&&Va(e),vt(e),e.flags&=-16777217),null;case 27:gh(e),n=Rs.current;var a=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Va(e);else{if(!r){if(e.stateNode===null)throw Error(he(166));return vt(e),null}t=Ra.current,wu(e)?Tx(e):(t=b8(a,r,n),e.stateNode=t,Va(e))}return vt(e),null;case 5:if(gh(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Va(e);else{if(!r){if(e.stateNode===null)throw Error(he(166));return vt(e),null}if(t=Ra.current,wu(e))Tx(e);else{switch(a=jh(Rs.current),t){case 1:t=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?a.createElement(n,{is:r.is}):a.createElement(n)}}t[Bn]=e,t[Jn]=r;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=t;e:switch(wn(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Va(e)}}return vt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Va(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(he(166));if(t=Rs.current,wu(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,a=Dn,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}t[Bn]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||p8(t.nodeValue,n)),t||Pc(e)}else t=jh(t).createTextNode(r),t[Bn]=e,e.stateNode=t}return vt(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(a=wu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(he(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(he(317));a[Bn]=e}else bd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vt(e),a=!1}else a=Bx(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),a=!0;if(!a)return e.flags&256?(ui(e),e):(ui(e),null)}if(ui(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool);var i=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Qd(e,e.updateQueue),vt(e),null;case 4:return $l(),t===null&&Vb(e.stateNode.containerInfo),vt(e),null;case 10:return gi(e.type),vt(e),null;case 19:if(fn(Zt),a=e.memoizedState,a===null)return vt(e),null;if(r=(e.flags&128)!==0,i=a.rendering,i===null)if(r)vu(a,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Rh(t),i!==null){for(e.flags|=128,vu(a,!1),t=i.updateQueue,e.updateQueue=t,Qd(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)M6(n,t),n=n.sibling;return Et(Zt,Zt.current&1|2),e.child}t=t.sibling}a.tail!==null&&Oa()>qh&&(e.flags|=128,r=!0,vu(a,!1),e.lanes=4194304)}else{if(!r)if(t=Rh(i),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Qd(e,t),vu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!We)return vt(e),null}else 2*Oa()-a.renderingStartTime>qh&&n!==536870912&&(e.flags|=128,r=!0,vu(a,!1),e.lanes=4194304);a.isBackwards?(i.sibling=e.child,e.child=i):(t=a.last,t!==null?t.sibling=i:e.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Oa(),e.sibling=null,t=Zt.current,Et(Zt,r?t&1|2:t&1),e):(vt(e),null);case 22:case 23:return ui(e),xb(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(vt(e),e.subtreeFlags&6&&(e.flags|=8192)):vt(e),n=e.updateQueue,n!==null&&Qd(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&fn(Ic),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),gi(Yt),vt(e),null;case 25:return null;case 30:return null}throw Error(he(156,e.tag))}function Q7(t,e){switch(pb(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gi(Yt),$l(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return gh(e),null;case 13:if(ui(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(he(340));bd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fn(Zt),null;case 4:return $l(),null;case 10:return gi(e.type),null;case 22:case 23:return ui(e),xb(),t!==null&&fn(Ic),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return gi(Yt),null;case 25:return null;default:return null}}function M3(t,e){switch(pb(e),e.tag){case 3:gi(Yt),$l();break;case 26:case 27:case 5:gh(e);break;case 4:$l();break;case 13:ui(e);break;case 19:fn(Zt);break;case 10:gi(e.type);break;case 22:case 23:ui(e),xb(),t!==null&&fn(Ic);break;case 24:gi(Yt)}}function Nd(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var a=r.next;n=a;do{if((n.tag&t)===t){r=void 0;var i=n.create,s=n.inst;r=i(),s.destroy=r}n=n.next}while(n!==a)}}catch(c){ft(e,e.return,c)}}function Ys(t,e,n){try{var r=e.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var i=a.next;r=i;do{if((r.tag&t)===t){var s=r.inst,c=s.destroy;if(c!==void 0){s.destroy=void 0,a=e;var l=n,u=c;try{u()}catch(p){ft(a,l,p)}}}r=r.next}while(r!==i)}}catch(p){ft(e,e.return,p)}}function q3(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{V6(e,n)}catch(r){ft(t,t.return,r)}}}function I3(t,e,n){n.props=Kc(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){ft(t,e,r)}}function Ju(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(a){ft(t,e,a)}}function Aa(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(a){ft(t,e,a)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){ft(t,e,a)}else n.current=null}function $3(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){ft(t,t.return,a)}}function Zp(t,e,n){try{var r=t.stateNode;bT(r,t.type,n,e),r[Jn]=e}catch(a){ft(t,t.return,a)}}function k3(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qs(t.type)||t.tag===4}function Xp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||k3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function M1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gm));else if(r!==4&&(r===27&&Qs(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(M1(t,e,n),t=t.sibling;t!==null;)M1(t,e,n),t=t.sibling}function Mh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Qs(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Mh(t,e,n),t=t.sibling;t!==null;)Mh(t,e,n),t=t.sibling}function F3(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,a=e.attributes;a.length;)e.removeAttributeNode(a[0]);wn(e,r,n),e[Bn]=t,e[Jn]=n}catch(i){ft(t,t.return,i)}}var ni=!1,qt=!1,Qp=!1,Wx=typeof WeakSet=="function"?WeakSet:Set,an=null;function J7(t,e){if(t=t.containerInfo,H1=zh,t=S6(t),ub(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,c=-1,l=-1,u=0,p=0,y=t,h=null;t:for(;;){for(var d;y!==n||a!==0&&y.nodeType!==3||(c=s+a),y!==i||r!==0&&y.nodeType!==3||(l=s+r),y.nodeType===3&&(s+=y.nodeValue.length),(d=y.firstChild)!==null;)h=y,y=d;for(;;){if(y===t)break t;if(h===n&&++u===a&&(c=s),h===i&&++p===r&&(l=s),(d=y.nextSibling)!==null)break;y=h,h=y.parentNode}y=d}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(D1={focusedElem:t,selectionRange:n},zh=!1,an=e;an!==null;)if(e=an,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,an=t;else for(;an!==null;){switch(e=an,i=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,a=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var f=Kc(n.type,a,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(f,i),r.__reactInternalSnapshotBeforeUpdate=t}catch(A){ft(n,n.return,A)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)P1(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":P1(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(he(163))}if(t=e.sibling,t!==null){t.return=e.return,an=t;break}an=e.return}}function j3(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ci(t,n),r&4&&Nd(5,n);break;case 1:if(Ci(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){ft(n,n.return,s)}else{var a=Kc(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(a,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){ft(n,n.return,s)}}r&64&&q3(n),r&512&&Ju(n,n.return);break;case 3:if(Ci(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{V6(t,e)}catch(s){ft(n,n.return,s)}}break;case 27:e===null&&r&4&&F3(n);case 26:case 5:Ci(t,n),e===null&&r&4&&$3(n),r&512&&Ju(n,n.return);break;case 12:Ci(t,n);break;case 13:Ci(t,n),r&4&&D3(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=cT.bind(null,n),ST(t,n))));break;case 22:if(r=n.memoizedState!==null||ni,!r){e=e!==null&&e.memoizedState!==null||qt,a=ni;var i=qt;ni=r,(qt=e)&&!i?zi(t,n,(n.subtreeFlags&8772)!==0):Ci(t,n),ni=a,qt=i}break;case 30:break;default:Ci(t,n)}}function V3(t){var e=t.alternate;e!==null&&(t.alternate=null,V3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&ab(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var bt=null,Zn=!1;function Ha(t,e,n){for(n=n.child;n!==null;)H3(t,e,n),n=n.sibling}function H3(t,e,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(hd,n)}catch{}switch(n.tag){case 26:qt||Aa(n,e),Ha(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:qt||Aa(n,e);var r=bt,a=Zn;Qs(n.type)&&(bt=n.stateNode,Zn=!1),Ha(t,e,n),nf(n.stateNode),bt=r,Zn=a;break;case 5:qt||Aa(n,e);case 6:if(r=bt,a=Zn,bt=null,Ha(t,e,n),bt=r,Zn=a,bt!==null)if(Zn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(n.stateNode)}catch(i){ft(n,e,i)}else try{bt.removeChild(n.stateNode)}catch(i){ft(n,e,i)}break;case 18:bt!==null&&(Zn?(t=bt,fw(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Sf(t)):fw(bt,n.stateNode));break;case 4:r=bt,a=Zn,bt=n.stateNode.containerInfo,Zn=!0,Ha(t,e,n),bt=r,Zn=a;break;case 0:case 11:case 14:case 15:qt||Ys(2,n,e),qt||Ys(4,n,e),Ha(t,e,n);break;case 1:qt||(Aa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&I3(n,e,r)),Ha(t,e,n);break;case 21:Ha(t,e,n);break;case 22:qt=(r=qt)||n.memoizedState!==null,Ha(t,e,n),qt=r;break;default:Ha(t,e,n)}}function D3(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Sf(t)}catch(n){ft(e,e.return,n)}}function W7(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Wx),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Wx),e;default:throw Error(he(435,t.tag))}}function Jp(t,e){var n=W7(t);e.forEach(function(r){var a=oT.bind(null,t,r);n.has(r)||(n.add(r),r.then(a,a))})}function er(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],i=t,s=e,c=s;e:for(;c!==null;){switch(c.tag){case 27:if(Qs(c.type)){bt=c.stateNode,Zn=!1;break e}break;case 5:bt=c.stateNode,Zn=!1;break e;case 3:case 4:bt=c.stateNode.containerInfo,Zn=!0;break e}c=c.return}if(bt===null)throw Error(he(160));H3(i,s,a),bt=null,Zn=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)z3(e,t),e=e.sibling}var Kr=null;function z3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:er(e,t),tr(t),r&4&&(Ys(3,t,t.return),Nd(3,t),Ys(5,t,t.return));break;case 1:er(e,t),tr(t),r&512&&(qt||n===null||Aa(n,n.return)),r&64&&ni&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=Kr;if(er(e,t),tr(t),r&512&&(qt||n===null||Aa(n,n.return)),r&4){var i=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":i=a.getElementsByTagName("title")[0],(!i||i[yd]||i[Bn]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(r),a.head.insertBefore(i,a.querySelector("head > title"))),wn(i,r,n),i[Bn]=t,cn(i),r=i;break e;case"link":var s=yw("link","href",a).get(r+(n.href||""));if(s){for(var c=0;c<s.length;c++)if(i=s[c],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break t}}i=a.createElement(r),wn(i,r,n),a.head.appendChild(i);break;case"meta":if(s=yw("meta","content",a).get(r+(n.content||""))){for(c=0;c<s.length;c++)if(i=s[c],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(c,1);break t}}i=a.createElement(r),wn(i,r,n),a.head.appendChild(i);break;default:throw Error(he(468,r))}i[Bn]=t,cn(i),r=i}t.stateNode=r}else gw(a,t.type,t.stateNode);else t.stateNode=pw(a,r,t.memoizedProps);else i!==r?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,r===null?gw(a,t.type,t.stateNode):pw(a,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Zp(t,t.memoizedProps,n.memoizedProps)}break;case 27:er(e,t),tr(t),r&512&&(qt||n===null||Aa(n,n.return)),n!==null&&r&4&&Zp(t,t.memoizedProps,n.memoizedProps);break;case 5:if(er(e,t),tr(t),r&512&&(qt||n===null||Aa(n,n.return)),t.flags&32){a=t.stateNode;try{Fl(a,"")}catch(d){ft(t,t.return,d)}}r&4&&t.stateNode!=null&&(a=t.memoizedProps,Zp(t,a,n!==null?n.memoizedProps:a)),r&1024&&(Qp=!0);break;case 6:if(er(e,t),tr(t),r&4){if(t.stateNode===null)throw Error(he(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(d){ft(t,t.return,d)}}break;case 3:if(I0=null,a=Kr,Kr=Vh(e.containerInfo),er(e,t),Kr=a,tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sf(e.containerInfo)}catch(d){ft(t,t.return,d)}Qp&&(Qp=!1,P3(t));break;case 4:r=Kr,Kr=Vh(t.stateNode.containerInfo),er(e,t),tr(t),Kr=r;break;case 12:er(e,t),tr(t);break;case 13:er(e,t),tr(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(kb=Oa()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Jp(t,r)));break;case 22:a=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=ni,p=qt;if(ni=u||a,qt=p||l,er(e,t),qt=p,ni=u,tr(t),r&8192)e:for(e=t.stateNode,e._visibility=a?e._visibility&-2:e._visibility|1,a&&(n===null||l||ni||qt||ac(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(i=l.stateNode,a)s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{c=l.stateNode;var y=l.memoizedProps.style,h=y!=null&&y.hasOwnProperty("display")?y.display:null;c.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(d){ft(l,l.return,d)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=a?"":l.memoizedProps}catch(d){ft(l,l.return,d)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Jp(t,n))));break;case 19:er(e,t),tr(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Jp(t,r)));break;case 30:break;case 21:break;default:er(e,t),tr(t)}}function tr(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(k3(r)){n=r;break}r=r.return}if(n==null)throw Error(he(160));switch(n.tag){case 27:var a=n.stateNode,i=Xp(t);Mh(t,i,a);break;case 5:var s=n.stateNode;n.flags&32&&(Fl(s,""),n.flags&=-33);var c=Xp(t);Mh(t,c,s);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Xp(t);M1(t,u,l);break;default:throw Error(he(161))}}catch(p){ft(t,t.return,p)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function P3(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;P3(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ci(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)j3(t,e.alternate,e),e=e.sibling}function ac(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ys(4,e,e.return),ac(e);break;case 1:Aa(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&I3(e,e.return,n),ac(e);break;case 27:nf(e.stateNode);case 26:case 5:Aa(e,e.return),ac(e);break;case 22:e.memoizedState===null&&ac(e);break;case 30:ac(e);break;default:ac(e)}t=t.sibling}}function zi(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,a=t,i=e,s=i.flags;switch(i.tag){case 0:case 11:case 15:zi(a,i,n),Nd(4,i);break;case 1:if(zi(a,i,n),r=i,a=r.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){ft(r,r.return,u)}if(r=i,a=r.updateQueue,a!==null){var c=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(l!==null)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)j6(l[a],c)}catch(u){ft(r,r.return,u)}}n&&s&64&&q3(i),Ju(i,i.return);break;case 27:F3(i);case 26:case 5:zi(a,i,n),n&&r===null&&s&4&&$3(i),Ju(i,i.return);break;case 12:zi(a,i,n);break;case 13:zi(a,i,n),n&&s&4&&D3(a,i);break;case 22:i.memoizedState===null&&zi(a,i,n),Ju(i,i.return);break;case 30:break;default:zi(a,i,n)}e=e.sibling}}function Mb(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&wd(n))}function qb(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&wd(t))}function na(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)G3(t,e,n,r),e=e.sibling}function G3(t,e,n,r){var a=e.flags;switch(e.tag){case 0:case 11:case 15:na(t,e,n,r),a&2048&&Nd(9,e);break;case 1:na(t,e,n,r);break;case 3:na(t,e,n,r),a&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&wd(t)));break;case 12:if(a&2048){na(t,e,n,r),t=e.stateNode;try{var i=e.memoizedProps,s=i.id,c=i.onPostCommit;typeof c=="function"&&c(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){ft(e,e.return,l)}}else na(t,e,n,r);break;case 13:na(t,e,n,r);break;case 23:break;case 22:i=e.stateNode,s=e.alternate,e.memoizedState!==null?i._visibility&2?na(t,e,n,r):Wu(t,e):i._visibility&2?na(t,e,n,r):(i._visibility|=2,To(t,e,n,r,(e.subtreeFlags&10256)!==0)),a&2048&&Mb(s,e);break;case 24:na(t,e,n,r),a&2048&&qb(e.alternate,e);break;default:na(t,e,n,r)}}function To(t,e,n,r,a){for(a=a&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var i=t,s=e,c=n,l=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:To(i,s,c,l,a),Nd(8,s);break;case 23:break;case 22:var p=s.stateNode;s.memoizedState!==null?p._visibility&2?To(i,s,c,l,a):Wu(i,s):(p._visibility|=2,To(i,s,c,l,a)),a&&u&2048&&Mb(s.alternate,s);break;case 24:To(i,s,c,l,a),a&&u&2048&&qb(s.alternate,s);break;default:To(i,s,c,l,a)}e=e.sibling}}function Wu(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,a=r.flags;switch(r.tag){case 22:Wu(n,r),a&2048&&Mb(r.alternate,r);break;case 24:Wu(n,r),a&2048&&qb(r.alternate,r);break;default:Wu(n,r)}e=e.sibling}}var Cu=8192;function ho(t){if(t.subtreeFlags&Cu)for(t=t.child;t!==null;)Y3(t),t=t.sibling}function Y3(t){switch(t.tag){case 26:ho(t),t.flags&Cu&&t.memoizedState!==null&&FT(Kr,t.memoizedState,t.memoizedProps);break;case 5:ho(t);break;case 3:case 4:var e=Kr;Kr=Vh(t.stateNode.containerInfo),ho(t),Kr=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Cu,Cu=16777216,ho(t),Cu=e):ho(t));break;default:ho(t)}}function K3(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function _u(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];an=r,Z3(r,t)}K3(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)L3(t),t=t.sibling}function L3(t){switch(t.tag){case 0:case 11:case 15:_u(t),t.flags&2048&&Ys(9,t,t.return);break;case 3:_u(t);break;case 12:_u(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,M0(t)):_u(t);break;default:_u(t)}}function M0(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];an=r,Z3(r,t)}K3(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ys(8,e,e.return),M0(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,M0(e));break;default:M0(e)}t=t.sibling}}function Z3(t,e){for(;an!==null;){var n=an;switch(n.tag){case 0:case 11:case 15:Ys(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:wd(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,an=r;else e:for(n=t;an!==null;){r=an;var a=r.sibling,i=r.return;if(V3(r),r===n){an=null;break e}if(a!==null){a.return=i,an=a;break e}an=i}}}var eT={getCacheForType:function(t){var e=Rn(Yt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},tT=typeof WeakMap=="function"?WeakMap:Map,st=0,pt=null,Ve=null,Ze=0,at=0,nr=null,As=!1,iu=!1,Ib=!1,_i=0,At=0,Ks=0,$c=0,$b=0,Cr=0,zl=0,ef=null,Xn=null,q1=!1,kb=0,qh=1/0,Ih=null,Cs=null,bn=0,Ms=null,Pl=null,ul=0,I1=0,$1=null,X3=null,tf=0,k1=null;function dr(){if(st&2&&Ze!==0)return Ze&-Ze;if(Oe.T!==null){var t=jl;return t!==0?t:jb()}return c6()}function Q3(){Cr===0&&(Cr=!(Ze&536870912)||We?r6():536870912);var t=Mr.current;return t!==null&&(t.flags|=32),Cr}function hr(t,e,n){(t===pt&&(at===2||at===9)||t.cancelPendingCommit!==null)&&(Gl(t,0),Bs(t,Ze,Cr,!1)),pd(t,n),(!(st&2)||t!==pt)&&(t===pt&&(!(st&2)&&($c|=n),At===4&&Bs(t,Ze,Cr,!1)),ka(t))}function J3(t,e,n){if(st&6)throw Error(he(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||md(t,e),a=r?aT(t,e):Wp(t,e,!0),i=r;do{if(a===0){iu&&!r&&Bs(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!nT(n)){a=Wp(t,e,!1),i=!1;continue}if(a===2){if(i=e,t.errorRecoveryDisabledLanes&i)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var c=t;a=ef;var l=c.current.memoizedState.isDehydrated;if(l&&(Gl(c,s).flags|=256),s=Wp(c,s,!1),s!==2){if(Ib&&!l){c.errorRecoveryDisabledLanes|=i,$c|=i,a=4;break e}i=Xn,Xn=a,i!==null&&(Xn===null?Xn=i:Xn.push.apply(Xn,i))}a=s}if(i=!1,a!==2)continue}}if(a===1){Gl(t,0),Bs(t,e,0,!0);break}e:{switch(r=t,i=a,i){case 0:case 1:throw Error(he(345));case 4:if((e&4194048)!==e)break;case 6:Bs(r,e,Cr,!As);break e;case 2:Xn=null;break;case 3:case 5:break;default:throw Error(he(329))}if((e&62914560)===e&&(a=kb+300-Oa(),10<a)){if(Bs(r,e,Cr,!As),Cm(r,0,!0)!==0)break e;r.timeoutHandle=g8(ew.bind(null,r,n,Xn,Ih,q1,e,Cr,$c,zl,As,i,2,-0,0),a);break e}ew(r,n,Xn,Ih,q1,e,Cr,$c,zl,As,i,0,-0,0)}}break}while(!0);ka(t)}function ew(t,e,n,r,a,i,s,c,l,u,p,y,h,d){if(t.timeoutHandle=-1,y=e.subtreeFlags,(y&8192||(y&16785408)===16785408)&&(Ef={stylesheets:null,count:0,unsuspend:kT},Y3(e),y=jT(),y!==null)){t.cancelPendingCommit=y(nw.bind(null,t,e,i,n,r,a,s,c,l,p,1,h,d)),Bs(t,i,s,!u);return}nw(t,e,i,n,r,a,s,c,l)}function nT(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!mr(i(),a))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bs(t,e,n,r){e&=~$b,e&=~$c,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var a=e;0<a;){var i=31-fr(a),s=1<<i;r[i]=-1,a&=~s}n!==0&&i6(t,n,e)}function Dm(){return st&6?!0:(Sd(0),!1)}function Fb(){if(Ve!==null){if(at===0)var t=Ve.return;else t=Ve,li=lo=null,Nb(t),ll=null,bf=0,t=Ve;for(;t!==null;)M3(t.alternate,t),t=t.return;Ve=null}}function Gl(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,wT(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Fb(),pt=t,Ve=n=yi(t.current,null),Ze=e,at=0,nr=null,As=!1,iu=md(t,e),Ib=!1,zl=Cr=$b=$c=Ks=At=0,Xn=ef=null,q1=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var a=31-fr(r),i=1<<a;e|=t[a],r&=~i}return _i=e,$m(),n}function W3(t,e){ke=null,Oe.H=Bh,e===Ed||e===Fm?(e=Cx(),at=3):e===k6?(e=Cx(),at=4):at=e===A3?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,nr=e,Ve===null&&(At=1,Uh(t,Rr(e,t.current)))}function e8(){var t=Oe.H;return Oe.H=Bh,t===null?Bh:t}function t8(){var t=Oe.A;return Oe.A=eT,t}function F1(){At=4,As||(Ze&4194048)!==Ze&&Mr.current!==null||(iu=!0),!(Ks&134217727)&&!($c&134217727)||pt===null||Bs(pt,Ze,Cr,!1)}function Wp(t,e,n){var r=st;st|=2;var a=e8(),i=t8();(pt!==t||Ze!==e)&&(Ih=null,Gl(t,e)),e=!1;var s=At;e:do try{if(at!==0&&Ve!==null){var c=Ve,l=nr;switch(at){case 8:Fb(),s=6;break e;case 3:case 2:case 9:case 6:Mr.current===null&&(e=!0);var u=at;if(at=0,nr=null,Ko(t,c,l,u),n&&iu){s=0;break e}break;default:u=at,at=0,nr=null,Ko(t,c,l,u)}}rT(),s=At;break}catch(p){W3(t,p)}while(!0);return e&&t.shellSuspendCounter++,li=lo=null,st=r,Oe.H=a,Oe.A=i,Ve===null&&(pt=null,Ze=0,$m()),s}function rT(){for(;Ve!==null;)n8(Ve)}function aT(t,e){var n=st;st|=2;var r=e8(),a=t8();pt!==t||Ze!==e?(Ih=null,qh=Oa()+500,Gl(t,e)):iu=md(t,e);e:do try{if(at!==0&&Ve!==null){e=Ve;var i=nr;t:switch(at){case 1:at=0,nr=null,Ko(t,e,i,1);break;case 2:case 9:if(Ux(i)){at=0,nr=null,tw(e);break}e=function(){at!==2&&at!==9||pt!==t||(at=7),ka(t)},i.then(e,e);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Ux(i)?(at=0,nr=null,tw(e)):(at=0,nr=null,Ko(t,e,i,7));break;case 5:var s=null;switch(Ve.tag){case 26:s=Ve.memoizedState;case 5:case 27:var c=Ve;if(!s||E8(s)){at=0,nr=null;var l=c.sibling;if(l!==null)Ve=l;else{var u=c.return;u!==null?(Ve=u,zm(u)):Ve=null}break t}}at=0,nr=null,Ko(t,e,i,5);break;case 6:at=0,nr=null,Ko(t,e,i,6);break;case 8:Fb(),At=6;break e;default:throw Error(he(462))}}iT();break}catch(p){W3(t,p)}while(!0);return li=lo=null,Oe.H=r,Oe.A=a,st=n,Ve!==null?0:(pt=null,Ze=0,$m(),At)}function iT(){for(;Ve!==null&&!AS();)n8(Ve)}function n8(t){var e=C3(t.alternate,t,_i);t.memoizedProps=t.pendingProps,e===null?zm(t):Ve=e}function tw(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Lx(n,e,e.pendingProps,e.type,void 0,Ze);break;case 11:e=Lx(n,e,e.pendingProps,e.type.render,e.ref,Ze);break;case 5:Nb(e);default:M3(n,e),e=Ve=M6(e,_i),e=C3(n,e,_i)}t.memoizedProps=t.pendingProps,e===null?zm(t):Ve=e}function Ko(t,e,n,r){li=lo=null,Nb(e),ll=null,bf=0;var a=e.return;try{if(L7(t,a,e,n,Ze)){At=1,Uh(t,Rr(n,t.current)),Ve=null;return}}catch(i){if(a!==null)throw Ve=a,i;At=1,Uh(t,Rr(n,t.current)),Ve=null;return}e.flags&32768?(We||r===1?t=!0:iu||Ze&536870912?t=!1:(As=t=!0,(r===2||r===9||r===3||r===6)&&(r=Mr.current,r!==null&&r.tag===13&&(r.flags|=16384))),r8(e,t)):zm(e)}function zm(t){var e=t;do{if(e.flags&32768){r8(e,As);return}t=e.return;var n=X7(e.alternate,e,_i);if(n!==null){Ve=n;return}if(e=e.sibling,e!==null){Ve=e;return}Ve=e=t}while(e!==null);At===0&&(At=5)}function r8(t,e){do{var n=Q7(t.alternate,t);if(n!==null){n.flags&=32767,Ve=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=n}while(t!==null);At=6,Ve=null}function nw(t,e,n,r,a,i,s,c,l){t.cancelPendingCommit=null;do Pm();while(bn!==0);if(st&6)throw Error(he(327));if(e!==null){if(e===t.current)throw Error(he(177));if(i=e.lanes|e.childLanes,i|=fb,kS(t,n,i,s,c,l),t===pt&&(Ve=pt=null,Ze=0),Pl=e,Ms=t,ul=n,I1=i,$1=a,X3=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,lT(bh,function(){return o8(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=Oe.T,Oe.T=null,a=tt.p,tt.p=2,s=st,st|=4;try{J7(t,e,n)}finally{st=s,tt.p=a,Oe.T=r}}bn=1,a8(),i8(),s8()}}function a8(){if(bn===1){bn=0;var t=Ms,e=Pl,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Oe.T,Oe.T=null;var r=tt.p;tt.p=2;var a=st;st|=4;try{z3(e,t);var i=D1,s=S6(t.containerInfo),c=i.focusedElem,l=i.selectionRange;if(s!==c&&c&&c.ownerDocument&&N6(c.ownerDocument.documentElement,c)){if(l!==null&&ub(c)){var u=l.start,p=l.end;if(p===void 0&&(p=u),"selectionStart"in c)c.selectionStart=u,c.selectionEnd=Math.min(p,c.value.length);else{var y=c.ownerDocument||document,h=y&&y.defaultView||window;if(h.getSelection){var d=h.getSelection(),f=c.textContent.length,A=Math.min(l.start,f),N=l.end===void 0?A:Math.min(l.end,f);!d.extend&&A>N&&(s=N,N=A,A=s);var v=_x(c,A),x=_x(c,N);if(v&&x&&(d.rangeCount!==1||d.anchorNode!==v.node||d.anchorOffset!==v.offset||d.focusNode!==x.node||d.focusOffset!==x.offset)){var _=y.createRange();_.setStart(v.node,v.offset),d.removeAllRanges(),A>N?(d.addRange(_),d.extend(x.node,x.offset)):(_.setEnd(x.node,x.offset),d.addRange(_))}}}}for(y=[],d=c;d=d.parentNode;)d.nodeType===1&&y.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<y.length;c++){var M=y[c];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}zh=!!H1,D1=H1=null}finally{st=a,tt.p=r,Oe.T=n}}t.current=e,bn=2}}function i8(){if(bn===2){bn=0;var t=Ms,e=Pl,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Oe.T,Oe.T=null;var r=tt.p;tt.p=2;var a=st;st|=4;try{j3(t,e.alternate,e)}finally{st=a,tt.p=r,Oe.T=n}}bn=3}}function s8(){if(bn===4||bn===3){bn=0,BS();var t=Ms,e=Pl,n=ul,r=X3;e.subtreeFlags&10256||e.flags&10256?bn=5:(bn=0,Pl=Ms=null,c8(t,t.pendingLanes));var a=t.pendingLanes;if(a===0&&(Cs=null),rb(n),e=e.stateNode,ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(hd,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=Oe.T,a=tt.p,tt.p=2,Oe.T=null;try{for(var i=t.onRecoverableError,s=0;s<r.length;s++){var c=r[s];i(c.value,{componentStack:c.stack})}}finally{Oe.T=e,tt.p=a}}ul&3&&Pm(),ka(t),a=t.pendingLanes,n&4194090&&a&42?t===k1?tf++:(tf=0,k1=t):tf=0,Sd(0)}}function c8(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,wd(e)))}function Pm(t){return a8(),i8(),s8(),o8()}function o8(){if(bn!==5)return!1;var t=Ms,e=I1;I1=0;var n=rb(ul),r=Oe.T,a=tt.p;try{tt.p=32>n?32:n,Oe.T=null,n=$1,$1=null;var i=Ms,s=ul;if(bn=0,Pl=Ms=null,ul=0,st&6)throw Error(he(331));var c=st;if(st|=4,L3(i.current),G3(i,i.current,s,n),st=c,Sd(0,!1),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(hd,i)}catch{}return!0}finally{tt.p=a,Oe.T=r,c8(t,e)}}function rw(t,e,n){e=Rr(n,e),e=O1(t.stateNode,e,2),t=Us(t,e,2),t!==null&&(pd(t,2),ka(t))}function ft(t,e,n){if(t.tag===3)rw(t,t,n);else for(;e!==null;){if(e.tag===3){rw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cs===null||!Cs.has(r))){t=Rr(n,t),n=S3(2),r=Us(e,n,2),r!==null&&(T3(n,r,e,t),pd(r,2),ka(r));break}}e=e.return}}function ey(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tT;var a=new Set;r.set(e,a)}else a=r.get(e),a===void 0&&(a=new Set,r.set(e,a));a.has(n)||(Ib=!0,a.add(n),t=sT.bind(null,t,e,n),e.then(t,t))}function sT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,pt===t&&(Ze&n)===n&&(At===4||At===3&&(Ze&62914560)===Ze&&300>Oa()-kb?!(st&2)&&Gl(t,0):$b|=n,zl===Ze&&(zl=0)),ka(t)}function l8(t,e){e===0&&(e=a6()),t=au(t,e),t!==null&&(pd(t,e),ka(t))}function cT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),l8(t,n)}function oT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(he(314))}r!==null&&r.delete(e),l8(t,n)}function lT(t,e){return tb(t,e)}var $h=null,Ao=null,j1=!1,kh=!1,ty=!1,kc=0;function ka(t){t!==Ao&&t.next===null&&(Ao===null?$h=Ao=t:Ao=Ao.next=t),kh=!0,j1||(j1=!0,fT())}function Sd(t,e){if(!ty&&kh){ty=!0;do for(var n=!1,r=$h;r!==null;){if(t!==0){var a=r.pendingLanes;if(a===0)var i=0;else{var s=r.suspendedLanes,c=r.pingedLanes;i=(1<<31-fr(42|t)+1)-1,i&=a&~(s&~c),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,aw(r,i))}else i=Ze,i=Cm(r,r===pt?i:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(i&3)||md(r,i)||(n=!0,aw(r,i));r=r.next}while(n);ty=!1}}function uT(){u8()}function u8(){kh=j1=!1;var t=0;kc!==0&&(xT()&&(t=kc),kc=0);for(var e=Oa(),n=null,r=$h;r!==null;){var a=r.next,i=f8(r,e);i===0?(r.next=null,n===null?$h=a:n.next=a,a===null&&(Ao=n)):(n=r,(t!==0||i&3)&&(kh=!0)),r=a}Sd(t)}function f8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var s=31-fr(i),c=1<<s,l=a[s];l===-1?(!(c&n)||c&r)&&(a[s]=$S(c,e)):l<=e&&(t.expiredLanes|=c),i&=~c}if(e=pt,n=Ze,n=Cm(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(at===2||at===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Ap(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||md(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Ap(r),rb(n)){case 2:case 8:n=t6;break;case 32:n=bh;break;case 268435456:n=n6;break;default:n=bh}return r=d8.bind(null,t),n=tb(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Ap(r),t.callbackPriority=2,t.callbackNode=null,2}function d8(t,e){if(bn!==0&&bn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Pm()&&t.callbackNode!==n)return null;var r=Ze;return r=Cm(t,t===pt?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(J3(t,r,e),f8(t,Oa()),t.callbackNode!=null&&t.callbackNode===n?d8.bind(null,t):null)}function aw(t,e){if(Pm())return null;J3(t,e,!0)}function fT(){ET(function(){st&6?tb(e6,uT):u8()})}function jb(){return kc===0&&(kc=r6()),kc}function iw(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:S0(""+t)}function sw(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function dT(t,e,n,r,a){if(e==="submit"&&n&&n.stateNode===a){var i=iw((a[Jn]||null).action),s=r.submitter;s&&(e=(e=s[Jn]||null)?iw(e.formAction):s.getAttribute("formAction"),e!==null&&(i=e,s=null));var c=new Mm("action","action",null,r,a);t.push({event:c,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(kc!==0){var l=s?sw(a,s):new FormData(a);B1(n,{pending:!0,data:l,method:a.method,action:i},null,l)}}else typeof i=="function"&&(c.preventDefault(),l=s?sw(a,s):new FormData(a),B1(n,{pending:!0,data:l,method:a.method,action:i},i,l))},currentTarget:a}]})}}for(var ny=0;ny<y1.length;ny++){var ry=y1[ny],hT=ry.toLowerCase(),mT=ry[0].toUpperCase()+ry.slice(1);ta(hT,"on"+mT)}ta(A6,"onAnimationEnd");ta(B6,"onAnimationIteration");ta(R6,"onAnimationStart");ta("dblclick","onDoubleClick");ta("focusin","onFocus");ta("focusout","onBlur");ta(U7,"onTransitionRun");ta(C7,"onTransitionStart");ta(M7,"onTransitionCancel");ta(O6,"onTransitionEnd");kl("onMouseEnter",["mouseout","mouseover"]);kl("onMouseLeave",["mouseout","mouseover"]);kl("onPointerEnter",["pointerout","pointerover"]);kl("onPointerLeave",["pointerout","pointerover"]);so("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));so("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));so("onBeforeInput",["compositionend","keypress","textInput","paste"]);so("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));so("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));so("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xf));function h8(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],a=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var c=r[s],l=c.instance,u=c.currentTarget;if(c=c.listener,l!==i&&a.isPropagationStopped())break e;i=c,a.currentTarget=u;try{i(a)}catch(p){Oh(p)}a.currentTarget=null,i=l}else for(s=0;s<r.length;s++){if(c=r[s],l=c.instance,u=c.currentTarget,c=c.listener,l!==i&&a.isPropagationStopped())break e;i=c,a.currentTarget=u;try{i(a)}catch(p){Oh(p)}a.currentTarget=null,i=l}}}}function Fe(t,e){var n=e[l1];n===void 0&&(n=e[l1]=new Set);var r=t+"__bubble";n.has(r)||(m8(e,t,2,!1),n.add(r))}function ay(t,e,n){var r=0;e&&(r|=4),m8(n,t,r,e)}var Jd="_reactListening"+Math.random().toString(36).slice(2);function Vb(t){if(!t[Jd]){t[Jd]=!0,o6.forEach(function(n){n!=="selectionchange"&&(pT.has(n)||ay(n,!1,t),ay(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jd]||(e[Jd]=!0,ay("selectionchange",!1,e))}}function m8(t,e,n,r){switch(T8(e)){case 2:var a=DT;break;case 8:a=zT;break;default:a=Pb}n=a.bind(null,e,n,t),a=void 0,!h1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),r?a!==void 0?t.addEventListener(e,n,{capture:!0,passive:a}):t.addEventListener(e,n,!0):a!==void 0?t.addEventListener(e,n,{passive:a}):t.addEventListener(e,n,!1)}function iy(t,e,n,r,a){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===a)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===a)return;s=s.return}for(;c!==null;){if(s=Fo(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=i=s;continue e}c=c.parentNode}}r=r.return}y6(function(){var u=i,p=sb(n),y=[];e:{var h=U6.get(t);if(h!==void 0){var d=Mm,f=t;switch(t){case"keypress":if(A0(n)===0)break e;case"keydown":case"keyup":d=l7;break;case"focusin":f="focus",d=Ip;break;case"focusout":f="blur",d=Ip;break;case"beforeblur":case"afterblur":d=Ip;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=hx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=QS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=d7;break;case A6:case B6:case R6:d=e7;break;case O6:d=m7;break;case"scroll":case"scrollend":d=ZS;break;case"wheel":d=y7;break;case"copy":case"cut":case"paste":d=n7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=px;break;case"toggle":case"beforetoggle":d=b7}var A=(e&4)!==0,N=!A&&(t==="scroll"||t==="scrollend"),v=A?h!==null?h+"Capture":null:h;A=[];for(var x=u,_;x!==null;){var M=x;if(_=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||_===null||v===null||(M=hf(x,v),M!=null&&A.push(wf(x,M,_))),N)break;x=x.return}0<A.length&&(h=new d(h,f,null,n,p),y.push({event:h,listeners:A}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&n!==d1&&(f=n.relatedTarget||n.fromElement)&&(Fo(f)||f[nu]))break e;if((d||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,d?(f=n.relatedTarget||n.toElement,d=u,f=f?Fo(f):null,f!==null&&(N=dd(f),A=f.tag,f!==N||A!==5&&A!==27&&A!==6)&&(f=null)):(d=null,f=u),d!==f)){if(A=hx,M="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(A=px,M="onPointerLeave",v="onPointerEnter",x="pointer"),N=d==null?h:Uu(d),_=f==null?h:Uu(f),h=new A(M,x+"leave",d,n,p),h.target=N,h.relatedTarget=_,M=null,Fo(p)===u&&(A=new A(v,x+"enter",f,n,p),A.target=_,A.relatedTarget=N,M=A),N=M,d&&f)t:{for(A=d,v=f,x=0,_=A;_;_=mo(_))x++;for(_=0,M=v;M;M=mo(M))_++;for(;0<x-_;)A=mo(A),x--;for(;0<_-x;)v=mo(v),_--;for(;x--;){if(A===v||v!==null&&A===v.alternate)break t;A=mo(A),v=mo(v)}A=null}else A=null;d!==null&&cw(y,h,d,A,!1),f!==null&&N!==null&&cw(y,N,f,A,!0)}}e:{if(h=u?Uu(u):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var S=xx;else if(bx(h))if(v6)S=B7;else{S=T7;var H=S7}else d=h.nodeName,!d||d.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&ib(u.elementType)&&(S=xx):S=A7;if(S&&(S=S(t,u))){E6(y,S,n,p);break e}H&&H(t,h,u),t==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&f1(h,"number",h.value)}switch(H=u?Uu(u):window,t){case"focusin":(bx(H)||H.contentEditable==="true")&&(Ho=H,m1=u,Gu=null);break;case"focusout":Gu=m1=Ho=null;break;case"mousedown":p1=!0;break;case"contextmenu":case"mouseup":case"dragend":p1=!1,Nx(y,n,p);break;case"selectionchange":if(O7)break;case"keydown":case"keyup":Nx(y,n,p)}var z;if(lb)e:{switch(t){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else Vo?x6(t,n)&&(K="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(K="onCompositionStart");K&&(b6&&n.locale!=="ko"&&(Vo||K!=="onCompositionStart"?K==="onCompositionEnd"&&Vo&&(z=g6()):(Ts=p,cb="value"in Ts?Ts.value:Ts.textContent,Vo=!0)),H=Fh(u,K),0<H.length&&(K=new mx(K,t,null,n,p),y.push({event:K,listeners:H}),z?K.data=z:(z=w6(n),z!==null&&(K.data=z)))),(z=w7?E7(t,n):v7(t,n))&&(K=Fh(u,"onBeforeInput"),0<K.length&&(H=new mx("onBeforeInput","beforeinput",null,n,p),y.push({event:H,listeners:K}),H.data=z)),dT(y,t,u,n,p)}h8(y,e)})}function wf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fh(t,e){for(var n=e+"Capture",r=[];t!==null;){var a=t,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=hf(t,n),a!=null&&r.unshift(wf(t,a,i)),a=hf(t,e),a!=null&&r.push(wf(t,a,i))),t.tag===3)return r;t=t.return}return[]}function mo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cw(t,e,n,r,a){for(var i=e._reactName,s=[];n!==null&&n!==r;){var c=n,l=c.alternate,u=c.stateNode;if(c=c.tag,l!==null&&l===r)break;c!==5&&c!==26&&c!==27||u===null||(l=u,a?(u=hf(n,i),u!=null&&s.unshift(wf(n,u,l))):a||(u=hf(n,i),u!=null&&s.push(wf(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var yT=/\r\n?/g,gT=/\u0000|\uFFFD/g;function ow(t){return(typeof t=="string"?t:""+t).replace(yT,`
`).replace(gT,"")}function p8(t,e){return e=ow(e),ow(t)===e}function Gm(){}function ot(t,e,n,r,a,i){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Fl(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Fl(t,""+r);break;case"className":Gd(t,"class",r);break;case"tabIndex":Gd(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Gd(t,n,r);break;case"style":p6(t,r,i);break;case"data":if(e!=="object"){Gd(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=S0(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&ot(t,e,"name",a.name,a,null),ot(t,e,"formEncType",a.formEncType,a,null),ot(t,e,"formMethod",a.formMethod,a,null),ot(t,e,"formTarget",a.formTarget,a,null)):(ot(t,e,"encType",a.encType,a,null),ot(t,e,"method",a.method,a,null),ot(t,e,"target",a.target,a,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=S0(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Gm);break;case"onScroll":r!=null&&Fe("scroll",t);break;case"onScrollEnd":r!=null&&Fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(he(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(he(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=S0(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":Fe("beforetoggle",t),Fe("toggle",t),N0(t,"popover",r);break;case"xlinkActuate":ja(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ja(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ja(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ja(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ja(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ja(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ja(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ja(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ja(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":N0(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=KS.get(n)||n,N0(t,n,r))}}function V1(t,e,n,r,a,i){switch(n){case"style":p6(t,r,i);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(he(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(he(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Fl(t,r):(typeof r=="number"||typeof r=="bigint")&&Fl(t,""+r);break;case"onScroll":r!=null&&Fe("scroll",t);break;case"onScrollEnd":r!=null&&Fe("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Gm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!l6.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),e=n.slice(2,a?n.length-7:void 0),i=t[Jn]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,a),typeof r=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,a);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):N0(t,n,r)}}}function wn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",t),Fe("load",t);var r=!1,a=!1,i;for(i in n)if(n.hasOwnProperty(i)){var s=n[i];if(s!=null)switch(i){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(he(137,e));default:ot(t,e,i,s,n,null)}}a&&ot(t,e,"srcSet",n.srcSet,n,null),r&&ot(t,e,"src",n.src,n,null);return;case"input":Fe("invalid",t);var c=i=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var p=n[r];if(p!=null)switch(r){case"name":a=p;break;case"type":s=p;break;case"checked":l=p;break;case"defaultChecked":u=p;break;case"value":i=p;break;case"defaultValue":c=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(he(137,e));break;default:ot(t,e,r,p,n,null)}}d6(t,i,c,l,u,s,a,!1),xh(t);return;case"select":Fe("invalid",t),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case"value":i=c;break;case"defaultValue":s=c;break;case"multiple":r=c;default:ot(t,e,a,c,n,null)}e=i,n=s,t.multiple=!!r,e!=null?al(t,!!r,e,!1):n!=null&&al(t,!!r,n,!0);return;case"textarea":Fe("invalid",t),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case"value":r=c;break;case"defaultValue":a=c;break;case"children":i=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(he(91));break;default:ot(t,e,s,c,n,null)}m6(t,r,a,i),xh(t);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ot(t,e,l,r,n,null)}return;case"dialog":Fe("beforetoggle",t),Fe("toggle",t),Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":Fe("load",t);break;case"video":case"audio":for(r=0;r<xf.length;r++)Fe(xf[r],t);break;case"image":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"embed":case"source":case"link":Fe("error",t),Fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(he(137,e));default:ot(t,e,u,r,n,null)}return;default:if(ib(e)){for(p in n)n.hasOwnProperty(p)&&(r=n[p],r!==void 0&&V1(t,e,p,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&ot(t,e,c,r,n,null))}function bT(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,s=null,c=null,l=null,u=null,p=null;for(d in n){var y=n[d];if(n.hasOwnProperty(d)&&y!=null)switch(d){case"checked":break;case"value":break;case"defaultValue":l=y;default:r.hasOwnProperty(d)||ot(t,e,d,null,r,y)}}for(var h in r){var d=r[h];if(y=n[h],r.hasOwnProperty(h)&&(d!=null||y!=null))switch(h){case"type":i=d;break;case"name":a=d;break;case"checked":u=d;break;case"defaultChecked":p=d;break;case"value":s=d;break;case"defaultValue":c=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(he(137,e));break;default:d!==y&&ot(t,e,h,d,r,y)}}u1(t,s,c,l,u,p,i,a);return;case"select":d=s=c=h=null;for(i in n)if(l=n[i],n.hasOwnProperty(i)&&l!=null)switch(i){case"value":break;case"multiple":d=l;default:r.hasOwnProperty(i)||ot(t,e,i,null,r,l)}for(a in r)if(i=r[a],l=n[a],r.hasOwnProperty(a)&&(i!=null||l!=null))switch(a){case"value":h=i;break;case"defaultValue":c=i;break;case"multiple":s=i;default:i!==l&&ot(t,e,a,i,r,l)}e=c,n=s,r=d,h!=null?al(t,!!n,h,!1):!!r!=!!n&&(e!=null?al(t,!!n,e,!0):al(t,!!n,n?[]:"",!1));return;case"textarea":d=h=null;for(c in n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:ot(t,e,c,null,r,a)}for(s in r)if(a=r[s],i=n[s],r.hasOwnProperty(s)&&(a!=null||i!=null))switch(s){case"value":h=a;break;case"defaultValue":d=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(he(91));break;default:a!==i&&ot(t,e,s,a,r,i)}h6(t,h,d);return;case"option":for(var f in n)if(h=n[f],n.hasOwnProperty(f)&&h!=null&&!r.hasOwnProperty(f))switch(f){case"selected":t.selected=!1;break;default:ot(t,e,f,null,r,h)}for(l in r)if(h=r[l],d=n[l],r.hasOwnProperty(l)&&h!==d&&(h!=null||d!=null))switch(l){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ot(t,e,l,h,r,d)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var A in n)h=n[A],n.hasOwnProperty(A)&&h!=null&&!r.hasOwnProperty(A)&&ot(t,e,A,null,r,h);for(u in r)if(h=r[u],d=n[u],r.hasOwnProperty(u)&&h!==d&&(h!=null||d!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(he(137,e));break;default:ot(t,e,u,h,r,d)}return;default:if(ib(e)){for(var N in n)h=n[N],n.hasOwnProperty(N)&&h!==void 0&&!r.hasOwnProperty(N)&&V1(t,e,N,void 0,r,h);for(p in r)h=r[p],d=n[p],!r.hasOwnProperty(p)||h===d||h===void 0&&d===void 0||V1(t,e,p,h,r,d);return}}for(var v in n)h=n[v],n.hasOwnProperty(v)&&h!=null&&!r.hasOwnProperty(v)&&ot(t,e,v,null,r,h);for(y in r)h=r[y],d=n[y],!r.hasOwnProperty(y)||h===d||h==null&&d==null||ot(t,e,y,h,r,d)}var H1=null,D1=null;function jh(t){return t.nodeType===9?t:t.ownerDocument}function lw(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y8(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function z1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sy=null;function xT(){var t=window.event;return t&&t.type==="popstate"?t===sy?!1:(sy=t,!0):(sy=null,!1)}var g8=typeof setTimeout=="function"?setTimeout:void 0,wT=typeof clearTimeout=="function"?clearTimeout:void 0,uw=typeof Promise=="function"?Promise:void 0,ET=typeof queueMicrotask=="function"?queueMicrotask:typeof uw<"u"?function(t){return uw.resolve(null).then(t).catch(vT)}:g8;function vT(t){setTimeout(function(){throw t})}function Qs(t){return t==="head"}function fw(t,e){var n=e,r=0,a=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(0<r&&8>r){n=r;var s=t.ownerDocument;if(n&1&&nf(s.documentElement),n&2&&nf(s.body),n&4)for(n=s.head,nf(n),s=n.firstChild;s;){var c=s.nextSibling,l=s.nodeName;s[yd]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=c}}if(a===0){t.removeChild(i),Sf(e);return}a--}else n==="$"||n==="$?"||n==="$!"?a++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Sf(e)}function P1(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":P1(n),ab(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function _T(t,e,n,r){for(;t.nodeType===1;){var a=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[yd])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==a.rel||t.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||t.getAttribute("title")!==(a.title==null?null:a.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(a.src==null?null:a.src)||t.getAttribute("type")!==(a.type==null?null:a.type)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=Wr(t.nextSibling),t===null)break}return null}function NT(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Wr(t.nextSibling),t===null))return null;return t}function G1(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function ST(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Wr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Y1=null;function dw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function b8(t,e,n){switch(e=jh(n),t){case"html":if(t=e.documentElement,!t)throw Error(he(452));return t;case"head":if(t=e.head,!t)throw Error(he(453));return t;case"body":if(t=e.body,!t)throw Error(he(454));return t;default:throw Error(he(451))}}function nf(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);ab(t)}var qr=new Map,hw=new Set;function Vh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ai=tt.d;tt.d={f:TT,r:AT,D:BT,C:RT,L:OT,m:UT,X:MT,S:CT,M:qT};function TT(){var t=Ai.f(),e=Dm();return t||e}function AT(t){var e=ru(t);e!==null&&e.tag===5&&e.type==="form"?f3(e):Ai.r(t)}var su=typeof document>"u"?null:document;function x8(t,e,n){var r=su;if(r&&typeof e=="string"&&e){var a=Br(e);a='link[rel="'+t+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),hw.has(a)||(hw.add(a),t={rel:t,crossOrigin:n,href:e},r.querySelector(a)===null&&(e=r.createElement("link"),wn(e,"link",t),cn(e),r.head.appendChild(e)))}}function BT(t){Ai.D(t),x8("dns-prefetch",t,null)}function RT(t,e){Ai.C(t,e),x8("preconnect",t,e)}function OT(t,e,n){Ai.L(t,e,n);var r=su;if(r&&t&&e){var a='link[rel="preload"][as="'+Br(e)+'"]';e==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+Br(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+Br(n.imageSizes)+'"]')):a+='[href="'+Br(t)+'"]';var i=a;switch(e){case"style":i=Yl(t);break;case"script":i=cu(t)}qr.has(i)||(t=gt({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),qr.set(i,t),r.querySelector(a)!==null||e==="style"&&r.querySelector(Td(i))||e==="script"&&r.querySelector(Ad(i))||(e=r.createElement("link"),wn(e,"link",t),cn(e),r.head.appendChild(e)))}}function UT(t,e){Ai.m(t,e);var n=su;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",a='link[rel="modulepreload"][as="'+Br(r)+'"][href="'+Br(t)+'"]',i=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=cu(t)}if(!qr.has(i)&&(t=gt({rel:"modulepreload",href:t},e),qr.set(i,t),n.querySelector(a)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ad(i)))return}r=n.createElement("link"),wn(r,"link",t),cn(r),n.head.appendChild(r)}}}function CT(t,e,n){Ai.S(t,e,n);var r=su;if(r&&t){var a=rl(r).hoistableStyles,i=Yl(t);e=e||"default";var s=a.get(i);if(!s){var c={loading:0,preload:null};if(s=r.querySelector(Td(i)))c.loading=5;else{t=gt({rel:"stylesheet",href:t,"data-precedence":e},n),(n=qr.get(i))&&Hb(t,n);var l=s=r.createElement("link");cn(l),wn(l,"link",t),l._p=new Promise(function(u,p){l.onload=u,l.onerror=p}),l.addEventListener("load",function(){c.loading|=1}),l.addEventListener("error",function(){c.loading|=2}),c.loading|=4,q0(s,e,r)}s={type:"stylesheet",instance:s,count:1,state:c},a.set(i,s)}}}function MT(t,e){Ai.X(t,e);var n=su;if(n&&t){var r=rl(n).hoistableScripts,a=cu(t),i=r.get(a);i||(i=n.querySelector(Ad(a)),i||(t=gt({src:t,async:!0},e),(e=qr.get(a))&&Db(t,e),i=n.createElement("script"),cn(i),wn(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}function qT(t,e){Ai.M(t,e);var n=su;if(n&&t){var r=rl(n).hoistableScripts,a=cu(t),i=r.get(a);i||(i=n.querySelector(Ad(a)),i||(t=gt({src:t,async:!0,type:"module"},e),(e=qr.get(a))&&Db(t,e),i=n.createElement("script"),cn(i),wn(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}function mw(t,e,n,r){var a=(a=Rs.current)?Vh(a):null;if(!a)throw Error(he(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Yl(n.href),n=rl(a).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Yl(n.href);var i=rl(a).hoistableStyles,s=i.get(t);if(s||(a=a.ownerDocument||a,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,s),(i=a.querySelector(Td(t)))&&!i._p&&(s.instance=i,s.state.loading=5),qr.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},qr.set(t,n),i||IT(a,t,n,s.state))),e&&r===null)throw Error(he(528,""));return s}if(e&&r!==null)throw Error(he(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=cu(n),n=rl(a).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(he(444,t))}}function Yl(t){return'href="'+Br(t)+'"'}function Td(t){return'link[rel="stylesheet"]['+t+"]"}function w8(t){return gt({},t,{"data-precedence":t.precedence,precedence:null})}function IT(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),wn(e,"link",n),cn(e),t.head.appendChild(e))}function cu(t){return'[src="'+Br(t)+'"]'}function Ad(t){return"script[async]"+t}function pw(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Br(n.href)+'"]');if(r)return e.instance=r,cn(r),r;var a=gt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),cn(r),wn(r,"style",a),q0(r,n.precedence,t),e.instance=r;case"stylesheet":a=Yl(n.href);var i=t.querySelector(Td(a));if(i)return e.state.loading|=4,e.instance=i,cn(i),i;r=w8(n),(a=qr.get(a))&&Hb(r,a),i=(t.ownerDocument||t).createElement("link"),cn(i);var s=i;return s._p=new Promise(function(c,l){s.onload=c,s.onerror=l}),wn(i,"link",r),e.state.loading|=4,q0(i,n.precedence,t),e.instance=i;case"script":return i=cu(n.src),(a=t.querySelector(Ad(i)))?(e.instance=a,cn(a),a):(r=n,(a=qr.get(i))&&(r=gt({},n),Db(r,a)),t=t.ownerDocument||t,a=t.createElement("script"),cn(a),wn(a,"link",r),t.head.appendChild(a),e.instance=a);case"void":return null;default:throw Error(he(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,q0(r,n.precedence,t));return e.instance}function q0(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,i=a,s=0;s<r.length;s++){var c=r[s];if(c.dataset.precedence===e)i=c;else if(i!==a)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Hb(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Db(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var I0=null;function yw(t,e,n){if(I0===null){var r=new Map,a=I0=new Map;a.set(n,r)}else a=I0,r=a.get(n),r||(r=new Map,a.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),a=0;a<n.length;a++){var i=n[a];if(!(i[yd]||i[Bn]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var s=i.getAttribute(e)||"";s=t+s;var c=r.get(s);c?c.push(i):r.set(s,[i])}}return r}function gw(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function $T(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function E8(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Ef=null;function kT(){}function FT(t,e,n){if(Ef===null)throw Error(he(475));var r=Ef;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var a=Yl(n.href),i=t.querySelector(Td(a));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Hh.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=i,cn(i);return}i=t.ownerDocument||t,n=w8(n),(a=qr.get(a))&&Hb(n,a),i=i.createElement("link"),cn(i);var s=i;s._p=new Promise(function(c,l){s.onload=c,s.onerror=l}),wn(i,"link",n),e.instance=i}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=Hh.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function jT(){if(Ef===null)throw Error(he(475));var t=Ef;return t.stylesheets&&t.count===0&&K1(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&K1(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Hh(){if(this.count--,this.count===0){if(this.stylesheets)K1(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Dh=null;function K1(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Dh=new Map,e.forEach(VT,t),Dh=null,Hh.call(t))}function VT(t,e){if(!(e.state.loading&4)){var n=Dh.get(t);if(n)var r=n.get(null);else{n=new Map,Dh.set(t,n);for(var a=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}a=e.instance,s=a.getAttribute("data-precedence"),i=n.get(s)||r,i===r&&n.set(null,a),n.set(s,a),this.count++,r=Hh.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),i?i.parentNode.insertBefore(a,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(a,t.firstChild)),e.state.loading|=4}}var vf={$$typeof:si,Provider:null,Consumer:null,_currentValue:Uc,_currentValue2:Uc,_threadCount:0};function HT(t,e,n,r,a,i,s,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bp(0),this.hiddenUpdates=Bp(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function v8(t,e,n,r,a,i,s,c,l,u,p,y){return t=new HT(t,e,n,s,c,l,u,y),e=1,i===!0&&(e|=24),i=sr(3,null,null,e),t.current=i,i.stateNode=t,e=yb(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:e},bb(i),t}function _8(t){return t?(t=Po,t):Po}function N8(t,e,n,r,a,i){a=_8(a),r.context===null?r.context=a:r.pendingContext=a,r=Os(e),r.payload={element:n},i=i===void 0?null:i,i!==null&&(r.callback=i),n=Us(t,r,e),n!==null&&(hr(n,t,e),Lu(n,t,e))}function bw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zb(t,e){bw(t,e),(t=t.alternate)&&bw(t,e)}function S8(t){if(t.tag===13){var e=au(t,67108864);e!==null&&hr(e,t,67108864),zb(t,67108864)}}var zh=!0;function DT(t,e,n,r){var a=Oe.T;Oe.T=null;var i=tt.p;try{tt.p=2,Pb(t,e,n,r)}finally{tt.p=i,Oe.T=a}}function zT(t,e,n,r){var a=Oe.T;Oe.T=null;var i=tt.p;try{tt.p=8,Pb(t,e,n,r)}finally{tt.p=i,Oe.T=a}}function Pb(t,e,n,r){if(zh){var a=L1(r);if(a===null)iy(t,e,r,Ph,n),xw(t,r);else if(GT(a,t,e,n,r))r.stopPropagation();else if(xw(t,r),e&4&&-1<PT.indexOf(t)){for(;a!==null;){var i=ru(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var s=nc(i.pendingLanes);if(s!==0){var c=i;for(c.pendingLanes|=2,c.entangledLanes|=2;s;){var l=1<<31-fr(s);c.entanglements[1]|=l,s&=~l}ka(i),!(st&6)&&(qh=Oa()+500,Sd(0))}}break;case 13:c=au(i,2),c!==null&&hr(c,i,2),Dm(),zb(i,2)}if(i=L1(r),i===null&&iy(t,e,r,Ph,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else iy(t,e,r,null,n)}}function L1(t){return t=sb(t),Gb(t)}var Ph=null;function Gb(t){if(Ph=null,t=Fo(t),t!==null){var e=dd(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=Xv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Ph=t,null}function T8(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(RS()){case e6:return 2;case t6:return 8;case bh:case OS:return 32;case n6:return 268435456;default:return 32}default:return 32}}var Z1=!1,qs=null,Is=null,$s=null,_f=new Map,Nf=new Map,rs=[],PT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xw(t,e){switch(t){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":_f.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nf.delete(e.pointerId)}}function Nu(t,e,n,r,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},e!==null&&(e=ru(e),e!==null&&S8(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function GT(t,e,n,r,a){switch(e){case"focusin":return qs=Nu(qs,t,e,n,r,a),!0;case"dragenter":return Is=Nu(Is,t,e,n,r,a),!0;case"mouseover":return $s=Nu($s,t,e,n,r,a),!0;case"pointerover":var i=a.pointerId;return _f.set(i,Nu(_f.get(i)||null,t,e,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Nf.set(i,Nu(Nf.get(i)||null,t,e,n,r,a)),!0}return!1}function A8(t){var e=Fo(t.target);if(e!==null){var n=dd(e);if(n!==null){if(e=n.tag,e===13){if(e=Xv(n),e!==null){t.blockedOn=e,FS(t.priority,function(){if(n.tag===13){var r=dr();r=nb(r);var a=au(n,r);a!==null&&hr(a,n,r),zb(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=L1(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);d1=r,n.target.dispatchEvent(r),d1=null}else return e=ru(n),e!==null&&S8(e),t.blockedOn=n,!1;e.shift()}return!0}function ww(t,e,n){$0(t)&&n.delete(e)}function YT(){Z1=!1,qs!==null&&$0(qs)&&(qs=null),Is!==null&&$0(Is)&&(Is=null),$s!==null&&$0($s)&&($s=null),_f.forEach(ww),Nf.forEach(ww)}function Wd(t,e){t.blockedOn===e&&(t.blockedOn=null,Z1||(Z1=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,YT)))}var e0=null;function Ew(t){e0!==t&&(e0=t,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,function(){e0===t&&(e0=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],a=t[e+2];if(typeof r!="function"){if(Gb(r||n)===null)continue;break}var i=ru(n);i!==null&&(t.splice(e,3),e-=3,B1(i,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Sf(t){function e(l){return Wd(l,t)}qs!==null&&Wd(qs,t),Is!==null&&Wd(Is,t),$s!==null&&Wd($s,t),_f.forEach(e),Nf.forEach(e);for(var n=0;n<rs.length;n++){var r=rs[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<rs.length&&(n=rs[0],n.blockedOn===null);)A8(n),n.blockedOn===null&&rs.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var a=n[r],i=n[r+1],s=a[Jn]||null;if(typeof i=="function")s||Ew(n);else if(s){var c=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[Jn]||null)c=s.formAction;else if(Gb(a)!==null)continue}else c=s.action;typeof c=="function"?n[r+1]=c:(n.splice(r,3),r-=3),Ew(n)}}}function Yb(t){this._internalRoot=t}Ym.prototype.render=Yb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(he(409));var n=e.current,r=dr();N8(n,r,t,e,null,null)};Ym.prototype.unmount=Yb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;N8(t.current,2,null,t,null,null),Dm(),e[nu]=null}};function Ym(t){this._internalRoot=t}Ym.prototype.unstable_scheduleHydration=function(t){if(t){var e=c6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rs.length&&e!==0&&e<rs[n].priority;n++);rs.splice(n,0,t),n===0&&A8(t)}};var vw=Lv.version;if(vw!=="19.1.0")throw Error(he(527,vw,"19.1.0"));tt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(he(188)):(t=Object.keys(t).join(","),Error(he(268,t)));return t=vS(e),t=t!==null?Qv(t):null,t=t===null?null:t.stateNode,t};var KT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Oe,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var t0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t0.isDisabled&&t0.supportsFiber)try{hd=t0.inject(KT),ur=t0}catch{}}Om.createRoot=function(t,e){if(!Zv(t))throw Error(he(299));var n=!1,r="",a=v3,i=_3,s=N3,c=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(a=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(c=e.unstable_transitionCallbacks)),e=v8(t,1,!1,null,null,n,r,a,i,s,c,null),t[nu]=e.current,Vb(t),new Yb(e)};Om.hydrateRoot=function(t,e,n){if(!Zv(t))throw Error(he(299));var r=!1,a="",i=v3,s=_3,c=N3,l=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(c=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=v8(t,1,!0,e,n??null,r,a,i,s,c,l,u),e.context=_8(null),n=e.current,r=dr(),r=nb(r),a=Os(r),a.callback=null,Us(n,a,r),n=r,e.current.lanes=n,pd(e,n),ka(e),t[nu]=e.current,Vb(t),new Ym(e)};Om.version="19.1.0";function B8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B8)}catch(t){console.error(t)}}B8(),Dv.exports=Om;var LT=Dv.exports;const ZT=Kg(LT);var ou=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Lc=typeof window>"u"||"Deno"in globalThis;function jn(){}function XT(t,e){return typeof t=="function"?t(e):t}function X1(t){return typeof t=="number"&&t>=0&&t!==1/0}function R8(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ks(t,e){return typeof t=="function"?t(e):t}function _r(t,e){return typeof t=="function"?t(e):t}function _w(t,e){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:s,stale:c}=t;if(s){if(r){if(e.queryHash!==Kb(s,e.options))return!1}else if(!Tf(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||a&&a!==e.state.fetchStatus||i&&!i(e))}function Nw(t,e){const{exact:n,status:r,predicate:a,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Zc(e.options.mutationKey)!==Zc(i))return!1}else if(!Tf(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function Kb(t,e){return((e==null?void 0:e.queryKeyHashFn)||Zc)(t)}function Zc(t){return JSON.stringify(t,(e,n)=>Q1(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Tf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Tf(t[n],e[n])):!1}function O8(t,e){if(t===e)return t;const n=Sw(t)&&Sw(e);if(n||Q1(t)&&Q1(e)){const r=n?t:Object.keys(t),a=r.length,i=n?e:Object.keys(e),s=i.length,c=n?[]:{},l=new Set(r);let u=0;for(let p=0;p<s;p++){const y=n?p:i[p];(!n&&l.has(y)||n)&&t[y]===void 0&&e[y]===void 0?(c[y]=void 0,u++):(c[y]=O8(t[y],e[y]),c[y]===t[y]&&t[y]!==void 0&&u++)}return a===s&&u===a?t:c}return e}function Gh(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Sw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Q1(t){if(!Tw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Tw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Tw(t){return Object.prototype.toString.call(t)==="[object Object]"}function QT(t){return new Promise(e=>{setTimeout(e,t)})}function J1(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?O8(t,e):e}function JT(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function WT(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Lb=Symbol();function U8(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Lb?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function C8(t,e){return typeof t=="function"?t(...e):!!t}var xc,ls,bl,Nv,e9=(Nv=class extends ou{constructor(){super();ye(this,xc);ye(this,ls);ye(this,bl);ue(this,bl,e=>{if(!Lc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,ls)||this.setEventListener($(this,bl))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,ls))==null||e.call(this),ue(this,ls,void 0))}setEventListener(e){var n;ue(this,bl,e),(n=$(this,ls))==null||n.call(this),ue(this,ls,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){$(this,xc)!==e&&(ue(this,xc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof $(this,xc)=="boolean"?$(this,xc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},xc=new WeakMap,ls=new WeakMap,bl=new WeakMap,Nv),Zb=new e9,xl,us,wl,Sv,t9=(Sv=class extends ou{constructor(){super();ye(this,xl,!0);ye(this,us);ye(this,wl);ue(this,wl,e=>{if(!Lc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,us)||this.setEventListener($(this,wl))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,us))==null||e.call(this),ue(this,us,void 0))}setEventListener(e){var n;ue(this,wl,e),(n=$(this,us))==null||n.call(this),ue(this,us,e(this.setOnline.bind(this)))}setOnline(e){$(this,xl)!==e&&(ue(this,xl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return $(this,xl)}},xl=new WeakMap,us=new WeakMap,wl=new WeakMap,Sv),Yh=new t9;function W1(){let t,e;const n=new Promise((a,i)=>{t=a,e=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),t(a)},n.reject=a=>{r({status:"rejected",reason:a}),e(a)},n}function n9(t){return Math.min(1e3*2**t,3e4)}function M8(t){return(t??"online")==="online"?Yh.isOnline():!0}var q8=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function cy(t){return t instanceof q8}function I8(t){let e=!1,n=0,r=!1,a;const i=W1(),s=A=>{var N;r||(h(new q8(A)),(N=t.abort)==null||N.call(t))},c=()=>{e=!0},l=()=>{e=!1},u=()=>Zb.isFocused()&&(t.networkMode==="always"||Yh.isOnline())&&t.canRun(),p=()=>M8(t.networkMode)&&t.canRun(),y=A=>{var N;r||(r=!0,(N=t.onSuccess)==null||N.call(t,A),a==null||a(),i.resolve(A))},h=A=>{var N;r||(r=!0,(N=t.onError)==null||N.call(t,A),a==null||a(),i.reject(A))},d=()=>new Promise(A=>{var N;a=v=>{(r||u())&&A(v)},(N=t.onPause)==null||N.call(t)}).then(()=>{var A;a=void 0,r||(A=t.onContinue)==null||A.call(t)}),f=()=>{if(r)return;let A;const N=n===0?t.initialPromise:void 0;try{A=N??t.fn()}catch(v){A=Promise.reject(v)}Promise.resolve(A).then(y).catch(v=>{var H;if(r)return;const x=t.retry??(Lc?0:3),_=t.retryDelay??n9,M=typeof _=="function"?_(n,v):_,S=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,v);if(e||!S){h(v);return}n++,(H=t.onFail)==null||H.call(t,n,v),QT(M).then(()=>u()?void 0:d()).then(()=>{e?h(v):f()})})};return{promise:i,cancel:s,continue:()=>(a==null||a(),i),cancelRetry:c,continueRetry:l,canStart:p,start:()=>(p()?f():d().then(f),i)}}var r9=t=>setTimeout(t,0);function a9(){let t=[],e=0,n=c=>{c()},r=c=>{c()},a=r9;const i=c=>{e?t.push(c):a(()=>{n(c)})},s=()=>{const c=t;t=[],c.length&&a(()=>{r(()=>{c.forEach(l=>{n(l)})})})};return{batch:c=>{let l;e++;try{l=c()}finally{e--,e||s()}return l},batchCalls:c=>(...l)=>{i(()=>{c(...l)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{a=c}}}var Kt=a9(),wc,Tv,$8=(Tv=class{constructor(){ye(this,wc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),X1(this.gcTime)&&ue(this,wc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Lc?1/0:5*60*1e3))}clearGcTimeout(){$(this,wc)&&(clearTimeout($(this,wc)),ue(this,wc,void 0))}},wc=new WeakMap,Tv),El,Ec,gr,vc,Sn,Lf,_c,zr,Ga,Av,i9=(Av=class extends $8{constructor(e){super();ye(this,zr);ye(this,El);ye(this,Ec);ye(this,gr);ye(this,vc);ye(this,Sn);ye(this,Lf);ye(this,_c);ue(this,_c,!1),ue(this,Lf,e.defaultOptions),this.setOptions(e.options),this.observers=[],ue(this,vc,e.client),ue(this,gr,$(this,vc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ue(this,El,s9(this.options)),this.state=e.state??$(this,El),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=$(this,Sn))==null?void 0:e.promise}setOptions(e){this.options={...$(this,Lf),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,gr).remove(this)}setData(e,n){const r=J1(this.state.data,e,this.options);return Se(this,zr,Ga).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Se(this,zr,Ga).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,a;const n=(r=$(this,Sn))==null?void 0:r.promise;return(a=$(this,Sn))==null||a.cancel(e),n?n.then(jn).catch(jn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,El))}isActive(){return this.observers.some(e=>_r(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ks(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!R8(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=$(this,Sn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=$(this,Sn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),$(this,gr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||($(this,Sn)&&($(this,_c)?$(this,Sn).cancel({revert:!0}):$(this,Sn).cancelRetry()),this.scheduleGc()),$(this,gr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Se(this,zr,Ga).call(this,{type:"invalidate"})}fetch(e,n){var u,p,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if($(this,Sn))return $(this,Sn).continueRetry(),$(this,Sn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(d=>d.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ue(this,_c,!0),r.signal)})},i=()=>{const h=U8(this.options,n),f=(()=>{const A={client:$(this,vc),queryKey:this.queryKey,meta:this.meta};return a(A),A})();return ue(this,_c,!1),this.options.persister?this.options.persister(h,f,this):h(f)},c=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:$(this,vc),state:this.state,fetchFn:i};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(c,this),ue(this,Ec,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&Se(this,zr,Ga).call(this,{type:"fetch",meta:(y=c.fetchOptions)==null?void 0:y.meta});const l=h=>{var d,f,A,N;cy(h)&&h.silent||Se(this,zr,Ga).call(this,{type:"error",error:h}),cy(h)||((f=(d=$(this,gr).config).onError)==null||f.call(d,h,this),(N=(A=$(this,gr).config).onSettled)==null||N.call(A,this.state.data,h,this)),this.scheduleGc()};return ue(this,Sn,I8({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var d,f,A,N;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){l(v);return}(f=(d=$(this,gr).config).onSuccess)==null||f.call(d,h,this),(N=(A=$(this,gr).config).onSettled)==null||N.call(A,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,d)=>{Se(this,zr,Ga).call(this,{type:"failed",failureCount:h,error:d})},onPause:()=>{Se(this,zr,Ga).call(this,{type:"pause"})},onContinue:()=>{Se(this,zr,Ga).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),$(this,Sn).start()}},El=new WeakMap,Ec=new WeakMap,gr=new WeakMap,vc=new WeakMap,Sn=new WeakMap,Lf=new WeakMap,_c=new WeakMap,zr=new WeakSet,Ga=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...k8(r.data,this.options),fetchMeta:e.meta??null};case"success":return ue(this,Ec,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return cy(a)&&a.revert&&$(this,Ec)?{...$(this,Ec),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Kt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),$(this,gr).notify({query:this,type:"updated",action:e})})},Av);function k8(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:M8(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function s9(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var da,Bv,c9=(Bv=class extends ou{constructor(e={}){super();ye(this,da);this.config=e,ue(this,da,new Map)}build(e,n,r){const a=n.queryKey,i=n.queryHash??Kb(a,n);let s=this.get(i);return s||(s=new i9({client:e,queryKey:a,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(s)),s}add(e){$(this,da).has(e.queryHash)||($(this,da).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=$(this,da).get(e.queryHash);n&&(e.destroy(),n===e&&$(this,da).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Kt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,da).get(e)}getAll(){return[...$(this,da).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>_w(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>_w(e,r)):n}notify(e){Kt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Kt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Kt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},da=new WeakMap,Bv),ha,qn,Nc,ma,Pi,Rv,o9=(Rv=class extends $8{constructor(e){super();ye(this,ma);ye(this,ha);ye(this,qn);ye(this,Nc);this.mutationId=e.mutationId,ue(this,qn,e.mutationCache),ue(this,ha,[]),this.state=e.state||F8(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){$(this,ha).includes(e)||($(this,ha).push(e),this.clearGcTimeout(),$(this,qn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ue(this,ha,$(this,ha).filter(n=>n!==e)),this.scheduleGc(),$(this,qn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){$(this,ha).length||(this.state.status==="pending"?this.scheduleGc():$(this,qn).remove(this))}continue(){var e;return((e=$(this,Nc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,c,l,u,p,y,h,d,f,A,N,v,x,_,M,S,H,z,K;const n=()=>{Se(this,ma,Pi).call(this,{type:"continue"})};ue(this,Nc,I8({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(Z,k)=>{Se(this,ma,Pi).call(this,{type:"failed",failureCount:Z,error:k})},onPause:()=>{Se(this,ma,Pi).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,qn).canRun(this)}));const r=this.state.status==="pending",a=!$(this,Nc).canStart();try{if(r)n();else{Se(this,ma,Pi).call(this,{type:"pending",variables:e,isPaused:a}),await((s=(i=$(this,qn).config).onMutate)==null?void 0:s.call(i,e,this));const k=await((l=(c=this.options).onMutate)==null?void 0:l.call(c,e));k!==this.state.context&&Se(this,ma,Pi).call(this,{type:"pending",context:k,variables:e,isPaused:a})}const Z=await $(this,Nc).start();return await((p=(u=$(this,qn).config).onSuccess)==null?void 0:p.call(u,Z,e,this.state.context,this)),await((h=(y=this.options).onSuccess)==null?void 0:h.call(y,Z,e,this.state.context)),await((f=(d=$(this,qn).config).onSettled)==null?void 0:f.call(d,Z,null,this.state.variables,this.state.context,this)),await((N=(A=this.options).onSettled)==null?void 0:N.call(A,Z,null,e,this.state.context)),Se(this,ma,Pi).call(this,{type:"success",data:Z}),Z}catch(Z){try{throw await((x=(v=$(this,qn).config).onError)==null?void 0:x.call(v,Z,e,this.state.context,this)),await((M=(_=this.options).onError)==null?void 0:M.call(_,Z,e,this.state.context)),await((H=(S=$(this,qn).config).onSettled)==null?void 0:H.call(S,void 0,Z,this.state.variables,this.state.context,this)),await((K=(z=this.options).onSettled)==null?void 0:K.call(z,void 0,Z,e,this.state.context)),Z}finally{Se(this,ma,Pi).call(this,{type:"error",error:Z})}}finally{$(this,qn).runNext(this)}}},ha=new WeakMap,qn=new WeakMap,Nc=new WeakMap,ma=new WeakSet,Pi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Kt.batch(()=>{$(this,ha).forEach(r=>{r.onMutationUpdate(e)}),$(this,qn).notify({mutation:this,type:"updated",action:e})})},Rv);function F8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qa,Pr,Zf,Ov,l9=(Ov=class extends ou{constructor(e={}){super();ye(this,Qa);ye(this,Pr);ye(this,Zf);this.config=e,ue(this,Qa,new Set),ue(this,Pr,new Map),ue(this,Zf,0)}build(e,n,r){const a=new o9({mutationCache:this,mutationId:++yu(this,Zf)._,options:e.defaultMutationOptions(n),state:r});return this.add(a),a}add(e){$(this,Qa).add(e);const n=n0(e);if(typeof n=="string"){const r=$(this,Pr).get(n);r?r.push(e):$(this,Pr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if($(this,Qa).delete(e)){const n=n0(e);if(typeof n=="string"){const r=$(this,Pr).get(n);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&$(this,Pr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=n0(e);if(typeof n=="string"){const r=$(this,Pr).get(n),a=r==null?void 0:r.find(i=>i.state.status==="pending");return!a||a===e}else return!0}runNext(e){var r;const n=n0(e);if(typeof n=="string"){const a=(r=$(this,Pr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Kt.batch(()=>{$(this,Qa).forEach(e=>{this.notify({type:"removed",mutation:e})}),$(this,Qa).clear(),$(this,Pr).clear()})}getAll(){return Array.from($(this,Qa))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Nw(n,r))}findAll(e={}){return this.getAll().filter(n=>Nw(e,n))}notify(e){Kt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Kt.batch(()=>Promise.all(e.map(n=>n.continue().catch(jn))))}},Qa=new WeakMap,Pr=new WeakMap,Zf=new WeakMap,Ov);function n0(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Aw(t){return{onFetch:(e,n)=>{var p,y,h,d,f;const r=e.options,a=(h=(y=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:y.fetchMore)==null?void 0:h.direction,i=((d=e.state.data)==null?void 0:d.pages)||[],s=((f=e.state.data)==null?void 0:f.pageParams)||[];let c={pages:[],pageParams:[]},l=0;const u=async()=>{let A=!1;const N=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?A=!0:e.signal.addEventListener("abort",()=>{A=!0}),e.signal)})},v=U8(e.options,e.fetchOptions),x=async(_,M,S)=>{if(A)return Promise.reject();if(M==null&&_.pages.length)return Promise.resolve(_);const z=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:M,direction:S?"backward":"forward",meta:e.options.meta};return N(P),P})(),K=await v(z),{maxPages:Z}=e.options,k=S?WT:JT;return{pages:k(_.pages,K,Z),pageParams:k(_.pageParams,M,Z)}};if(a&&i.length){const _=a==="backward",M=_?u9:Bw,S={pages:i,pageParams:s},H=M(r,S);c=await x(S,H,_)}else{const _=t??i.length;do{const M=l===0?s[0]??r.initialPageParam:Bw(r,c);if(l>0&&M==null)break;c=await x(c,M),l++}while(l<_)}return c};e.options.persister?e.fetchFn=()=>{var A,N;return(N=(A=e.options).persister)==null?void 0:N.call(A,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Bw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function u9(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Nt,fs,ds,vl,_l,hs,Nl,Sl,Uv,f9=(Uv=class{constructor(t={}){ye(this,Nt);ye(this,fs);ye(this,ds);ye(this,vl);ye(this,_l);ye(this,hs);ye(this,Nl);ye(this,Sl);ue(this,Nt,t.queryCache||new c9),ue(this,fs,t.mutationCache||new l9),ue(this,ds,t.defaultOptions||{}),ue(this,vl,new Map),ue(this,_l,new Map),ue(this,hs,0)}mount(){yu(this,hs)._++,$(this,hs)===1&&(ue(this,Nl,Zb.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,Nt).onFocus())})),ue(this,Sl,Yh.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,Nt).onOnline())})))}unmount(){var t,e;yu(this,hs)._--,$(this,hs)===0&&((t=$(this,Nl))==null||t.call(this),ue(this,Nl,void 0),(e=$(this,Sl))==null||e.call(this),ue(this,Sl,void 0))}isFetching(t){return $(this,Nt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,fs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,Nt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=$(this,Nt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ks(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return $(this,Nt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),a=$(this,Nt).get(r.queryHash),i=a==null?void 0:a.state.data,s=XT(e,i);if(s!==void 0)return $(this,Nt).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return Kt.batch(()=>$(this,Nt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,Nt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=$(this,Nt);Kt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,Nt);return Kt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Kt.batch(()=>$(this,Nt).findAll(t).map(a=>a.cancel(n)));return Promise.all(r).then(jn).catch(jn)}invalidateQueries(t,e={}){return Kt.batch(()=>($(this,Nt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Kt.batch(()=>$(this,Nt).findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(jn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(jn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,Nt).build(this,e);return n.isStaleByTime(ks(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(jn).catch(jn)}fetchInfiniteQuery(t){return t.behavior=Aw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(jn).catch(jn)}ensureInfiniteQueryData(t){return t.behavior=Aw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Yh.isOnline()?$(this,fs).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,Nt)}getMutationCache(){return $(this,fs)}getDefaultOptions(){return $(this,ds)}setDefaultOptions(t){ue(this,ds,t)}setQueryDefaults(t,e){$(this,vl).set(Zc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,vl).values()],n={};return e.forEach(r=>{Tf(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){$(this,_l).set(Zc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,_l).values()],n={};return e.forEach(r=>{Tf(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,ds).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Kb(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Lb&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,ds).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,Nt).clear(),$(this,fs).clear()}},Nt=new WeakMap,fs=new WeakMap,ds=new WeakMap,vl=new WeakMap,_l=new WeakMap,hs=new WeakMap,Nl=new WeakMap,Sl=new WeakMap,Uv),Yn,Ye,Xf,In,Sc,Tl,ms,ps,Qf,Al,Bl,Tc,Ac,ys,Rl,rt,Mu,eg,tg,ng,rg,ag,ig,sg,j8,Cv,d9=(Cv=class extends ou{constructor(e,n){super();ye(this,rt);ye(this,Yn);ye(this,Ye);ye(this,Xf);ye(this,In);ye(this,Sc);ye(this,Tl);ye(this,ms);ye(this,ps);ye(this,Qf);ye(this,Al);ye(this,Bl);ye(this,Tc);ye(this,Ac);ye(this,ys);ye(this,Rl,new Set);this.options=n,ue(this,Yn,e),ue(this,ps,null),ue(this,ms,W1()),this.options.experimental_prefetchInRender||$(this,ms).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,Ye).addObserver(this),Rw($(this,Ye),this.options)?Se(this,rt,Mu).call(this):this.updateResult(),Se(this,rt,rg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return cg($(this,Ye),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return cg($(this,Ye),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Se(this,rt,ag).call(this),Se(this,rt,ig).call(this),$(this,Ye).removeObserver(this)}setOptions(e){const n=this.options,r=$(this,Ye);if(this.options=$(this,Yn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _r(this.options.enabled,$(this,Ye))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Se(this,rt,sg).call(this),$(this,Ye).setOptions(this.options),n._defaulted&&!Gh(this.options,n)&&$(this,Yn).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,Ye),observer:this});const a=this.hasListeners();a&&Ow($(this,Ye),r,this.options,n)&&Se(this,rt,Mu).call(this),this.updateResult(),a&&($(this,Ye)!==r||_r(this.options.enabled,$(this,Ye))!==_r(n.enabled,$(this,Ye))||ks(this.options.staleTime,$(this,Ye))!==ks(n.staleTime,$(this,Ye)))&&Se(this,rt,eg).call(this);const i=Se(this,rt,tg).call(this);a&&($(this,Ye)!==r||_r(this.options.enabled,$(this,Ye))!==_r(n.enabled,$(this,Ye))||i!==$(this,ys))&&Se(this,rt,ng).call(this,i)}getOptimisticResult(e){const n=$(this,Yn).getQueryCache().build($(this,Yn),e),r=this.createResult(n,e);return m9(this,r)&&(ue(this,In,r),ue(this,Tl,this.options),ue(this,Sc,$(this,Ye).state)),r}getCurrentResult(){return $(this,In)}trackResult(e,n){return new Proxy(e,{get:(r,a)=>(this.trackProp(a),n==null||n(a),Reflect.get(r,a))})}trackProp(e){$(this,Rl).add(e)}getCurrentQuery(){return $(this,Ye)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=$(this,Yn).defaultQueryOptions(e),r=$(this,Yn).getQueryCache().build($(this,Yn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Se(this,rt,Mu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,In)))}createResult(e,n){var Z;const r=$(this,Ye),a=this.options,i=$(this,In),s=$(this,Sc),c=$(this,Tl),u=e!==r?e.state:$(this,Xf),{state:p}=e;let y={...p},h=!1,d;if(n._optimisticResults){const k=this.hasListeners(),P=!k&&Rw(e,n),X=k&&Ow(e,r,n,a);(P||X)&&(y={...y,...k8(p.data,e.options)}),n._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:f,errorUpdatedAt:A,status:N}=y;d=y.data;let v=!1;if(n.placeholderData!==void 0&&d===void 0&&N==="pending"){let k;i!=null&&i.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(k=i.data,v=!0):k=typeof n.placeholderData=="function"?n.placeholderData((Z=$(this,Bl))==null?void 0:Z.state.data,$(this,Bl)):n.placeholderData,k!==void 0&&(N="success",d=J1(i==null?void 0:i.data,k,n),h=!0)}if(n.select&&d!==void 0&&!v)if(i&&d===(s==null?void 0:s.data)&&n.select===$(this,Qf))d=$(this,Al);else try{ue(this,Qf,n.select),d=n.select(d),d=J1(i==null?void 0:i.data,d,n),ue(this,Al,d),ue(this,ps,null)}catch(k){ue(this,ps,k)}$(this,ps)&&(f=$(this,ps),d=$(this,Al),A=Date.now(),N="error");const x=y.fetchStatus==="fetching",_=N==="pending",M=N==="error",S=_&&x,H=d!==void 0,K={status:N,fetchStatus:y.fetchStatus,isPending:_,isSuccess:N==="success",isError:M,isInitialLoading:S,isLoading:S,data:d,dataUpdatedAt:y.dataUpdatedAt,error:f,errorUpdatedAt:A,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>u.dataUpdateCount||y.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!_,isLoadingError:M&&!H,isPaused:y.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:M&&H,isStale:Xb(e,n),refetch:this.refetch,promise:$(this,ms),isEnabled:_r(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const k=E=>{K.status==="error"?E.reject(K.error):K.data!==void 0&&E.resolve(K.data)},P=()=>{const E=ue(this,ms,K.promise=W1());k(E)},X=$(this,ms);switch(X.status){case"pending":e.queryHash===r.queryHash&&k(X);break;case"fulfilled":(K.status==="error"||K.data!==X.value)&&P();break;case"rejected":(K.status!=="error"||K.error!==X.reason)&&P();break}}return K}updateResult(){const e=$(this,In),n=this.createResult($(this,Ye),this.options);if(ue(this,Sc,$(this,Ye).state),ue(this,Tl,this.options),$(this,Sc).data!==void 0&&ue(this,Bl,$(this,Ye)),Gh(n,e))return;ue(this,In,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!$(this,Rl).size)return!0;const s=new Set(i??$(this,Rl));return this.options.throwOnError&&s.add("error"),Object.keys($(this,In)).some(c=>{const l=c;return $(this,In)[l]!==e[l]&&s.has(l)})};Se(this,rt,j8).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Se(this,rt,rg).call(this)}},Yn=new WeakMap,Ye=new WeakMap,Xf=new WeakMap,In=new WeakMap,Sc=new WeakMap,Tl=new WeakMap,ms=new WeakMap,ps=new WeakMap,Qf=new WeakMap,Al=new WeakMap,Bl=new WeakMap,Tc=new WeakMap,Ac=new WeakMap,ys=new WeakMap,Rl=new WeakMap,rt=new WeakSet,Mu=function(e){Se(this,rt,sg).call(this);let n=$(this,Ye).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(jn)),n},eg=function(){Se(this,rt,ag).call(this);const e=ks(this.options.staleTime,$(this,Ye));if(Lc||$(this,In).isStale||!X1(e))return;const r=R8($(this,In).dataUpdatedAt,e)+1;ue(this,Tc,setTimeout(()=>{$(this,In).isStale||this.updateResult()},r))},tg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,Ye)):this.options.refetchInterval)??!1},ng=function(e){Se(this,rt,ig).call(this),ue(this,ys,e),!(Lc||_r(this.options.enabled,$(this,Ye))===!1||!X1($(this,ys))||$(this,ys)===0)&&ue(this,Ac,setInterval(()=>{(this.options.refetchIntervalInBackground||Zb.isFocused())&&Se(this,rt,Mu).call(this)},$(this,ys)))},rg=function(){Se(this,rt,eg).call(this),Se(this,rt,ng).call(this,Se(this,rt,tg).call(this))},ag=function(){$(this,Tc)&&(clearTimeout($(this,Tc)),ue(this,Tc,void 0))},ig=function(){$(this,Ac)&&(clearInterval($(this,Ac)),ue(this,Ac,void 0))},sg=function(){const e=$(this,Yn).getQueryCache().build($(this,Yn),this.options);if(e===$(this,Ye))return;const n=$(this,Ye);ue(this,Ye,e),ue(this,Xf,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},j8=function(e){Kt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n($(this,In))}),$(this,Yn).getQueryCache().notify({query:$(this,Ye),type:"observerResultsUpdated"})})},Cv);function h9(t,e){return _r(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Rw(t,e){return h9(t,e)||t.state.data!==void 0&&cg(t,e,e.refetchOnMount)}function cg(t,e,n){if(_r(e.enabled,t)!==!1&&ks(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Xb(t,e)}return!1}function Ow(t,e,n,r){return(t!==e||_r(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Xb(t,n)}function Xb(t,e){return _r(e.enabled,t)!==!1&&t.isStaleByTime(ks(e.staleTime,t))}function m9(t,e){return!Gh(t.getCurrentResult(),e)}var gs,bs,Kn,Ja,xi,k0,og,Mv,p9=(Mv=class extends ou{constructor(n,r){super();ye(this,xi);ye(this,gs);ye(this,bs);ye(this,Kn);ye(this,Ja);ue(this,gs,n),this.setOptions(r),this.bindMethods(),Se(this,xi,k0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const r=this.options;this.options=$(this,gs).defaultMutationOptions(n),Gh(this.options,r)||$(this,gs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:$(this,Kn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Zc(r.mutationKey)!==Zc(this.options.mutationKey)?this.reset():((a=$(this,Kn))==null?void 0:a.state.status)==="pending"&&$(this,Kn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=$(this,Kn))==null||n.removeObserver(this)}onMutationUpdate(n){Se(this,xi,k0).call(this),Se(this,xi,og).call(this,n)}getCurrentResult(){return $(this,bs)}reset(){var n;(n=$(this,Kn))==null||n.removeObserver(this),ue(this,Kn,void 0),Se(this,xi,k0).call(this),Se(this,xi,og).call(this)}mutate(n,r){var a;return ue(this,Ja,r),(a=$(this,Kn))==null||a.removeObserver(this),ue(this,Kn,$(this,gs).getMutationCache().build($(this,gs),this.options)),$(this,Kn).addObserver(this),$(this,Kn).execute(n)}},gs=new WeakMap,bs=new WeakMap,Kn=new WeakMap,Ja=new WeakMap,xi=new WeakSet,k0=function(){var r;const n=((r=$(this,Kn))==null?void 0:r.state)??F8();ue(this,bs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},og=function(n){Kt.batch(()=>{var r,a,i,s,c,l,u,p;if($(this,Ja)&&this.hasListeners()){const y=$(this,bs).variables,h=$(this,bs).context;(n==null?void 0:n.type)==="success"?((a=(r=$(this,Ja)).onSuccess)==null||a.call(r,n.data,y,h),(s=(i=$(this,Ja)).onSettled)==null||s.call(i,n.data,null,y,h)):(n==null?void 0:n.type)==="error"&&((l=(c=$(this,Ja)).onError)==null||l.call(c,n.error,y,h),(p=(u=$(this,Ja)).onSettled)==null||p.call(u,void 0,n.error,y,h))}this.listeners.forEach(y=>{y($(this,bs))})})},Mv),V8={exports:{}},Km={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y9=Symbol.for("react.transitional.element"),g9=Symbol.for("react.fragment");function H8(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var a in e)a!=="key"&&(n[a]=e[a])}else n=e;return e=n.ref,{$$typeof:y9,type:t,key:r,ref:e!==void 0?e:null,props:n}}Km.Fragment=g9;Km.jsx=H8;Km.jsxs=H8;V8.exports=Km;var b9=V8.exports,D8=be.createContext(void 0),Bi=t=>{const e=be.useContext(D8);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},x9=({client:t,children:e})=>(be.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),b9.jsx(D8.Provider,{value:t,children:e})),z8=be.createContext(!1),w9=()=>be.useContext(z8);z8.Provider;function E9(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var v9=be.createContext(E9()),_9=()=>be.useContext(v9),N9=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},S9=t=>{be.useEffect(()=>{t.clearReset()},[t])},T9=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(a&&t.data===void 0||C8(n,[t.error,r])),A9=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},B9=(t,e)=>t.isLoading&&t.isFetching&&!e,R9=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Uw=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function O9(t,e,n){var y,h,d,f,A;const r=w9(),a=_9(),i=Bi(),s=i.defaultQueryOptions(t);(h=(y=i.getDefaultOptions().queries)==null?void 0:y._experimental_beforeQuery)==null||h.call(y,s),s._optimisticResults=r?"isRestoring":"optimistic",A9(s),N9(s,a),S9(a);const c=!i.getQueryCache().get(s.queryHash),[l]=be.useState(()=>new e(i,s)),u=l.getOptimisticResult(s),p=!r&&t.subscribed!==!1;if(be.useSyncExternalStore(be.useCallback(N=>{const v=p?l.subscribe(Kt.batchCalls(N)):jn;return l.updateResult(),v},[l,p]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),be.useEffect(()=>{l.setOptions(s)},[s,l]),R9(s,u))throw Uw(s,l,a);if(T9({result:u,errorResetBoundary:a,throwOnError:s.throwOnError,query:i.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((f=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_afterQuery)==null||f.call(d,s,u),s.experimental_prefetchInRender&&!Lc&&B9(u,r)){const N=c?Uw(s,l,a):(A=i.getQueryCache().get(s.queryHash))==null?void 0:A.promise;N==null||N.catch(jn).finally(()=>{l.updateResult()})}return s.notifyOnChangeProps?u:l.trackResult(u)}function Bd(t,e){return O9(t,d9)}function lu(t,e){const n=Bi(),[r]=be.useState(()=>new p9(n,t));be.useEffect(()=>{r.setOptions(t)},[r,t]);const a=be.useSyncExternalStore(be.useCallback(s=>r.subscribe(Kt.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=be.useCallback((s,c)=>{r.mutate(s,c).catch(jn)},[r]);if(a.error&&C8(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}var Cw;(function(t){t[t.SysFatal=1]="SysFatal",t[t.SysTransient=2]="SysTransient",t[t.DestinationInvalid=3]="DestinationInvalid",t[t.CanisterReject=4]="CanisterReject",t[t.CanisterError=5]="CanisterError"})(Cw||(Cw={}));var Kl;(function(t){t.Replied="replied",t.Rejected="rejected"})(Kl||(Kl={}));function U9(t){return t!=null&&"reject_code"in t}function C9(t){return t!=null&&"certificate"in t}const Kh="abcdefghijklmnopqrstuvwxyz234567",Ll=Object.create(null);for(let t=0;t<Kh.length;t++)Ll[Kh[t]]=t;Ll[0]=Ll.o;Ll[1]=Ll.i;function M9(t){let e=0,n=0,r="";function a(i){return e<0?n|=i>>-e:n=i<<e&248,e>3?(e-=8,1):(e<4&&(r+=Kh[n>>3],e+=5),0)}for(let i=0;i<t.length;)i+=a(t[i]);return r+(e<0?Kh[n>>3]:"")}function q9(t){let e=0,n=0;const r=new Uint8Array(t.length*4/3|0);let a=0;function i(s){let c=Ll[s.toLowerCase()];if(c===void 0)throw new Error(`Invalid character: ${JSON.stringify(s)}`);c<<=3,n|=c>>>e,e+=5,e>=8&&(r[a++]=n,e-=8,e>0?n=c<<5-e&255:n=0)}for(const s of t)i(s);return r.slice(0,a)}const I9=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function $9(t){let e=-1;for(let n=0;n<t.length;n++){const a=(t[n]^e)&255;e=I9[a]^e>>>8}return(e^-1)>>>0}const po=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Qb(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function k9(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function On(t,...e){if(!Qb(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Mw(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function F9(t,e){On(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Af(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function oy(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ra(t,e){return t<<32-e|t>>>e}const P8=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",j9=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function nt(t){if(On(t),P8)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=j9[t[n]];return e}const Da={_0:48,_9:57,A:65,F:70,a:97,f:102};function qw(t){if(t>=Da._0&&t<=Da._9)return t-Da._0;if(t>=Da.A&&t<=Da.F)return t-(Da.A-10);if(t>=Da.a&&t<=Da.f)return t-(Da.a-10)}function Ca(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(P8)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let a=0,i=0;a<n;a++,i+=2){const s=qw(t.charCodeAt(i)),c=qw(t.charCodeAt(i+1));if(s===void 0||c===void 0){const l=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+i)}r[a]=s*16+c}return r}function Ct(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function G8(t){return typeof t=="string"&&(t=Ct(t)),On(t),t}function et(...t){let e=0;for(let r=0;r<t.length;r++){const a=t[r];On(a),e+=a.length}const n=new Uint8Array(e);for(let r=0,a=0;r<t.length;r++){const i=t[r];n.set(i,a),a+=i.length}return n}let V9=class{};function Jb(t){const e=r=>t().update(G8(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Y8(t=32){if(po&&typeof po.getRandomValues=="function")return po.getRandomValues(new Uint8Array(t));if(po&&typeof po.randomBytes=="function")return Uint8Array.from(po.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function H9(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const a=BigInt(32),i=BigInt(4294967295),s=Number(n>>a&i),c=Number(n&i),l=r?4:0,u=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+u,c,r)}function D9(t,e,n){return t&e^~t&n}function z9(t,e,n){return t&e^t&n^e&n}let K8=class extends V9{constructor(e,n,r,a){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=a,this.buffer=new Uint8Array(e),this.view=oy(this.buffer)}update(e){Mw(this),e=G8(e),On(e);const{view:n,buffer:r,blockLen:a}=this,i=e.length;for(let s=0;s<i;){const c=Math.min(a-this.pos,i-s);if(c===a){const l=oy(e);for(;a<=i-s;s+=a)this.process(l,s);continue}r.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===a&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Mw(this),F9(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:a,isLE:i}=this;let{pos:s}=this;n[s++]=128,Af(this.buffer.subarray(s)),this.padOffset>a-s&&(this.process(r,0),s=0);for(let y=s;y<a;y++)n[y]=0;H9(r,a-8,BigInt(this.length*8),i),this.process(r,0);const c=oy(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,p=this.get();if(u>p.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<u;y++)c.setUint32(4*y,p[y],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:a,finished:i,destroyed:s,pos:c}=this;return e.destroyed=s,e.finished=i,e.length=a,e.pos=c,a%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Mi=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qi=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),vn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),r0=BigInt(2**32-1),Iw=BigInt(32);function P9(t,e=!1){return e?{h:Number(t&r0),l:Number(t>>Iw&r0)}:{h:Number(t>>Iw&r0)|0,l:Number(t&r0)|0}}function G9(t,e=!1){const n=t.length;let r=new Uint32Array(n),a=new Uint32Array(n);for(let i=0;i<n;i++){const{h:s,l:c}=P9(t[i],e);[r[i],a[i]]=[s,c]}return[r,a]}const $w=(t,e,n)=>t>>>n,kw=(t,e,n)=>t<<32-n|e>>>n,yo=(t,e,n)=>t>>>n|e<<32-n,go=(t,e,n)=>t<<32-n|e>>>n,a0=(t,e,n)=>t<<64-n|e>>>n-32,i0=(t,e,n)=>t>>>n-32|e<<64-n;function za(t,e,n,r){const a=(e>>>0)+(r>>>0);return{h:t+n+(a/2**32|0)|0,l:a|0}}const Y9=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),K9=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,L9=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Z9=(t,e,n,r,a)=>e+n+r+a+(t/2**32|0)|0,X9=(t,e,n,r,a)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(a>>>0),Q9=(t,e,n,r,a,i)=>e+n+r+a+i+(t/2**32|0)|0,J9=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ii=new Uint32Array(64);let L8=class extends K8{constructor(e=32){super(64,e,8,!1),this.A=Mi[0]|0,this.B=Mi[1]|0,this.C=Mi[2]|0,this.D=Mi[3]|0,this.E=Mi[4]|0,this.F=Mi[5]|0,this.G=Mi[6]|0,this.H=Mi[7]|0}get(){const{A:e,B:n,C:r,D:a,E:i,F:s,G:c,H:l}=this;return[e,n,r,a,i,s,c,l]}set(e,n,r,a,i,s,c,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=a|0,this.E=i|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,n){for(let y=0;y<16;y++,n+=4)Ii[y]=e.getUint32(n,!1);for(let y=16;y<64;y++){const h=Ii[y-15],d=Ii[y-2],f=ra(h,7)^ra(h,18)^h>>>3,A=ra(d,17)^ra(d,19)^d>>>10;Ii[y]=A+Ii[y-7]+f+Ii[y-16]|0}let{A:r,B:a,C:i,D:s,E:c,F:l,G:u,H:p}=this;for(let y=0;y<64;y++){const h=ra(c,6)^ra(c,11)^ra(c,25),d=p+h+D9(c,l,u)+J9[y]+Ii[y]|0,A=(ra(r,2)^ra(r,13)^ra(r,22))+z9(r,a,i)|0;p=u,u=l,l=c,c=s+d|0,s=i,i=a,a=r,r=d+A|0}r=r+this.A|0,a=a+this.B|0,i=i+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,u=u+this.G|0,p=p+this.H|0,this.set(r,a,i,s,c,l,u,p)}roundClean(){Af(Ii)}destroy(){this.set(0,0,0,0,0,0,0,0),Af(this.buffer)}},W9=class extends L8{constructor(){super(28),this.A=qi[0]|0,this.B=qi[1]|0,this.C=qi[2]|0,this.D=qi[3]|0,this.E=qi[4]|0,this.F=qi[5]|0,this.G=qi[6]|0,this.H=qi[7]|0}};const Z8=G9(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),eA=Z8[0],tA=Z8[1],$i=new Uint32Array(80),ki=new Uint32Array(80);let nA=class extends K8{constructor(e=64){super(128,e,16,!1),this.Ah=vn[0]|0,this.Al=vn[1]|0,this.Bh=vn[2]|0,this.Bl=vn[3]|0,this.Ch=vn[4]|0,this.Cl=vn[5]|0,this.Dh=vn[6]|0,this.Dl=vn[7]|0,this.Eh=vn[8]|0,this.El=vn[9]|0,this.Fh=vn[10]|0,this.Fl=vn[11]|0,this.Gh=vn[12]|0,this.Gl=vn[13]|0,this.Hh=vn[14]|0,this.Hl=vn[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:a,Ch:i,Cl:s,Dh:c,Dl:l,Eh:u,El:p,Fh:y,Fl:h,Gh:d,Gl:f,Hh:A,Hl:N}=this;return[e,n,r,a,i,s,c,l,u,p,y,h,d,f,A,N]}set(e,n,r,a,i,s,c,l,u,p,y,h,d,f,A,N){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=a|0,this.Ch=i|0,this.Cl=s|0,this.Dh=c|0,this.Dl=l|0,this.Eh=u|0,this.El=p|0,this.Fh=y|0,this.Fl=h|0,this.Gh=d|0,this.Gl=f|0,this.Hh=A|0,this.Hl=N|0}process(e,n){for(let _=0;_<16;_++,n+=4)$i[_]=e.getUint32(n),ki[_]=e.getUint32(n+=4);for(let _=16;_<80;_++){const M=$i[_-15]|0,S=ki[_-15]|0,H=yo(M,S,1)^yo(M,S,8)^$w(M,S,7),z=go(M,S,1)^go(M,S,8)^kw(M,S,7),K=$i[_-2]|0,Z=ki[_-2]|0,k=yo(K,Z,19)^a0(K,Z,61)^$w(K,Z,6),P=go(K,Z,19)^i0(K,Z,61)^kw(K,Z,6),X=L9(z,P,ki[_-7],ki[_-16]),E=Z9(X,H,k,$i[_-7],$i[_-16]);$i[_]=E|0,ki[_]=X|0}let{Ah:r,Al:a,Bh:i,Bl:s,Ch:c,Cl:l,Dh:u,Dl:p,Eh:y,El:h,Fh:d,Fl:f,Gh:A,Gl:N,Hh:v,Hl:x}=this;for(let _=0;_<80;_++){const M=yo(y,h,14)^yo(y,h,18)^a0(y,h,41),S=go(y,h,14)^go(y,h,18)^i0(y,h,41),H=y&d^~y&A,z=h&f^~h&N,K=X9(x,S,z,tA[_],ki[_]),Z=Q9(K,v,M,H,eA[_],$i[_]),k=K|0,P=yo(r,a,28)^a0(r,a,34)^a0(r,a,39),X=go(r,a,28)^i0(r,a,34)^i0(r,a,39),E=r&i^r&c^i&c,O=a&s^a&l^s&l;v=A|0,x=N|0,A=d|0,N=f|0,d=y|0,f=h|0,{h:y,l:h}=za(u|0,p|0,Z|0,k|0),u=c|0,p=l|0,c=i|0,l=s|0,i=r|0,s=a|0;const j=Y9(k,X,O);r=K9(j,Z,P,E),a=j|0}({h:r,l:a}=za(this.Ah|0,this.Al|0,r|0,a|0)),{h:i,l:s}=za(this.Bh|0,this.Bl|0,i|0,s|0),{h:c,l}=za(this.Ch|0,this.Cl|0,c|0,l|0),{h:u,l:p}=za(this.Dh|0,this.Dl|0,u|0,p|0),{h:y,l:h}=za(this.Eh|0,this.El|0,y|0,h|0),{h:d,l:f}=za(this.Fh|0,this.Fl|0,d|0,f|0),{h:A,l:N}=za(this.Gh|0,this.Gl|0,A|0,N|0),{h:v,l:x}=za(this.Hh|0,this.Hl|0,v|0,x|0),this.set(r,a,i,s,c,l,u,p,y,h,d,f,A,N,v,x)}roundClean(){Af($i,ki)}destroy(){Af(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const cr=Jb(()=>new L8),rA=Jb(()=>new W9),aA=Jb(()=>new nA),s0="__principal__",iA=2,Fw=4,sA="aaaaa-aa";let Le=class Bo{static anonymous(){return new this(new Uint8Array([Fw]))}static managementCanister(){return this.fromText(sA)}static selfAuthenticating(e){const n=rA(e);return new this(new Uint8Array([...n,iA]))}static from(e){if(typeof e=="string")return Bo.fromText(e);if(Object.getPrototypeOf(e)===Uint8Array.prototype)return new Bo(e);if(Bo.isPrincipal(e))return new Bo(e._arr);throw new Error(`Impossible to convert ${JSON.stringify(e)} to Principal.`)}static fromHex(e){return new this(Ca(e))}static fromText(e){let n=e;if(e.includes(s0)){const s=JSON.parse(e);s0 in s&&(n=s[s0])}const r=n.toLowerCase().replace(/-/g,"");let a=q9(r);a=a.slice(4,a.length);const i=new this(a);if(i.toText()!==n)throw new Error(`Principal "${i.toText()}" does not have a valid checksum (original value "${n}" may not be a valid Principal ID).`);return i}static fromUint8Array(e){return new this(e)}static isPrincipal(e){return e instanceof Bo||typeof e=="object"&&e!==null&&"_isPrincipal"in e&&e._isPrincipal===!0&&"_arr"in e&&e._arr instanceof Uint8Array}constructor(e){this._arr=e,this._isPrincipal=!0}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===Fw}toUint8Array(){return this._arr}toHex(){return nt(this._arr).toUpperCase()}toText(){const e=new ArrayBuffer(4);new DataView(e).setUint32(0,$9(this._arr));const r=new Uint8Array(e),a=new Uint8Array([...r,...this._arr]),s=M9(a).match(/.{1,5}/g);if(!s)throw new Error;return s.join("-")}toString(){return this.toText()}toJSON(){return{[s0]:this.toText()}}compareTo(e){for(let n=0;n<Math.min(this._arr.length,e._arr.length);n++){if(this._arr[n]<e._arr[n])return"lt";if(this._arr[n]>e._arr[n])return"gt"}return this._arr.length<e._arr.length?"lt":this._arr.length>e._arr.length?"gt":"eq"}ltEq(e){const n=this.compareTo(e);return n=="lt"||n=="eq"}gtEq(e){const n=this.compareTo(e);return n=="gt"||n=="eq"}};var Ni;(function(t){t.Trust="Trust",t.Protocol="Protocol",t.Reject="Reject",t.Transport="Transport",t.External="External",t.Limit="Limit",t.Input="Input",t.Unknown="Unknown"})(Ni||(Ni={}));class He{constructor(e=!1){this.isCertified=e}toString(){let e=this.toErrorMessage();return this.requestContext&&(e+=`
Request context:
  Request ID (hex): ${this.requestContext.requestId?nt(this.requestContext.requestId):"undefined"}
  Sender pubkey (hex): ${nt(this.requestContext.senderPubKey)}
  Sender signature (hex): ${nt(this.requestContext.senderSignature)}
  Ingress expiry: ${this.requestContext.ingressExpiry.toString()}`),this.callContext&&(e+=`
Call context:
  Canister ID: ${this.callContext.canisterId.toText()}
  Method name: ${this.callContext.methodName}
  HTTP details: ${JSON.stringify(this.callContext.httpDetails,null,2)}`),e}}let uc=class X8 extends Error{get code(){return this.cause.code}set code(e){this.cause.code=e}get kind(){return this.cause.kind}set kind(e){this.cause.kind=e}get isCertified(){return this.code.isCertified}constructor(e,n){super(e.toString()),this.name="AgentError",this.cause={code:e,kind:n},Object.setPrototypeOf(this,X8.prototype)}hasCode(e){return this.code instanceof e}toString(){return`${this.name} (${this.kind}): ${this.message}`}};class uo extends uc{static fromCode(e){return new this(e)}}class Or extends uo{constructor(e){super(e,Ni.Trust),this.name="TrustError",Object.setPrototypeOf(this,Or.prototype)}}class It extends uo{constructor(e){super(e,Ni.Protocol),this.name="ProtocolError",Object.setPrototypeOf(this,It.prototype)}}class fl extends uo{constructor(e){super(e,Ni.Reject),this.name="RejectError",Object.setPrototypeOf(this,fl.prototype)}}class Lh extends uo{constructor(e){super(e,Ni.Transport),this.name="TransportError",Object.setPrototypeOf(this,Lh.prototype)}}class Hn extends uo{constructor(e){super(e,Ni.External),this.name="ExternalError",Object.setPrototypeOf(this,Hn.prototype)}}class yt extends uo{constructor(e){super(e,Ni.Input),this.name="InputError",Object.setPrototypeOf(this,yt.prototype)}}class ar extends uo{constructor(e){super(e,Ni.Unknown),this.name="UnknownError",Object.setPrototypeOf(this,ar.prototype)}}class Bf extends He{constructor(e){super(),this.reason=e,this.name="CertificateVerificationErrorCode",Object.setPrototypeOf(this,Bf.prototype)}toErrorMessage(){return`Certificate verification error: "${this.reason}"`}}class Zh extends He{constructor(e,n,r,a){super(),this.maxAgeInMinutes=e,this.certificateTime=n,this.currentTime=r,this.ageType=a,this.name="CertificateTimeErrorCode",Object.setPrototypeOf(this,Zh.prototype)}toErrorMessage(){return`Certificate is signed more than ${this.maxAgeInMinutes} minutes in the ${this.ageType}. Certificate time: ${this.certificateTime.toISOString()} Current time: ${this.currentTime.toISOString()}`}}class Wb extends He{constructor(){super(),this.name="CertificateHasTooManyDelegationsErrorCode",Object.setPrototypeOf(this,Wb.prototype)}toErrorMessage(){return"Certificate has too many delegations"}}class Lm extends He{constructor(e,n){super(),this.canisterId=e,this.subnetId=n,this.name="CertificateNotAuthorizedErrorCode",Object.setPrototypeOf(this,Lm.prototype)}toErrorMessage(){return`The certificate contains a delegation that does not include the canister ${this.canisterId.toText()} in the canister_ranges field. Subnet ID: 0x${nt(this.subnetId)}`}}class Zl extends He{constructor(e,n){super(),this.message=e,this.lookupStatus=n,this.name="LookupErrorCode",Object.setPrototypeOf(this,Zl.prototype)}toErrorMessage(){return`${this.message}. Lookup status: ${this.lookupStatus}`}}class Zm extends He{constructor(e){super(),this.message=e,this.name="MalformedLookupFoundValueErrorCode",Object.setPrototypeOf(this,Zm.prototype)}toErrorMessage(){return this.message}}class e2 extends He{constructor(e){super(),this.message=e,this.name="MissingLookupValueErrorCode",Object.setPrototypeOf(this,e2.prototype)}toErrorMessage(){return this.message}}class Xm extends He{constructor(e,n){super(),this.expectedLength=e,this.actualLength=n,this.name="DerKeyLengthMismatchErrorCode",Object.setPrototypeOf(this,Xm.prototype)}toErrorMessage(){return`BLS DER-encoded public key must be ${this.expectedLength} bytes long, but is ${this.actualLength} bytes long`}}class t2 extends He{constructor(e,n){super(),this.expectedPrefix=e,this.actualPrefix=n,this.name="DerPrefixMismatchErrorCode",Object.setPrototypeOf(this,t2.prototype)}toErrorMessage(){return`BLS DER-encoded public key is invalid. Expected the following prefix: ${nt(this.expectedPrefix)}, but got ${nt(this.actualPrefix)}`}}class n2 extends He{constructor(e,n){super(),this.expectedLength=e,this.actualLength=n,this.name="DerDecodeLengthMismatchErrorCode",Object.setPrototypeOf(this,n2.prototype)}toErrorMessage(){return`DER payload mismatch: Expected length ${this.expectedLength}, actual length: ${this.actualLength}`}}class Si extends He{constructor(e){super(),this.error=e,this.name="DerDecodeErrorCode",Object.setPrototypeOf(this,Si.prototype)}toErrorMessage(){return`Failed to decode DER: ${this.error}`}}class Qm extends He{constructor(e){super(),this.error=e,this.name="DerEncodeErrorCode",Object.setPrototypeOf(this,Qm.prototype)}toErrorMessage(){return`Failed to encode DER: ${this.error}`}}class r2 extends He{constructor(e,n){super(),this.error=e,this.input=n,this.name="CborDecodeErrorCode",Object.setPrototypeOf(this,r2.prototype)}toErrorMessage(){return`Failed to decode CBOR: ${this.error}, input: ${nt(this.input)}`}}class a2 extends He{constructor(e,n){super(),this.error=e,this.value=n,this.name="CborEncodeErrorCode",Object.setPrototypeOf(this,a2.prototype)}toErrorMessage(){return`Failed to encode CBOR: ${this.error}, input: ${this.value}`}}class Rf extends He{constructor(e,n,r){super(),this.message=e,this.requestId=n,this.status=r,this.name="TimeoutWaitingForResponseErrorCode",Object.setPrototypeOf(this,Rf.prototype)}toErrorMessage(){let e=`${this.message}
`;return this.requestId&&(e+=`  Request ID: ${nt(this.requestId)}
`),this.status&&(e+=`  Request status: ${this.status}
`),e}}class i2 extends He{constructor(e,n,r){super(),this.maxIngressExpiryInMinutes=e,this.requestId=n,this.retryTimes=r,this.name="CertificateOutdatedErrorCode",Object.setPrototypeOf(this,i2.prototype)}toErrorMessage(){let e=`Certificate is stale (over ${this.maxIngressExpiryInMinutes} minutes). Is the computer's clock synchronized?
  Request ID: ${nt(this.requestId)}
`;return this.retryTimes!==void 0&&(e+=`  Retried ${this.retryTimes} times.`),e}}class Of extends He{constructor(e,n,r,a){super(!0),this.requestId=e,this.rejectCode=n,this.rejectMessage=r,this.rejectErrorCode=a,this.name="CertifiedRejectErrorCode",Object.setPrototypeOf(this,Of.prototype)}toErrorMessage(){return`The replica returned a rejection error:
  Request ID: ${nt(this.requestId)}
  Reject code: ${this.rejectCode}
  Reject text: ${this.rejectMessage}
  Error code: ${this.rejectErrorCode}
`}}class s2 extends He{constructor(e,n,r,a,i){super(),this.requestId=e,this.rejectCode=n,this.rejectMessage=r,this.rejectErrorCode=a,this.signatures=i,this.name="UncertifiedRejectErrorCode",Object.setPrototypeOf(this,s2.prototype)}toErrorMessage(){return`The replica returned a rejection error:
  Request ID: ${nt(this.requestId)}
  Reject code: ${this.rejectCode}
  Reject text: ${this.rejectMessage}
  Error code: ${this.rejectErrorCode}
`}}class c2 extends He{constructor(e){super(),this.requestId=e,this.name="RequestStatusDoneNoReplyErrorCode",Object.setPrototypeOf(this,c2.prototype)}toErrorMessage(){return`Call was marked as done but we never saw the reply:
  Request ID: ${nt(this.requestId)}
`}}class Xc extends He{constructor(e){super(),this.shouldFetchRootKey=e,this.name="MissingRootKeyErrorCode",Object.setPrototypeOf(this,Xc.prototype)}toErrorMessage(){return this.shouldFetchRootKey===void 0?"Agent is missing root key":`Agent is missing root key and the shouldFetchRootKey value is set to ${this.shouldFetchRootKey}. The root key should only be unknown if you are in local development. Otherwise you should avoid fetching and use the default IC Root Key or the known root key of your environment.`}}class o2 extends He{constructor(e){super(),this.value=e,this.name="HashValueErrorCode",Object.setPrototypeOf(this,o2.prototype)}toErrorMessage(){return`Attempt to hash a value of unsupported type: ${this.value}`}}class rf extends He{constructor(e){super(),this.error=e,this.name="HttpDefaultFetchErrorCode",Object.setPrototypeOf(this,rf.prototype)}toErrorMessage(){return this.error}}class fc extends He{constructor(){super(),this.name="IdentityInvalidErrorCode",Object.setPrototypeOf(this,fc.prototype)}toErrorMessage(){return"This identity has expired due this application's security policy. Please refresh your authentication."}}class Lo extends He{constructor(e,n){super(),this.message=e,this.providedIngressExpiryInMinutes=n,this.name="IngressExpiryInvalidErrorCode",Object.setPrototypeOf(this,Lo.prototype)}toErrorMessage(){return`${this.message}. Provided ingress expiry time is ${this.providedIngressExpiryInMinutes} minutes.`}}class l2 extends He{constructor(){super(),this.name="CreateHttpAgentErrorCode",Object.setPrototypeOf(this,l2.prototype)}toErrorMessage(){return"Failed to create agent from provided agent"}}class u2 extends He{constructor(e){super(),this.error=e,this.name="MalformedSignatureErrorCode",Object.setPrototypeOf(this,u2.prototype)}toErrorMessage(){return`Query response contained a malformed signature: ${this.error}`}}class Xh extends He{constructor(){super(),this.name="MissingSignatureErrorCode",Object.setPrototypeOf(this,Xh.prototype)}toErrorMessage(){return"Query response did not contain any node signatures"}}class f2 extends He{constructor(){super(),this.name="MalformedPublicKeyErrorCode",Object.setPrototypeOf(this,f2.prototype)}toErrorMessage(){return"Read state response contained a malformed public key"}}class d2 extends He{constructor(e){super(),this.nodeId=e,this.name="QuerySignatureVerificationFailedErrorCode",Object.setPrototypeOf(this,d2.prototype)}toErrorMessage(){return`Query signature verification failed. Node ID: ${this.nodeId}`}}class wa extends He{constructor(e){super(),this.error=e,this.name="UnexpectedErrorCode",Object.setPrototypeOf(this,wa.prototype)}toErrorMessage(){return`Unexpected error: ${this.error}`}}class Rd extends He{constructor(e){super(),this.error=e,this.name="HashTreeDecodeErrorCode",Object.setPrototypeOf(this,Rd.prototype)}toErrorMessage(){return`Failed to decode certificate: ${this.error}`}}class Qh extends He{constructor(e,n,r,a){super(),this.status=e,this.statusText=n,this.headers=r,this.bodyText=a,this.name="HttpErrorCode",Object.setPrototypeOf(this,Qh.prototype)}toErrorMessage(){let e=`HTTP request failed:
  Status: ${this.status} (${this.statusText})
  Headers: ${JSON.stringify(this.headers)}
`;return this.bodyText&&(e+=`  Body: ${this.bodyText}
`),e}}class Jh extends He{constructor(){super(),this.name="HttpV3ApiNotSupportedErrorCode",Object.setPrototypeOf(this,Jh.prototype)}toErrorMessage(){return"HTTP request failed: v3 API is not supported"}}class Wh extends He{constructor(e){super(),this.error=e,this.name="HttpFetchErrorCode",Object.setPrototypeOf(this,Wh.prototype)}toErrorMessage(){return`Failed to fetch HTTP request: ${this.error}`}}class em extends He{constructor(e){super(),this.receivedCanisterId=e,this.name="MissingCanisterIdErrorCode",Object.setPrototypeOf(this,em.prototype)}toErrorMessage(){return`Canister ID is required, but received ${typeof this.receivedCanisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`}}class h2 extends He{constructor(e){super(),this.request=e,this.name="InvalidReadStateRequestErrorCode",Object.setPrototypeOf(this,h2.prototype)}toErrorMessage(){return`Invalid read state request: ${this.request}`}}class tm extends He{constructor(e){super(),this.error=e,this.name="ExpiryJsonDeserializeErrorCode",Object.setPrototypeOf(this,tm.prototype)}toErrorMessage(){return`Failed to deserialize expiry: ${this.error}`}}const dl=new Error("unreachable");function Qe(...t){const e=new Uint8Array(t.reduce((r,a)=>r+a.byteLength,0));let n=0;for(const r of t)e.set(r,n),n+=r.byteLength;return e}let uu=class{save(){return this._view}restore(e){if(!(e instanceof Uint8Array))throw new Error("Checkpoint must be a Uint8Array");this._view=e}constructor(e,n=(e==null?void 0:e.byteLength)||0){if(e&&!(e instanceof Uint8Array))try{e=Fs(e)}catch{throw new Error("Buffer must be a Uint8Array")}if(n<0||!Number.isInteger(n))throw new Error("Length must be a non-negative integer");if(e&&n>e.byteLength)throw new Error("Length cannot exceed buffer length");this._buffer=e||new Uint8Array(0),this._view=new Uint8Array(this._buffer.buffer,0,n)}get buffer(){return this._view.slice()}get byteLength(){return this._view.byteLength}read(e){const n=this._view.subarray(0,e);return this._view=this._view.subarray(e),n.slice()}readUint8(){if(this._view.byteLength===0)return;const e=this._view[0];return this._view=this._view.subarray(1),e}write(e){if(!(e instanceof Uint8Array))throw new Error("Buffer must be a Uint8Array");const n=this._view.byteLength;this._view.byteOffset+this._view.byteLength+e.byteLength>=this._buffer.byteLength?this.alloc(e.byteLength):this._view=new Uint8Array(this._buffer.buffer,this._view.byteOffset,this._view.byteLength+e.byteLength),this._view.set(e,n)}get end(){return this._view.byteLength===0}alloc(e){if(e<=0||!Number.isInteger(e))throw new Error("Amount must be a positive integer");const n=new Uint8Array((this._buffer.byteLength+e)*1.2|0),r=new Uint8Array(n.buffer,0,this._view.byteLength+e);r.set(this._view),this._buffer=n,this._view=r}};function Fs(t){if(!t)throw new Error("Input cannot be null or undefined");return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):Array.isArray(t)?new Uint8Array(t):"buffer"in t?Fs(t.buffer):new Uint8Array(t)}function Q8(t,e){if(t.byteLength!==e.byteLength)return t.byteLength-e.byteLength;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return t[n]-e[n];return 0}function cA(t,e){return Q8(t,e)===0}function oA(t){if(!(t instanceof Uint8Array))throw new Error("Input must be a Uint8Array");return new DataView(t.buffer,t.byteOffset,t.byteLength)}function lA(t){const n=new TextEncoder().encode(t);let r=0;for(const a of n)r=(r*223+a)%2**32;return r}function Ea(t){if(/^_\d+_$/.test(t)||/^_0x[0-9a-fA-F]+_$/.test(t)){const e=+t.slice(1,-1);if(Number.isSafeInteger(e)&&e>=0&&e<2**32)return e}return lA(t)}function J8(t){const e=BigInt(t);if(t<=0)throw new RangeError("Input must be positive");return e.toString(2).length-1}function lg(t){const e=BigInt(t);if(t<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<e}function W8(){throw new Error("unexpected end of buffer")}function Qc(t,e){return t.byteLength<e&&W8(),t.read(e)}function Jc(t){const e=t.readUint8();return e===void 0&&W8(),e}function Bt(t){if(typeof t=="number"&&(t=BigInt(t)),t<BigInt(0))throw new Error("Cannot leb encode negative values.");const e=(t===BigInt(0)?0:J8(t))+1,n=new uu(new Uint8Array(e),0);for(;;){const r=Number(t&BigInt(127));if(t/=BigInt(128),t===BigInt(0)){n.write(new Uint8Array([r]));break}else n.write(new Uint8Array([r|128]))}return n.buffer}function tn(t){let e=BigInt(1),n=BigInt(0),r;do r=Jc(t),n+=BigInt(r&127).valueOf()*e,e*=BigInt(128);while(r>=128);return n}function Qt(t){typeof t=="number"&&(t=BigInt(t));const e=t<BigInt(0);e&&(t=-t-BigInt(1));const n=(t===BigInt(0)?0:J8(t))+1,r=new uu(new Uint8Array(n),0);for(;;){const i=a(t);if(t/=BigInt(128),e&&t===BigInt(0)&&i&64||!e&&t===BigInt(0)&&!(i&64)){r.write(new Uint8Array([i]));break}else r.write(new Uint8Array([i|128]))}function a(i){const s=i%BigInt(128);return Number(e?BigInt(128)-s-BigInt(1):s)}return r.buffer}function Gi(t){const e=new Uint8Array(t.buffer);let n=0;for(;n<e.byteLength;n++)if(e[n]<128){if(!(e[n]&64))return tn(t);break}const r=new Uint8Array(Qc(t,n+1));let a=BigInt(0);for(let i=r.byteLength-1;i>=0;i--)a=a*BigInt(128)+BigInt(128-(r[i]&127)-1);return-a-BigInt(1)}function uA(t,e){if(BigInt(t)<BigInt(0))throw new Error("Cannot write negative values.");return e_(t,e)}function e_(t,e){t=BigInt(t);const n=new uu(new Uint8Array(Math.min(1,e)),0);let r=0,a=BigInt(256),i=BigInt(0),s=Number(t%a);for(n.write(new Uint8Array([s]));++r<e;)t<0&&i===BigInt(0)&&s!==0&&(i=BigInt(1)),s=Number((t/a-i)%BigInt(256)),n.write(new Uint8Array([s])),a*=BigInt(256);return n.buffer}function t_(t,e){if(e<=0||!Number.isInteger(e))throw new Error("Byte length must be a positive integer");let n=BigInt(Jc(t)),r=BigInt(1),a=0;for(;++a<e;){r*=BigInt(256);const i=BigInt(Jc(t));n=n+r*i}return n}function fA(t,e){if(e<=0||!Number.isInteger(e))throw new Error("Byte length must be a positive integer");let n=t_(t,e);const r=BigInt(2)**(BigInt(8)*BigInt(e-1)+BigInt(7));return n>=r&&(n-=r*BigInt(2)),n}var Xe;(function(t){t[t.Null=-1]="Null",t[t.Bool=-2]="Bool",t[t.Nat=-3]="Nat",t[t.Int=-4]="Int",t[t.Float32=-13]="Float32",t[t.Float64=-14]="Float64",t[t.Text=-15]="Text",t[t.Reserved=-16]="Reserved",t[t.Empty=-17]="Empty",t[t.Opt=-18]="Opt",t[t.Vector=-19]="Vector",t[t.Record=-20]="Record",t[t.Variant=-21]="Variant",t[t.Func=-22]="Func",t[t.Service=-23]="Service",t[t.Principal=-24]="Principal"})(Xe||(Xe={}));const F0="DIDL",jw=400;function Uf(t,e,n){return t.map((r,a)=>n(r,e[a]))}let dA=class{constructor(){this._typs=[],this._idx=new Map}has(e){return this._idx.has(e.name)}add(e,n){const r=this._typs.length;this._idx.set(e.name,r),this._typs.push(n)}merge(e,n){const r=this._idx.get(e.name),a=this._idx.get(n);if(r===void 0)throw new Error("Missing type index for "+e);if(a===void 0)throw new Error("Missing type index for "+n);this._typs[r]=this._typs[a],this._typs.splice(a,1),this._idx.delete(n)}encode(){const e=Bt(this._typs.length),n=Qe(...this._typs);return Qe(e,n)}indexOf(e){if(!this._idx.has(e))throw new Error("Missing type index for "+e);return Qt(this._idx.get(e)||0)}},hA=class{visitType(e,n){throw new Error("Not implemented")}visitPrimitive(e,n){return this.visitType(e,n)}visitEmpty(e,n){return this.visitPrimitive(e,n)}visitBool(e,n){return this.visitPrimitive(e,n)}visitNull(e,n){return this.visitPrimitive(e,n)}visitReserved(e,n){return this.visitPrimitive(e,n)}visitText(e,n){return this.visitPrimitive(e,n)}visitNumber(e,n){return this.visitPrimitive(e,n)}visitInt(e,n){return this.visitNumber(e,n)}visitNat(e,n){return this.visitNumber(e,n)}visitFloat(e,n){return this.visitPrimitive(e,n)}visitFixedInt(e,n){return this.visitNumber(e,n)}visitFixedNat(e,n){return this.visitNumber(e,n)}visitPrincipal(e,n){return this.visitPrimitive(e,n)}visitConstruct(e,n){return this.visitType(e,n)}visitVec(e,n,r){return this.visitConstruct(e,r)}visitOpt(e,n,r){return this.visitConstruct(e,r)}visitRecord(e,n,r){return this.visitConstruct(e,r)}visitTuple(e,n,r){const a=n.map((i,s)=>[`_${s}_`,i]);return this.visitRecord(e,a,r)}visitVariant(e,n,r){return this.visitConstruct(e,r)}visitRec(e,n,r){return this.visitConstruct(n,r)}visitFunc(e,n){return this.visitConstruct(e,n)}visitService(e,n){return this.visitConstruct(e,n)}},Jm=class{display(){return this.name}valueToString(e){return kt(e)}buildTypeTable(e){e.has(this)||this._buildTypeTableImpl(e)}},Ir=class extends Jm{checkType(e){if(this.name!==e.name)throw new Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`);return e}_buildTypeTableImpl(e){}},Js=class extends Jm{checkType(e){if(e instanceof Ia){const n=e.getType();if(typeof n>"u")throw new Error("type mismatch with uninitialized type");return n}throw new Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`)}encodeType(e){return e.indexOf(this.name)}},m2=class extends Ir{accept(e,n){return e.visitEmpty(this,n)}covariant(e){throw new Error(`Invalid ${this.display()} argument: ${kt(e)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return Qt(Xe.Empty)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}},n_=class extends Jm{checkType(e){throw new Error("Method not implemented for unknown.")}accept(e,n){throw e.visitType(this,n)}covariant(e){throw new Error(`Invalid ${this.display()} argument: ${kt(e)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(e,n){let r=n.decodeValue(e,n);Object(r)!==r&&(r=Object(r));let a;return n instanceof Ia?a=()=>n.getType():a=()=>n,Object.defineProperty(r,"type",{value:a,writable:!0,enumerable:!1,configurable:!0}),r}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}},r_=class extends Ir{accept(e,n){return e.visitBool(this,n)}covariant(e){if(typeof e=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${kt(e)}`)}encodeValue(e){return new Uint8Array([e?1:0])}encodeType(){return Qt(Xe.Bool)}decodeValue(e,n){switch(this.checkType(n),Jc(e)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}},Cf=class extends Ir{accept(e,n){return e.visitNull(this,n)}covariant(e){if(e===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${kt(e)}`)}encodeValue(){return new Uint8Array(0)}encodeType(){return Qt(Xe.Null)}decodeValue(e,n){return this.checkType(n),null}get name(){return"null"}},Ls=class extends Ir{accept(e,n){return e.visitReserved(this,n)}covariant(e){return!0}encodeValue(){return new Uint8Array(0)}encodeType(){return Qt(Xe.Reserved)}decodeValue(e,n){return n.name!==this.name&&n.decodeValue(e,n),null}get name(){return"reserved"}},a_=class extends Ir{accept(e,n){return e.visitText(this,n)}covariant(e){if(typeof e=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${kt(e)}`)}encodeValue(e){const n=new TextEncoder().encode(e),r=Bt(n.byteLength);return Qe(r,n)}encodeType(){return Qt(Xe.Text)}decodeValue(e,n){this.checkType(n);const r=tn(e),a=Qc(e,Number(r));return new TextDecoder("utf8",{fatal:!0}).decode(a)}get name(){return"text"}valueToString(e){return'"'+e+'"'}},p2=class extends Ir{accept(e,n){return e.visitInt(this,n)}covariant(e){if(typeof e=="bigint"||Number.isInteger(e))return!0;throw new Error(`Invalid ${this.display()} argument: ${kt(e)}`)}encodeValue(e){return Qt(e)}encodeType(){return Qt(Xe.Int)}decodeValue(e,n){return this.checkType(n),Gi(e)}get name(){return"int"}valueToString(e){return e.toString()}},y2=class extends Ir{accept(e,n){return e.visitNat(this,n)}covariant(e){if(typeof e=="bigint"&&e>=BigInt(0)||Number.isInteger(e)&&e>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${kt(e)}`)}encodeValue(e){return Bt(e)}encodeType(){return Qt(Xe.Nat)}decodeValue(e,n){return this.checkType(n),tn(e)}get name(){return"nat"}valueToString(e){return e.toString()}},g2=class extends Ir{constructor(e){if(super(),this._bits=e,e!==32&&e!==64)throw new Error("not a valid float type")}accept(e,n){return e.visitFloat(this,n)}covariant(e){if(typeof e=="number"||e instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${kt(e)}`)}encodeValue(e){const n=new ArrayBuffer(this._bits/8),r=new DataView(n);return this._bits===32?r.setFloat32(0,e,!0):r.setFloat64(0,e,!0),new Uint8Array(n)}encodeType(){const e=this._bits===32?Xe.Float32:Xe.Float64;return Qt(e)}decodeValue(e,n){this.checkType(n);const r=Qc(e,this._bits/8),a=oA(r);return this._bits===32?a.getFloat32(0,!0):a.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(e){return e.toString()}},Wc=class extends Ir{constructor(e){super(),this._bits=e}accept(e,n){return e.visitFixedInt(this,n)}covariant(e){const n=lg(this._bits-1)*BigInt(-1),r=lg(this._bits-1)-BigInt(1);let a=!1;if(typeof e=="bigint")a=e>=n&&e<=r;else if(Number.isInteger(e)){const i=BigInt(e);a=i>=n&&i<=r}else a=!1;if(a)return!0;throw new Error(`Invalid ${this.display()} argument: ${kt(e)}`)}encodeValue(e){return e_(e,this._bits/8)}encodeType(){const e=Math.log2(this._bits)-3;return Qt(-9-e)}decodeValue(e,n){this.checkType(n);const r=fA(e,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`int${this._bits}`}valueToString(e){return e.toString()}},js=class extends Ir{constructor(e){super(),this._bits=e}accept(e,n){return e.visitFixedNat(this,n)}covariant(e){const n=lg(this._bits);let r=!1;if(typeof e=="bigint"&&e>=BigInt(0)?r=e<n:Number.isInteger(e)&&e>=0?r=BigInt(e)<n:r=!1,r)return!0;throw new Error(`Invalid ${this.display()} argument: ${kt(e)}`)}encodeValue(e){return uA(e,this._bits/8)}encodeType(){const e=Math.log2(this._bits)-3;return Qt(-5-e)}decodeValue(e,n){this.checkType(n);const r=t_(e,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`nat${this._bits}`}valueToString(e){return e.toString()}},nm=class i_ extends Js{constructor(e){super(),this._type=e,this._blobOptimization=!1,e instanceof js&&e._bits===8&&(this._blobOptimization=!0)}accept(e,n){return e.visitVec(this,this._type,n)}covariant(e){const n=this._type instanceof js?this._type._bits:this._type instanceof Wc?this._type._bits:0;if(ArrayBuffer.isView(e)&&n==e.BYTES_PER_ELEMENT*8||Array.isArray(e)&&e.every((r,a)=>{try{return this._type.covariant(r)}catch(i){throw new Error(`Invalid ${this.display()} argument: 

index ${a} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${kt(e)}`)}encodeValue(e){const n=Bt(e.length);if(this._blobOptimization)return Qe(n,new Uint8Array(e));if(ArrayBuffer.isView(e))if(e instanceof Int16Array||e instanceof Uint16Array){const a=new DataView(new ArrayBuffer(e.length*2));for(let i=0;i<e.length;i++)e instanceof Int16Array?a.setInt16(i*2,e[i],!0):a.setUint16(i*2,e[i],!0);return Qe(n,new Uint8Array(a.buffer))}else if(e instanceof Int32Array||e instanceof Uint32Array){const a=new DataView(new ArrayBuffer(e.length*4));for(let i=0;i<e.length;i++)e instanceof Int32Array?a.setInt32(i*4,e[i],!0):a.setUint32(i*4,e[i],!0);return Qe(n,new Uint8Array(a.buffer))}else if(e instanceof BigInt64Array||e instanceof BigUint64Array){const a=new DataView(new ArrayBuffer(e.length*8));for(let i=0;i<e.length;i++)e instanceof BigInt64Array?a.setBigInt64(i*8,e[i],!0):a.setBigUint64(i*8,e[i],!0);return Qe(n,new Uint8Array(a.buffer))}else return Qe(n,new Uint8Array(e.buffer,e.byteOffset,e.byteLength));const r=new uu(new Uint8Array(n.byteLength+e.length),0);r.write(n);for(const a of e){const i=this._type.encodeValue(a);r.write(new Uint8Array(i))}return r.buffer}_buildTypeTableImpl(e){this._type.buildTypeTable(e);const n=Qt(Xe.Vector),r=this._type.encodeType(e);e.add(this,Qe(n,r))}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof i_))throw new Error("Not a vector type");const a=Number(tn(e));if(this._type instanceof js){if(this._type._bits==8)return new Uint8Array(e.read(a));if(this._type._bits==16){const s=e.read(a*2);return new Uint16Array(s.buffer,s.byteOffset,a)}if(this._type._bits==32){const s=e.read(a*4);return new Uint32Array(s.buffer,s.byteOffset,a)}if(this._type._bits==64)return new BigUint64Array(e.read(a*8).buffer)}if(this._type instanceof Wc){if(this._type._bits==8)return new Int8Array(e.read(a));if(this._type._bits==16){const s=e.read(a*2),c=new DataView(s.buffer,s.byteOffset,s.byteLength),l=new Int16Array(a);for(let u=0;u<a;u++)l[u]=c.getInt16(u*2,!0);return l}if(this._type._bits==32){const s=e.read(a*4),c=new DataView(s.buffer,s.byteOffset,s.byteLength),l=new Int32Array(a);for(let u=0;u<a;u++)l[u]=c.getInt32(u*4,!0);return l}if(this._type._bits==64){const s=e.read(a*8),c=new DataView(s.buffer,s.byteOffset,s.byteLength),l=new BigInt64Array(a);for(let u=0;u<a;u++)l[u]=c.getBigInt64(u*8,!0);return l}}const i=[];for(let s=0;s<a;s++)i.push(this._type.decodeValue(e,r._type));return i}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(e){return"vec {"+e.map(r=>this._type.valueToString(r)).join("; ")+"}"}},Xl=class ug extends Js{constructor(e){super(),this._type=e}accept(e,n){return e.visitOpt(this,this._type,n)}covariant(e){try{if(Array.isArray(e)&&(e.length===0||e.length===1&&this._type.covariant(e[0])))return!0}catch(n){throw new Error(`Invalid ${this.display()} argument: ${kt(e)} 

-> ${n.message}`)}throw new Error(`Invalid ${this.display()} argument: ${kt(e)}`)}encodeValue(e){return e.length===0?new Uint8Array([0]):Qe(new Uint8Array([1]),this._type.encodeValue(e[0]))}_buildTypeTableImpl(e){this._type.buildTypeTable(e);const n=Qt(Xe.Opt),r=this._type.encodeType(e);e.add(this,Qe(n,r))}decodeValue(e,n){if(n instanceof Cf)return[];if(n instanceof Ls)return[];let r=n;if(n instanceof Ia){const a=n.getType();if(typeof a>"u")throw new Error("type mismatch with uninitialized type");r=a}if(r instanceof ug)switch(Jc(e)){case 0:return[];case 1:{const a=e.save();try{return[this._type.decodeValue(e,r._type)]}catch{return e.restore(a),r._type.decodeValue(e,r._type),[]}}default:throw new Error("Not an option value")}else{if(this._type instanceof Cf||this._type instanceof ug||this._type instanceof Ls)return r.decodeValue(e,r),[];{const a=e.save();try{return[this._type.decodeValue(e,n)]}catch{return e.restore(a),r.decodeValue(e,n),[]}}}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(e){return e.length===0?"null":`opt ${this._type.valueToString(e[0])}`}},Mf=class s_ extends Js{constructor(e={}){super(),this._fields=Object.entries(e).sort((n,r)=>Ea(n[0])-Ea(r[0]))}accept(e,n){return e.visitRecord(this,this._fields,n)}tryAsTuple(){const e=[];for(let n=0;n<this._fields.length;n++){const[r,a]=this._fields[n];if(r!==`_${n}_`)return null;e.push(a)}return e}covariant(e){if(typeof e=="object"&&this._fields.every(([n,r])=>{if(!e.hasOwnProperty(n))throw new Error(`Record is missing key "${n}".`);try{return r.covariant(e[n])}catch(a){throw new Error(`Invalid ${this.display()} argument: 

field ${n} -> ${a.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${kt(e)}`)}encodeValue(e){const n=this._fields.map(([a])=>e[a]),r=Uf(this._fields,n,([,a],i)=>a.encodeValue(i));return Qe(...r)}_buildTypeTableImpl(e){this._fields.forEach(([i,s])=>s.buildTypeTable(e));const n=Qt(Xe.Record),r=Bt(this._fields.length),a=this._fields.map(([i,s])=>Qe(Bt(Ea(i)),s.encodeType(e)));e.add(this,Qe(n,r,Qe(...a)))}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof s_))throw new Error("Not a record type");const a={};let i=0,s=0;for(;s<r._fields.length;){const[c,l]=r._fields[s];if(i>=this._fields.length){l.decodeValue(e,l),s++;continue}const[u,p]=this._fields[i],y=Ea(this._fields[i][0]),h=Ea(c);if(y===h)a[u]=p.decodeValue(e,l),i++,s++;else if(h>y)if(p instanceof Xl||p instanceof Ls)a[u]=[],i++;else throw new Error("Cannot find required field "+u);else l.decodeValue(e,l),s++}for(const[c,l]of this._fields.slice(i))if(l instanceof Xl||l instanceof Ls)a[c]=[];else throw new Error("Cannot find required field "+c);return a}get fieldsAsObject(){const e={};for(const[n,r]of this._fields)e[n]=r;return e}get name(){return`record {${this._fields.map(([n,r])=>n+":"+r.name).join("; ")}}`}display(){return`record {${this._fields.map(([n,r])=>n+":"+r.display()).join("; ")}}`}valueToString(e){const n=this._fields.map(([a])=>e[a]);return`record {${Uf(this._fields,n,([a,i],s)=>a+"="+i.valueToString(s)).join("; ")}}`}},c_=class o_ extends Mf{constructor(e){const n={};e.forEach((r,a)=>n["_"+a+"_"]=r),super(n),this._components=e}accept(e,n){return e.visitTuple(this,this._components,n)}covariant(e){if(Array.isArray(e)&&e.length>=this._fields.length&&this._components.every((n,r)=>{try{return n.covariant(e[r])}catch(a){throw new Error(`Invalid ${this.display()} argument: 

index ${r} -> ${a.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${kt(e)}`)}encodeValue(e){const n=Uf(this._components,e,(r,a)=>r.encodeValue(a));return Qe(...n)}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof o_))throw new Error("not a tuple type");if(r._components.length<this._components.length)throw new Error("tuple mismatch");const a=[];for(const[i,s]of r._components.entries())i>=this._components.length?s.decodeValue(e,s):a.push(this._components[i].decodeValue(e,s));return a}display(){return`record {${this._components.map(n=>n.display()).join("; ")}}`}valueToString(e){return`record {${Uf(this._components,e,(r,a)=>r.valueToString(a)).join("; ")}}`}},rm=class l_ extends Js{constructor(e={}){super(),this._fields=Object.entries(e).sort((n,r)=>Ea(n[0])-Ea(r[0]))}accept(e,n){return e.visitVariant(this,this._fields,n)}covariant(e){if(typeof e=="object"&&Object.entries(e).length===1&&this._fields.every(([n,r])=>{try{return!e.hasOwnProperty(n)||r.covariant(e[n])}catch(a){throw new Error(`Invalid ${this.display()} argument: 

variant ${n} -> ${a.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${kt(e)}`)}encodeValue(e){for(let n=0;n<this._fields.length;n++){const[r,a]=this._fields[n];if(e.hasOwnProperty(r)){const i=Bt(n),s=a.encodeValue(e[r]);return Qe(i,s)}}throw Error("Variant has no data: "+e)}_buildTypeTableImpl(e){this._fields.forEach(([,i])=>{i.buildTypeTable(e)});const n=Qt(Xe.Variant),r=Bt(this._fields.length),a=this._fields.map(([i,s])=>Qe(Bt(Ea(i)),s.encodeType(e)));e.add(this,Qe(n,r,...a))}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof l_))throw new Error("Not a variant type");const a=Number(tn(e));if(a>=r._fields.length)throw Error("Invalid variant index: "+a);const[i,s]=r._fields[a];for(const[c,l]of this._fields)if(Ea(i)===Ea(c)){const u=l.decodeValue(e,s);return{[c]:u}}throw new Error("Cannot find field hash "+i)}get name(){return`variant {${this._fields.map(([n,r])=>n+":"+r.name).join("; ")}}`}display(){return`variant {${this._fields.map(([n,r])=>n+(r.name==="null"?"":`:${r.display()}`)).join("; ")}}`}valueToString(e){for(const[n,r]of this._fields)if(e.hasOwnProperty(n)){const a=r.valueToString(e[n]);return a==="null"?`variant {${n}}`:`variant {${n}=${a}}`}throw new Error("Variant has no data: "+e)}get alternativesAsObject(){const e={};for(const[n,r]of this._fields)e[n]=r;return e}};var Dc;let Ia=(Dc=class extends Js{constructor(){super(...arguments),this._id=Dc._counter++}accept(e,n){if(!this._type)throw Error("Recursive type uninitialized.");return e.visitRec(this,this._type,n)}fill(e){this._type=e}getType(){return this._type}covariant(e){if(this._type&&this._type.covariant(e))return!0;throw new Error(`Invalid ${this.display()} argument: ${kt(e)}`)}encodeValue(e){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(e)}_buildTypeTableImpl(e){if(!this._type)throw Error("Recursive type uninitialized.");e.add(this,new Uint8Array([])),this._type.buildTypeTable(e),e.merge(this,this._type.name)}decodeValue(e,n){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(e,n)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`${this.name}.${this._type.name}`}valueToString(e){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(e)}},Dc._counter=0,Dc);function b2(t){if(Jc(t)!==1)throw new Error("Cannot decode principal");const n=Number(tn(t));return Le.fromUint8Array(new Uint8Array(Qc(t,n)))}let u_=class extends Ir{accept(e,n){return e.visitPrincipal(this,n)}covariant(e){if(e&&e._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${kt(e)}`)}encodeValue(e){const n=e.toUint8Array(),r=Bt(n.byteLength);return Qe(new Uint8Array([1]),r,n)}encodeType(){return Qt(Xe.Principal)}decodeValue(e,n){return this.checkType(n),b2(e)}get name(){return"principal"}valueToString(e){return`${this.name} "${e.toText()}"`}},qf=class extends Js{static argsToString(e,n){if(e.length!==n.length)throw new Error("arity mismatch");return"("+e.map((r,a)=>r.valueToString(n[a])).join(", ")+")"}constructor(e,n,r=[]){super(),this.argTypes=e,this.retTypes=n,this.annotations=r}accept(e,n){return e.visitFunc(this,n)}covariant(e){if(Array.isArray(e)&&e.length===2&&e[0]&&e[0]._isPrincipal&&typeof e[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${kt(e)}`)}encodeValue([e,n]){const r=e.toUint8Array(),a=Bt(r.byteLength),i=Qe(new Uint8Array([1]),a,r),s=new TextEncoder().encode(n),c=Bt(s.byteLength);return Qe(new Uint8Array([1]),i,c,s)}_buildTypeTableImpl(e){this.argTypes.forEach(u=>u.buildTypeTable(e)),this.retTypes.forEach(u=>u.buildTypeTable(e));const n=Qt(Xe.Func),r=Bt(this.argTypes.length),a=Qe(...this.argTypes.map(u=>u.encodeType(e))),i=Bt(this.retTypes.length),s=Qe(...this.retTypes.map(u=>u.encodeType(e))),c=Bt(this.annotations.length),l=Qe(...this.annotations.map(u=>this.encodeAnnotation(u)));e.add(this,Qe(n,r,a,i,s,c,l))}decodeValue(e,n){const r=n instanceof Ia?n.getType()??n:n;if(!x2(r,this))throw new Error(`Cannot decode function reference at type ${this.display()} from wire type ${r.display()}`);if(Jc(e)!==1)throw new Error("Cannot decode function reference");const i=b2(e),s=Number(tn(e)),c=Qc(e,s),u=new TextDecoder("utf8",{fatal:!0}).decode(c);return[i,u]}get name(){const e=this.argTypes.map(a=>a.name).join(", "),n=this.retTypes.map(a=>a.name).join(", "),r=" "+this.annotations.join(" ");return`(${e}) -> (${n})${r}`}valueToString([e,n]){return`func "${e.toText()}".${n}`}display(){const e=this.argTypes.map(a=>a.display()).join(", "),n=this.retTypes.map(a=>a.display()).join(", "),r=" "+this.annotations.join(" ");return`(${e})  (${n})${r}`}encodeAnnotation(e){if(e==="query")return new Uint8Array([1]);if(e==="oneway")return new Uint8Array([2]);if(e==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}},am=class extends Js{constructor(e){super(),this._fields=Object.entries(e).sort((n,r)=>n[0]<r[0]?-1:n[0]>r[0]?1:0)}accept(e,n){return e.visitService(this,n)}covariant(e){if(e&&e._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${kt(e)}`)}encodeValue(e){const n=e.toUint8Array(),r=Bt(n.length);return Qe(new Uint8Array([1]),r,n)}_buildTypeTableImpl(e){this._fields.forEach(([i,s])=>s.buildTypeTable(e));const n=Qt(Xe.Service),r=Bt(this._fields.length),a=this._fields.map(([i,s])=>{const c=new TextEncoder().encode(i),l=Bt(c.length);return Qe(l,c,s.encodeType(e))});e.add(this,Qe(n,r,...a))}decodeValue(e,n){const r=n instanceof Ia?n.getType()??n:n;if(!x2(r,this))throw new Error(`Cannot decode service reference at type ${this.display()} from wire type ${r.display()}`);return b2(e)}get name(){return`service {${this._fields.map(([n,r])=>n+":"+r.name).join("; ")}}`}valueToString(e){return`service "${e.toText()}"`}fieldsAsObject(){const e={};for(const[n,r]of this._fields)e[n]=r;return e}};function kt(t){const e=JSON.stringify(t,(n,r)=>typeof r=="bigint"?`BigInt(${r})`:r);return e&&e.length>jw?e.substring(0,jw-3)+"...":e}function fg(t,e){if(e.length<t.length)throw Error("Wrong number of message arguments");const n=new dA;t.forEach(l=>l.buildTypeTable(n));const r=new TextEncoder().encode(F0),a=n.encode(),i=Bt(e.length),s=Qe(...t.map(l=>l.encodeType(n))),c=Qe(...Uf(t,e,(l,u)=>{try{l.covariant(u)}catch(p){throw new Error(p.message+`

`)}return l.encodeValue(u)}));return Qe(r,a,i,s,c)}function f_(t,e){const n=new uu(e);if(e.byteLength<F0.length)throw new Error("Message length smaller than magic number");const r=Qc(n,F0.length),a=new TextDecoder().decode(r);if(a!==F0)throw new Error("Wrong magic number: "+JSON.stringify(a));function i(h){const d=[],f=Number(tn(h));for(let v=0;v<f;v++){const x=Number(Gi(h));switch(x){case Xe.Opt:case Xe.Vector:{const _=Number(Gi(h));d.push([x,_]);break}case Xe.Record:case Xe.Variant:{const _=[];let M=Number(tn(h)),S;for(;M--;){const H=Number(tn(h));if(H>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof S=="number"&&S>=H)throw new Error("field id collision or not sorted");S=H;const z=Number(Gi(h));_.push([H,z])}d.push([x,_]);break}case Xe.Func:{const _=[];let M=Number(tn(h));for(;M--;)_.push(Number(Gi(h)));const S=[];let H=Number(tn(h));for(;H--;)S.push(Number(Gi(h)));const z=[];let K=Number(tn(h));for(;K--;)switch(Number(tn(h))){case 1:{z.push("query");break}case 2:{z.push("oneway");break}case 3:{z.push("composite_query");break}default:throw new Error("unknown annotation")}d.push([x,[_,S,z]]);break}case Xe.Service:{let _=Number(tn(h));const M=[];for(;_--;){const S=Number(tn(h)),H=new TextDecoder().decode(Qc(h,S)),z=Gi(h);M.push([H,z])}d.push([x,M]);break}default:throw new Error("Illegal op_code: "+x)}}const A=[],N=Number(tn(h));for(let v=0;v<N;v++)A.push(Number(Gi(h)));return[d,A]}const[s,c]=i(n);if(c.length<t.length)throw new Error("Wrong number of return values");const l=s.map(h=>I_());function u(h){if(h<-24)throw new Error("future value not supported");if(h<0)switch(h){case-1:return p_;case-2:return m_;case-3:return b_;case-4:return g_;case-5:return S_;case-6:return T_;case-7:return A_;case-8:return B_;case-9:return E_;case-10:return v_;case-11:return __;case-12:return N_;case-13:return x_;case-14:return w_;case-15:return y_;case-16:return h_;case-17:return d_;case-24:return R_;default:throw new Error("Illegal op_code: "+h)}if(h>=s.length)throw new Error("type index out of range");return l[h]}function p(h){switch(h[0]){case Xe.Vector:{const d=u(h[1]);return U_(d)}case Xe.Opt:{const d=u(h[1]);return C_(d)}case Xe.Record:{const d={};for(const[N,v]of h[1]){const x=`_${N}_`;d[x]=u(v)}const f=M_(d),A=f.tryAsTuple();return Array.isArray(A)?O_(...A):f}case Xe.Variant:{const d={};for(const[f,A]of h[1]){const N=`_${f}_`;d[N]=u(A)}return q_(d)}case Xe.Func:{const[d,f,A]=h[1];return $_(d.map(N=>u(N)),f.map(N=>u(N)),A)}case Xe.Service:{const d={},f=h[1];for(const[A,N]of f){let v=u(N);if(v instanceof Ia&&(v=v.getType()),!(v instanceof qf))throw new Error("Illegal service definition: services can only contain functions");d[A]=v}return k_(d)}default:throw new Error("Illegal op_code: "+h[0])}}s.forEach((h,d)=>{if(h[0]===Xe.Func){const f=p(h);l[d].fill(f)}}),s.forEach((h,d)=>{if(h[0]!==Xe.Func){const f=p(h);l[d].fill(f)}}),dg();const y=c.map(h=>u(h));try{const h=t.map((d,f)=>d.decodeValue(n,y[f]));for(let d=t.length;d<y.length;d++)y[d].decodeValue(n,y[d]);if(n.byteLength>0)throw new Error("decode: Left-over bytes");return h}finally{dg()}}const d_=new m2,h_=new Ls,mA=new n_,m_=new r_,p_=new Cf,y_=new a_,g_=new p2,b_=new y2,x_=new g2(32),w_=new g2(64),E_=new Wc(8),v_=new Wc(16),__=new Wc(32),N_=new Wc(64),S_=new js(8),T_=new js(16),A_=new js(32),B_=new js(64),R_=new u_;function O_(...t){return new c_(t)}function U_(t){return new nm(t)}function C_(t){return new Xl(t)}function M_(t){return new Mf(t)}function q_(t){return new rm(t)}function I_(){return new Ia}function $_(t,e,n=[]){return new qf(t,e,n)}function k_(t){return new am(t)}class Wm{constructor(e=new Map){this.rels=e}copy(){const e=new Map;for(const[n,r]of this.rels.entries()){const a=new Map(r);e.set(n,a)}return new Wm(e)}known(e,n){var r;return(r=this.rels.get(e.name))==null?void 0:r.get(n.name)}addNegative(e,n){this.addNames(e.name,n.name,!1)}add(e,n){this.addNames(e.name,n.name,!0)}display(){let e="";for(const[n,r]of this.rels)for(const[a,i]of r)e+=`${n} ${i?":<":"!<:"} ${a}
`;return e}addNames(e,n,r){const a=this.rels.get(e);if(a==null){const i=new Map;i.set(n,r),this.rels.set(e,i)}else a.set(n,r)}}let j0=new Wm;function dg(){j0=new Wm}function pA(t,e){const n=new Set(t.annotations),r=new Set(e.annotations);if(n.size!==r.size)return!1;for(const a of n)if(!r.has(a))return!1;return!0}function ly(t){return t instanceof Xl||t instanceof Cf||t instanceof Ls}function x2(t,e){const n=j0.copy(),r=Ya(n,t,e);return r?j0.add(t,e):j0.addNegative(t,e),r}function Ya(t,e,n){if(e.name===n.name)return!0;const r=t.known(e,n);if(r!==void 0)return r;if(t.add(e,n),n instanceof Ls||e instanceof m2||e instanceof y2&&n instanceof p2)return!0;if(e instanceof nm&&n instanceof nm)return Ya(t,e._type,n._type);if(n instanceof Xl)return!0;if(e instanceof Mf&&n instanceof Mf){const a=e.fieldsAsObject;for(const[i,s]of n._fields){const c=a[i];if(c){if(!Ya(t,c,s))return!1}else if(!ly(s))return!1}return!0}if(e instanceof qf&&n instanceof qf){if(!pA(e,n))return!1;for(let a=0;a<e.argTypes.length;a++){const i=e.argTypes[a];if(a<n.argTypes.length){if(!Ya(t,n.argTypes[a],i))return!1}else if(!ly(i))return!1}for(let a=0;a<n.retTypes.length;a++){const i=n.retTypes[a];if(a<e.retTypes.length){if(!Ya(t,e.retTypes[a],i))return!1}else if(!ly(i))return!1}return!0}if(e instanceof rm&&n instanceof rm){const a=n.alternativesAsObject;for(const[i,s]of e._fields){const c=a[i];if(!c||!Ya(t,s,c))return!1}return!0}if(e instanceof am&&n instanceof am){const a=e.fieldsAsObject();for(const[i,s]of n._fields){const c=a[i];if(!c||!Ya(t,c,s))return!1}return!0}return e instanceof Ia?Ya(t,e.getType(),n):n instanceof Ia?Ya(t,e,n.getType()):!1}const yA=Object.freeze(Object.defineProperty({__proto__:null,Bool:m_,BoolClass:r_,ConstructType:Js,Empty:d_,EmptyClass:m2,FixedIntClass:Wc,FixedNatClass:js,Float32:x_,Float64:w_,FloatClass:g2,Func:$_,FuncClass:qf,Int:g_,Int16:v_,Int32:__,Int64:N_,Int8:E_,IntClass:p2,Nat:b_,Nat16:T_,Nat32:A_,Nat64:B_,Nat8:S_,NatClass:y2,Null:p_,NullClass:Cf,Opt:C_,OptClass:Xl,PrimitiveType:Ir,Principal:R_,PrincipalClass:u_,Rec:I_,RecClass:Ia,Record:M_,RecordClass:Mf,Reserved:h_,ReservedClass:Ls,Service:k_,ServiceClass:am,Text:y_,TextClass:a_,Tuple:O_,TupleClass:c_,Type:Jm,Unknown:mA,UnknownClass:n_,Variant:q_,VariantClass:rm,Vec:U_,VecClass:nm,Visitor:hA,decode:f_,encode:fg,resetSubtypeCache:dg,subtype:x2},Symbol.toStringTag,{value:"Module"}));function im(t){if(!t)throw new Error("Input cannot be null or undefined");return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):Array.isArray(t)?new Uint8Array(t):"buffer"in t?im(t.buffer):new Uint8Array(t)}function ep(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function hg(t){if(typeof t=="string")return F_(t);if(typeof t=="number")return cr(Bt(t));if(t instanceof Uint8Array||ArrayBuffer.isView(t))return cr(im(t));if(Array.isArray(t)){const e=t.map(hg);return cr(et(...e))}else{if(t&&typeof t=="object"&&t._isPrincipal)return cr(t.toUint8Array());if(typeof t=="object"&&t!==null&&typeof t.toHash=="function")return hg(t.toHash());if(typeof t=="object")return sm(t);if(typeof t=="bigint")return cr(Bt(t))}throw yt.fromCode(new o2(t))}const F_=t=>{const e=new TextEncoder().encode(t);return cr(e)};function hl(t){return sm(t)}function sm(t){const r=Object.entries(t).filter(([,s])=>s!==void 0).map(([s,c])=>{const l=F_(s),u=hg(c);return[l,u]}).sort(([s],[c])=>Q8(s,c)),a=et(...r.map(s=>et(...s)));return cr(a)}const j_=new TextEncoder().encode(`
ic-request`),gA=new TextEncoder().encode("\vic-response"),bA=new TextEncoder().encode("ic-request-auth-delegation");class w2{getPrincipal(){return this._principal||(this._principal=Le.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(e){const{body:n,...r}=e,a=hl(n);return{...r,body:{content:n,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(et(j_,a))}}}}let cm=class{getPrincipal(){return Le.anonymous()}async transformRequest(e){return{...e,body:{content:e.body}}}};class fo extends Error{constructor(e){super(e),this.name="DecodingError"}}const V_=55799,H_=Symbol("CBOR_STOP_CODE");var Xr=(t=>(t[t.False=20]="False",t[t.True=21]="True",t[t.Null=22]="Null",t[t.Undefined=23]="Undefined",t[t.Break=31]="Break",t))(Xr||{}),Gt=(t=>(t[t.UnsignedInteger=0]="UnsignedInteger",t[t.NegativeInteger=1]="NegativeInteger",t[t.ByteString=2]="ByteString",t[t.TextString=3]="TextString",t[t.Array=4]="Array",t[t.Map=5]="Map",t[t.Tag=6]="Tag",t[t.Simple=7]="Simple",t))(Gt||{});const xA=23,wA=255,EA=65535,vA=4294967295,_A=BigInt("0xffffffffffffffff");var Zr=(t=>(t[t.Value=23]="Value",t[t.OneByte=24]="OneByte",t[t.TwoBytes=25]="TwoBytes",t[t.FourBytes=26]="FourBytes",t[t.EightBytes=27]="EightBytes",t[t.Indefinite=31]="Indefinite",t))(Zr||{});const ml=!1;function NA(t){return t==null}function D_(t,e){const n=new Uint8Array(e);return n.set(t),n}const SA=new TextDecoder;function TA(t){return(t&224)>>5}function AA(t){return t&31}let If=new Uint8Array,Su,Qr=0;function BA(t,e){If=t,Qr=0;const n=Fc(e);return(e==null?void 0:e(n))??n}function Fc(t){const[e,n]=V0();switch(e){case Gt.UnsignedInteger:return fu(n);case Gt.NegativeInteger:return CA(n);case Gt.ByteString:return z_(n);case Gt.TextString:return mg(n);case Gt.Array:return RA(n,t);case Gt.Map:return UA(n,t);case Gt.Tag:return MA(n,t);case Gt.Simple:return OA(n)}throw new fo(`Unsupported major type: ${e}`)}function V0(){const t=If.at(Qr);if(NA(t))throw new fo("Provided CBOR data is empty");const e=TA(t),n=AA(t);return Qr++,[e,n]}function RA(t,e){const n=fu(t);if(n===1/0){const a=[];let i=Fc(e);for(;i!==H_;)a.push((e==null?void 0:e(i))??i),i=Fc(e);return a}const r=new Array(n);for(let a=0;a<n;a++){const i=Fc(e);r[a]=(e==null?void 0:e(i))??i}return r}function OA(t){switch(t){case Xr.False:return!1;case Xr.True:return!0;case Xr.Null:return null;case Xr.Undefined:return;case Xr.Break:return H_}throw new fo(`Unrecognized simple type: ${t.toString(2)}`)}function UA(t,e){const n=fu(t),r={};if(n===1/0){let[a,i]=V0();for(;a!==Gt.Simple&&i!==Xr.Break;){const s=mg(i),c=Fc(e);r[s]=(e==null?void 0:e(c,s))??c,[a,i]=V0()}return r}for(let a=0;a<n;a++){const[i,s]=V0();if(i!==Gt.TextString)throw new fo("Map keys must be text strings");const c=mg(s),l=Fc(e);r[c]=(e==null?void 0:e(l,c))??l}return r}function fu(t){if(t<=Zr.Value)return t;switch(Su=new DataView(If.buffer,If.byteOffset+Qr),t){case Zr.OneByte:return Qr++,Su.getUint8(0);case Zr.TwoBytes:return Qr+=2,Su.getUint16(0,ml);case Zr.FourBytes:return Qr+=4,Su.getUint32(0,ml);case Zr.EightBytes:return Qr+=8,Su.getBigUint64(0,ml);case Zr.Indefinite:return 1/0;default:throw new fo(`Unsupported integer info: ${t.toString(2)}`)}}function CA(t){const e=fu(t);return typeof e=="number"?-1-e:-1n-e}function z_(t){const e=fu(t);if(e>Number.MAX_SAFE_INTEGER)throw new fo("Byte length is too large");const n=Number(e);return Qr+=n,If.slice(Qr-n,Qr)}function mg(t){const e=z_(t);return SA.decode(e)}function MA(t,e){const n=fu(t);if(n===V_)return Fc(e);throw new fo(`Unsupported tag: ${n}.`)}class E2 extends Error{constructor(e){super(e),this.name="SerializationError"}}const qA=2*1024,IA=100,$A=new TextEncoder;function Tu(t){return t<<5}let ir=new Uint8Array(qA),Hr=new DataView(ir.buffer),Pt=0,uy=[];function kA(t,e){Pt=0;const n=(e==null?void 0:e(t))??t;return GA(V_,n,e),ir.slice(0,Pt)}function v2(t,e){if(Pt>ir.length-IA&&(ir=D_(ir,ir.length*2),Hr=new DataView(ir.buffer)),t===!1||t===!0||t===null||t===void 0){VA(t);return}if(typeof t=="number"||typeof t=="bigint"){PA(t);return}if(typeof t=="string"){Y_(t);return}if(t instanceof Uint8Array){Vw(t);return}if(t instanceof ArrayBuffer){Vw(new Uint8Array(t));return}if(Array.isArray(t)){FA(t,e);return}if(typeof t=="object"){jA(t,e);return}throw new E2(`Unsupported type: ${typeof t}`)}function FA(t,e){du(Gt.Array,t.length),t.forEach((n,r)=>{v2((e==null?void 0:e(n,r.toString()))??n,e)})}function jA(t,e){uy=Object.entries(t),du(Gt.Map,uy.length),uy.forEach(([n,r])=>{Y_(n),v2((e==null?void 0:e(r,n))??r,e)})}function du(t,e){if(e<=xA){Hr.setUint8(Pt++,Tu(t)|Number(e));return}if(e<=wA){Hr.setUint8(Pt++,Tu(t)|Zr.OneByte),Hr.setUint8(Pt,Number(e)),Pt+=1;return}if(e<=EA){Hr.setUint8(Pt++,Tu(t)|Zr.TwoBytes),Hr.setUint16(Pt,Number(e),ml),Pt+=2;return}if(e<=vA){Hr.setUint8(Pt++,Tu(t)|Zr.FourBytes),Hr.setUint32(Pt,Number(e),ml),Pt+=4;return}if(e<=_A){Hr.setUint8(Pt++,Tu(t)|Zr.EightBytes),Hr.setBigUint64(Pt,BigInt(e),ml),Pt+=8;return}throw new E2(`Value too large to encode: ${e}`)}function VA(t){du(Gt.Simple,HA(t))}function HA(t){if(t===!1)return Xr.False;if(t===!0)return Xr.True;if(t===null)return Xr.Null;if(t===void 0)return Xr.Undefined;throw new E2(`Unrecognized simple value: ${t.toString()}`)}function P_(t,e){du(t,e.length),Pt>ir.length-e.length&&(ir=D_(ir,ir.length+e.length),Hr=new DataView(ir.buffer)),ir.set(e,Pt),Pt+=e.length}function G_(t,e){du(t,e)}function DA(t){G_(Gt.UnsignedInteger,t)}function zA(t){G_(Gt.NegativeInteger,typeof t=="bigint"?-1n-t:-1-t)}function PA(t){t>=0?DA(t):zA(t)}function Y_(t){P_(Gt.TextString,$A.encode(t))}function Vw(t){P_(Gt.ByteString,t)}function GA(t,e,n){du(Gt.Tag,t),v2(e,n)}function YA(t){return typeof t=="object"&&t!==null&&"toCborValue"in t}function fy(t){try{return kA(t,e=>Le.isPrincipal(e)?e.toUint8Array():K_.isExpiry(e)?e.toBigInt():YA(e)?e.toCborValue():e)}catch(e){throw yt.fromCode(new a2(e,t))}}function va(t){try{return BA(t)}catch(e){throw yt.fromCode(new r2(e,t))}}const c0=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){const t=new Uint32Array(1);return window.crypto.getRandomValues(t),t[0]}if(typeof crypto<"u"&&crypto.getRandomValues){const t=new Uint32Array(1);return crypto.getRandomValues(t),t[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)};var mc;(function(t){t.Query="read",t.ReadState="read_state",t.Call="call"})(mc||(mc={}));var pg;(function(t){t.Call="call"})(pg||(pg={}));var $f;(function(t){t.Query="query",t.ReadState="read_state"})($f||($f={}));function yg(){const t=new ArrayBuffer(16),e=new DataView(t),n=c0(),r=c0(),a=c0(),i=c0();return e.setUint32(0,n),e.setUint32(4,r),e.setUint32(8,a),e.setUint32(12,i),Object.assign(new Uint8Array(t),{__nonce__:void 0})}const o0="__expiry__",gg=BigInt(1e6),l0=gg*BigInt(1e3),Hw=BigInt(60),KA=60*1e3;let K_=class qu{constructor(e){this.__expiry__=e,this._isExpiry=!0}static fromDeltaInMilliseconds(e){if(e<90*1e3){const c=BigInt(Date.now()+e)*gg/l0;return new qu(c*l0)}const i=BigInt(Math.floor(Date.now()+e-KA))*gg/l0/Hw*Hw*l0;return new qu(i)}toBigInt(){return this.__expiry__}toHash(){return Bt(this.__expiry__)}toString(){return this.__expiry__.toString()}toJSON(){return{[o0]:this.toString()}}static fromJSON(e){const n=JSON.parse(e);if(n[o0])try{const r=BigInt(n[o0]);return new qu(r)}catch(r){throw new yt(new tm(`Not a valid BigInt: ${r}`))}throw new yt(new tm(`The input does not contain the key ${o0}`))}static isExpiry(e){return e instanceof qu||typeof e=="object"&&e!==null&&"_isExpiry"in e&&e._isExpiry===!0&&"__expiry__"in e&&typeof e.__expiry__=="bigint"}};function Dw(t=yg){return async e=>{const n=e.request.headers;e.request.headers=n,e.endpoint===mc.Call&&(e.body.nonce=t())}}function dy(t){const e=[];return t.forEach((n,r)=>{e.push([r,n])}),e}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _2=BigInt(0),om=BigInt(1);function kf(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function L_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?_2:BigInt("0x"+t)}function Ma(t){return L_(nt(t))}function Ff(t){return On(t),L_(nt(Uint8Array.from(t).reverse()))}function gn(t,e){return Ca(t.toString(16).padStart(e*2,"0"))}function tp(t,e){return gn(t,e).reverse()}function Vn(t,e,n){let r;if(typeof e=="string")try{r=Ca(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Qb(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const a=r.length;if(typeof n=="number"&&a!==n)throw new Error(t+" of length "+n+" expected, got "+a);return r}const hy=t=>typeof t=="bigint"&&_2<=t;function Z_(t,e,n){return hy(t)&&hy(e)&&hy(n)&&e<=t&&t<n}function Iu(t,e,n,r){if(!Z_(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function pl(t){let e;for(e=0;t>_2;t>>=om,e+=1);return e}function LA(t,e){return t>>BigInt(e)&om}const jc=t=>(om<<BigInt(t))-om;function ZA(t){return typeof t=="function"&&Number.isSafeInteger(t.outputLen)}function Od(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(a,i,s){const c=t[a];if(s&&c===void 0)return;const l=typeof c;if(l!==i||c===null)throw new Error(`param "${a}" is invalid: expected ${i}, got ${l}`)}Object.entries(e).forEach(([a,i])=>r(a,i,!1)),Object.entries(n).forEach(([a,i])=>r(a,i,!0))}const zw=()=>{throw new Error("not implemented")};function jf(t){const e=new WeakMap;return(n,...r)=>{const a=e.get(n);if(a!==void 0)return a;const i=t(n,...r);return e.set(n,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qn=BigInt(0),En=BigInt(1),pc=BigInt(2),X_=BigInt(3),Q_=BigInt(4),J_=BigInt(5),XA=BigInt(7),W_=BigInt(8),QA=BigInt(9),e4=BigInt(16);function $t(t,e){const n=t%e;return n>=Qn?n:e+n}function aa(t,e,n){let r=t;for(;e-- >Qn;)r*=r,r%=n;return r}function Pw(t,e){if(t===Qn)throw new Error("invert: expected non-zero number");if(e<=Qn)throw new Error("invert: expected positive modulus, got "+e);let n=$t(t,e),r=e,a=Qn,i=En;for(;n!==Qn;){const c=r/n,l=r%n,u=a-i*c;r=n,n=l,a=i,i=u}if(r!==En)throw new Error("invert: does not exist");return $t(a,e)}function N2(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function t4(t,e){const n=(t.ORDER+En)/Q_,r=t.pow(e,n);return N2(t,r,e),r}function JA(t,e){const n=(t.ORDER-J_)/W_,r=t.mul(e,pc),a=t.pow(r,n),i=t.mul(e,a),s=t.mul(t.mul(i,pc),a),c=t.mul(i,t.sub(s,t.ONE));return N2(t,c,e),c}function WA(t){const e=Ws(t),n=n4(t),r=n(e,e.neg(e.ONE)),a=n(e,r),i=n(e,e.neg(r)),s=(t+XA)/e4;return(c,l)=>{let u=c.pow(l,s),p=c.mul(u,r);const y=c.mul(u,a),h=c.mul(u,i),d=c.eql(c.sqr(p),l),f=c.eql(c.sqr(y),l);u=c.cmov(u,p,d),p=c.cmov(h,y,f);const A=c.eql(c.sqr(p),l),N=c.cmov(u,p,A);return N2(c,N,l),N}}function n4(t){if(t<X_)throw new Error("sqrt is not defined for small field");let e=t-En,n=0;for(;e%pc===Qn;)e/=pc,n++;let r=pc;const a=Ws(t);for(;lm(a,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return t4;let i=a.pow(r,e);const s=(e+En)/pc;return function(l,u){if(l.is0(u))return u;if(lm(l,u)!==1)throw new Error("Cannot find square root");let p=n,y=l.mul(l.ONE,i),h=l.pow(u,e),d=l.pow(u,s);for(;!l.eql(h,l.ONE);){if(l.is0(h))return l.ZERO;let f=1,A=l.sqr(h);for(;!l.eql(A,l.ONE);)if(f++,A=l.sqr(A),f===p)throw new Error("Cannot find square root");const N=En<<BigInt(p-f-1),v=l.pow(y,N);p=f,y=l.sqr(v),h=l.mul(h,y),d=l.mul(d,v)}return d}}function eB(t){return t%Q_===X_?t4:t%W_===J_?JA:t%e4===QA?WA(t):n4(t)}const tB=(t,e)=>($t(t,e)&En)===En,nB=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function r4(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=nB.reduce((r,a)=>(r[a]="function",r),e);return Od(t,n),t}function H0(t,e,n){if(n<Qn)throw new Error("invalid exponent, negatives unsupported");if(n===Qn)return t.ONE;if(n===En)return e;let r=t.ONE,a=e;for(;n>Qn;)n&En&&(r=t.mul(r,a)),a=t.sqr(a),n>>=En;return r}function Vc(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),a=e.reduce((s,c,l)=>t.is0(c)?s:(r[l]=s,t.mul(s,c)),t.ONE),i=t.inv(a);return e.reduceRight((s,c,l)=>t.is0(c)?s:(r[l]=t.mul(s,r[l]),t.mul(s,c)),i),r}function lm(t,e){const n=(t.ORDER-En)/pc,r=t.pow(e,n),a=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!a&&!i&&!s)throw new Error("invalid Legendre symbol result");return a?1:i?0:-1}function rB(t,e){e!==void 0&&k9(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ws(t,e,n=!1,r={}){if(t<=Qn)throw new Error("invalid field: expected ORDER > 0, got "+t);let a,i,s=!1,c;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const h=e;h.BITS&&(a=h.BITS),h.sqrt&&(i=h.sqrt),typeof h.isLE=="boolean"&&(n=h.isLE),typeof h.modOnDecode=="boolean"&&(s=h.modOnDecode),c=h.allowedLengths}else typeof e=="number"&&(a=e),r.sqrt&&(i=r.sqrt);const{nBitLength:l,nByteLength:u}=rB(t,a);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let p;const y=Object.freeze({ORDER:t,isLE:n,BITS:l,BYTES:u,MASK:jc(l),ZERO:Qn,ONE:En,allowedLengths:c,create:h=>$t(h,t),isValid:h=>{if(typeof h!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof h);return Qn<=h&&h<t},is0:h=>h===Qn,isValidNot0:h=>!y.is0(h)&&y.isValid(h),isOdd:h=>(h&En)===En,neg:h=>$t(-h,t),eql:(h,d)=>h===d,sqr:h=>$t(h*h,t),add:(h,d)=>$t(h+d,t),sub:(h,d)=>$t(h-d,t),mul:(h,d)=>$t(h*d,t),pow:(h,d)=>H0(y,h,d),div:(h,d)=>$t(h*Pw(d,t),t),sqrN:h=>h*h,addN:(h,d)=>h+d,subN:(h,d)=>h-d,mulN:(h,d)=>h*d,inv:h=>Pw(h,t),sqrt:i||(h=>(p||(p=eB(t)),p(y,h))),toBytes:h=>n?tp(h,u):gn(h,u),fromBytes:(h,d=!0)=>{if(c){if(!c.includes(h.length)||h.length>u)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+h.length);const A=new Uint8Array(u);A.set(h,n?0:A.length-h.length),h=A}if(h.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+h.length);let f=n?Ff(h):Ma(h);if(s&&(f=$t(f,t)),!d&&!y.isValid(f))throw new Error("invalid field element: outside of range 0..ORDER");return f},invertBatch:h=>Vc(y,h),cmov:(h,d,f)=>f?d:h});return Object.freeze(y)}function a4(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function i4(t){const e=a4(t);return e+Math.ceil(e/2)}function aB(t,e,n=!1){const r=t.length,a=a4(e),i=i4(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const s=n?Ff(t):Ma(t),c=$t(s,e-En)+En;return n?tp(c,a):gn(c,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ql=BigInt(0),yc=BigInt(1);function um(t,e){const n=e.negate();return t?n:e}function fi(t,e){const n=Vc(t.Fp,e.map(r=>r.Z));return e.map((r,a)=>t.fromAffine(r.toAffine(n[a])))}function s4(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function my(t,e){s4(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),a=2**t,i=jc(t),s=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:a,shiftBy:s}}function Gw(t,e,n){const{windowSize:r,mask:a,maxNumber:i,shiftBy:s}=n;let c=Number(t&a),l=t>>s;c>r&&(c-=i,l+=yc);const u=e*r,p=u+Math.abs(c)-1,y=c===0,h=c<0,d=e%2!==0;return{nextN:l,offset:p,isZero:y,isNeg:h,isNegF:d,offsetF:u}}function iB(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function sB(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const py=new WeakMap,c4=new WeakMap;function yy(t){return c4.get(t)||1}function Yw(t){if(t!==Ql)throw new Error("invalid wNAF")}let o4=class{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let a=e;for(;n>Ql;)n&yc&&(r=r.add(a)),a=a.double(),n>>=yc;return r}precomputeWindow(e,n){const{windows:r,windowSize:a}=my(n,this.bits),i=[];let s=e,c=s;for(let l=0;l<r;l++){c=s,i.push(c);for(let u=1;u<a;u++)c=c.add(s),i.push(c);s=c.double()}return i}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let a=this.ZERO,i=this.BASE;const s=my(e,this.bits);for(let c=0;c<s.windows;c++){const{nextN:l,offset:u,isZero:p,isNeg:y,isNegF:h,offsetF:d}=Gw(r,c,s);r=l,p?i=i.add(um(h,n[d])):a=a.add(um(y,n[u]))}return Yw(r),{p:a,f:i}}wNAFUnsafe(e,n,r,a=this.ZERO){const i=my(e,this.bits);for(let s=0;s<i.windows&&r!==Ql;s++){const{nextN:c,offset:l,isZero:u,isNeg:p}=Gw(r,s,i);if(r=c,!u){const y=n[l];a=a.add(p?y.negate():y)}}return Yw(r),a}getPrecomputes(e,n,r){let a=py.get(n);return a||(a=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(a=r(a)),py.set(n,a))),a}cached(e,n,r){const a=yy(e);return this.wNAF(a,this.getPrecomputes(a,e,r),n)}unsafe(e,n,r,a){const i=yy(e);return i===1?this._unsafeLadder(e,n,a):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),n,a)}createCache(e,n){s4(n,this.bits),c4.set(e,n),py.delete(e)}hasCache(e){return yy(e)!==1}};function cB(t,e,n,r){let a=e,i=t.ZERO,s=t.ZERO;for(;n>Ql||r>Ql;)n&yc&&(i=i.add(a)),r&yc&&(s=s.add(a)),a=a.double(),n>>=yc,r>>=yc;return{p1:i,p2:s}}function l4(t,e,n,r){iB(n,t),sB(r,e);const a=n.length,i=r.length;if(a!==i)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,c=pl(BigInt(a));let l=1;c>12?l=c-3:c>4?l=c-2:c>0&&(l=2);const u=jc(l),p=new Array(Number(u)+1).fill(s),y=Math.floor((e.BITS-1)/l)*l;let h=s;for(let d=y;d>=0;d-=l){p.fill(s);for(let A=0;A<i;A++){const N=r[A],v=Number(N>>BigInt(d)&u);p[v]=p[v].add(n[A])}let f=s;for(let A=p.length-1,N=s;A>0;A--)N=N.add(p[A]),f=f.add(N);if(h=h.add(f),d!==0)for(let A=0;A<l;A++)h=h.double()}return h}function Kw(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return r4(e),e}else return Ws(t)}function u4(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const c of["p","n","h"]){const l=e[c];if(!(typeof l=="bigint"&&l>Ql))throw new Error(`CURVE.${c} must be positive bigint`)}const r=Kw(e.p,n.Fp),a=Kw(e.n,n.Fn),s=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const c of s)if(!r.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:a}}const oB=Ma;function Zi(t,e){if(Vf(t),Vf(e),t<0||t>=1<<8*e)throw new Error("invalid I2OSP input: "+t);const n=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)n[r]=t&255,t>>>=8;return new Uint8Array(n)}function lB(t,e){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r]^e[r];return n}function Vf(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function f4(t){if(!Qb(t)&&typeof t!="string")throw new Error("DST must be Uint8Array or string");return typeof t=="string"?Ct(t):t}function uB(t,e,n,r){On(t),Vf(n),e=f4(e),e.length>255&&(e=r(et(Ct("H2C-OVERSIZE-DST-"),e)));const{outputLen:a,blockLen:i}=r,s=Math.ceil(n/a);if(n>65535||s>255)throw new Error("expand_message_xmd: invalid lenInBytes");const c=et(e,Zi(e.length,1)),l=Zi(0,i),u=Zi(n,2),p=new Array(s),y=r(et(l,t,u,Zi(0,1),c));p[0]=r(et(y,Zi(1,1),c));for(let d=1;d<=s;d++){const f=[lB(y,p[d-1]),Zi(d+1,1),c];p[d]=r(et(...f))}return et(...p).slice(0,n)}function fB(t,e,n,r,a){if(On(t),Vf(n),e=f4(e),e.length>255){const i=Math.ceil(2*r/8);e=a.create({dkLen:i}).update(Ct("H2C-OVERSIZE-DST-")).update(e).digest()}if(n>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return a.create({dkLen:n}).update(t).update(Zi(n,2)).update(e).update(Zi(e.length,1)).digest()}function gy(t,e,n){Od(n,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:r,k:a,m:i,hash:s,expand:c,DST:l}=n;if(!ZA(n.hash))throw new Error("expected valid hash");On(t),Vf(e);const u=r.toString(2).length,p=Math.ceil((u+a)/8),y=e*i*p;let h;if(c==="xmd")h=uB(t,l,y,s);else if(c==="xof")h=fB(t,l,y,a,s);else if(c==="_internal_pass")h=t;else throw new Error('expand must be "xmd" or "xof"');const d=new Array(e);for(let f=0;f<e;f++){const A=new Array(i);for(let N=0;N<i;N++){const v=p*(N+f*i),x=h.subarray(v,v+p);A[N]=$t(oB(x),r)}d[f]=A}return d}function d4(t,e){const n=e.map(r=>Array.from(r).reverse());return(r,a)=>{const[i,s,c,l]=n.map(y=>y.reduce((h,d)=>t.add(t.mul(h,r),d))),[u,p]=Vc(t,[s,l],!0);return r=t.mul(i,u),a=t.mul(a,t.mul(c,p)),{x:r,y:a}}}const dB=Ct("HashToScalar-");function Lw(t,e,n){if(typeof e!="function")throw new Error("mapToCurve() must be defined");function r(i){return t.fromAffine(e(i))}function a(i){const s=i.clearCofactor();return s.equals(t.ZERO)?t.ZERO:(s.assertValidity(),s)}return{defaults:n,hashToCurve(i,s){const c=Object.assign({},n,s),l=gy(i,2,c),u=r(l[0]),p=r(l[1]);return a(u.add(p))},encodeToCurve(i,s){const c=n.encodeDST?{DST:n.encodeDST}:{},l=Object.assign({},n,c,s),u=gy(i,1,l),p=r(u[0]);return a(p)},mapToCurve(i){if(!Array.isArray(i))throw new Error("expected array of bigints");for(const s of i)if(typeof s!="bigint")throw new Error("expected array of bigints");return a(r(i))},hashToScalar(i,s){const c=t.Fn.ORDER,l=Object.assign({},n,{p:c,m:1,DST:dB},s);return gy(i,1,l)[0][0]}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Zw=(t,e)=>(t+(t>=0?e:-e)/Ka)/e;function hB(t,e,n){const[[r,a],[i,s]]=e,c=Zw(s*t,n),l=Zw(-a*t,n);let u=t-c*r-l*i,p=-c*a-l*s;const y=u<gc,h=p<gc;y&&(u=-u),h&&(p=-p);const d=jc(Math.ceil(pl(n)/2))+kn;if(u<gc||u>=d||p<gc||p>=d)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:y,k1:u,k2neg:h,k2:p}}const gc=BigInt(0),kn=BigInt(1),Ka=BigInt(2),Zo=BigInt(3),bg=BigInt(4);function h4(t,e,n){function r(a){const i=t.sqr(a),s=t.mul(i,a);return t.add(t.add(s,t.mul(a,e)),n)}return r}function fm(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let a=Vn("private key",e);try{r=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function mB(t,e={}){const{Fp:n,Fn:r}=u4("weierstrass",t,e),{h:a,n:i}=t;Od(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:s}=e;if(s&&(!n.is0(t.a)||typeof s.beta!="bigint"||!Array.isArray(s.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');function c(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(Z,k,P){const{x:X,y:E}=k.toAffine(),O=n.toBytes(X);if(kf("isCompressed",P),P){c();const j=!n.isOdd(E);return et(pB(j),O)}else return et(Uint8Array.of(4),O,n.toBytes(E))}function u(Z){On(Z);const k=n.BYTES,P=k+1,X=2*k+1,E=Z.length,O=Z[0],j=Z.subarray(1);if(E===P&&(O===2||O===3)){const C=n.fromBytes(j);if(!n.isValid(C))throw new Error("bad point: is not on curve, wrong x");const V=h(C);let F;try{F=n.sqrt(V)}catch(ae){const se=ae instanceof Error?": "+ae.message:"";throw new Error("bad point: is not on curve, sqrt error"+se)}c();const Q=n.isOdd(F);return(O&1)===1!==Q&&(F=n.neg(F)),{x:C,y:F}}else if(E===X&&O===4){const C=n.fromBytes(j.subarray(k*0,k*1)),V=n.fromBytes(j.subarray(k*1,k*2));if(!d(C,V))throw new Error("bad point: is not on curve");return{x:C,y:V}}else throw new Error(`bad point: got length ${E}, expected compressed=${P} or uncompressed=${X}`)}const p=e.toBytes||l,y=e.fromBytes||u,h=h4(n,t.a,t.b);function d(Z,k){const P=n.sqr(k),X=h(Z);return n.eql(P,X)}if(!d(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const f=n.mul(n.pow(t.a,Zo),bg),A=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(f,A)))throw new Error("bad curve params: a or b");function N(Z,k,P=!1){if(!n.isValid(k)||P&&n.is0(k))throw new Error(`bad point coordinate ${Z}`);return k}function v(Z){if(!(Z instanceof H))throw new Error("ProjectivePoint expected")}function x(Z){if(!s||!s.basises)throw new Error("no endo");return hB(Z,s.basises,r.ORDER)}const _=jf((Z,k)=>{const{X:P,Y:X,Z:E}=Z;if(n.eql(E,n.ONE))return{x:P,y:X};const O=Z.is0();k==null&&(k=O?n.ONE:n.inv(E));const j=n.mul(P,k),C=n.mul(X,k),V=n.mul(E,k);if(O)return{x:n.ZERO,y:n.ZERO};if(!n.eql(V,n.ONE))throw new Error("invZ was invalid");return{x:j,y:C}}),M=jf(Z=>{if(Z.is0()){if(e.allowInfinityPoint&&!n.is0(Z.Y))return;throw new Error("bad point: ZERO")}const{x:k,y:P}=Z.toAffine();if(!n.isValid(k)||!n.isValid(P))throw new Error("bad point: x or y not field elements");if(!d(k,P))throw new Error("bad point: equation left != right");if(!Z.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function S(Z,k,P,X,E){return P=new H(n.mul(P.X,Z),P.Y,P.Z),k=um(X,k),P=um(E,P),k.add(P)}class H{constructor(k,P,X){this.X=N("x",k),this.Y=N("y",P,!0),this.Z=N("z",X),Object.freeze(this)}static fromAffine(k){const{x:P,y:X}=k||{};if(!k||!n.isValid(P)||!n.isValid(X))throw new Error("invalid affine point");if(k instanceof H)throw new Error("projective point not allowed");return n.is0(P)&&n.is0(X)?H.ZERO:new H(P,X,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}static normalizeZ(k){return fi(H,k)}static fromBytes(k){return On(k),H.fromHex(k)}static fromHex(k){const P=H.fromAffine(y(Vn("pointHex",k)));return P.assertValidity(),P}static fromPrivateKey(k){return H.BASE.multiply(fm(r,k))}static msm(k,P){return l4(H,r,k,P)}_setWindowSize(k){this.precompute(k)}precompute(k=8,P=!0){return K.createCache(this,k),P||this.multiply(Zo),this}assertValidity(){M(this)}hasEvenY(){const{y:k}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(k)}equals(k){v(k);const{X:P,Y:X,Z:E}=this,{X:O,Y:j,Z:C}=k,V=n.eql(n.mul(P,C),n.mul(O,E)),F=n.eql(n.mul(X,C),n.mul(j,E));return V&&F}negate(){return new H(this.X,n.neg(this.Y),this.Z)}double(){const{a:k,b:P}=t,X=n.mul(P,Zo),{X:E,Y:O,Z:j}=this;let C=n.ZERO,V=n.ZERO,F=n.ZERO,Q=n.mul(E,E),oe=n.mul(O,O),ae=n.mul(j,j),se=n.mul(E,O);return se=n.add(se,se),F=n.mul(E,j),F=n.add(F,F),C=n.mul(k,F),V=n.mul(X,ae),V=n.add(C,V),C=n.sub(oe,V),V=n.add(oe,V),V=n.mul(C,V),C=n.mul(se,C),F=n.mul(X,F),ae=n.mul(k,ae),se=n.sub(Q,ae),se=n.mul(k,se),se=n.add(se,F),F=n.add(Q,Q),Q=n.add(F,Q),Q=n.add(Q,ae),Q=n.mul(Q,se),V=n.add(V,Q),ae=n.mul(O,j),ae=n.add(ae,ae),Q=n.mul(ae,se),C=n.sub(C,Q),F=n.mul(ae,oe),F=n.add(F,F),F=n.add(F,F),new H(C,V,F)}add(k){v(k);const{X:P,Y:X,Z:E}=this,{X:O,Y:j,Z:C}=k;let V=n.ZERO,F=n.ZERO,Q=n.ZERO;const oe=t.a,ae=n.mul(t.b,Zo);let se=n.mul(P,O),le=n.mul(X,j),U=n.mul(E,C),de=n.add(P,X),pe=n.add(O,j);de=n.mul(de,pe),pe=n.add(se,le),de=n.sub(de,pe),pe=n.add(P,E);let xe=n.add(O,C);return pe=n.mul(pe,xe),xe=n.add(se,U),pe=n.sub(pe,xe),xe=n.add(X,E),V=n.add(j,C),xe=n.mul(xe,V),V=n.add(le,U),xe=n.sub(xe,V),Q=n.mul(oe,pe),V=n.mul(ae,U),Q=n.add(V,Q),V=n.sub(le,Q),Q=n.add(le,Q),F=n.mul(V,Q),le=n.add(se,se),le=n.add(le,se),U=n.mul(oe,U),pe=n.mul(ae,pe),le=n.add(le,U),U=n.sub(se,U),U=n.mul(oe,U),pe=n.add(pe,U),se=n.mul(le,pe),F=n.add(F,se),se=n.mul(xe,pe),V=n.mul(de,V),V=n.sub(V,se),se=n.mul(de,le),Q=n.mul(xe,Q),Q=n.add(Q,se),new H(V,F,Q)}subtract(k){return this.add(k.negate())}is0(){return this.equals(H.ZERO)}multiply(k){const{endo:P}=e;if(!r.isValidNot0(k))throw new Error("invalid scalar: out of range");let X,E;const O=j=>K.cached(this,j,C=>fi(H,C));if(P){const{k1neg:j,k1:C,k2neg:V,k2:F}=x(k),{p:Q,f:oe}=O(C),{p:ae,f:se}=O(F);E=oe.add(se),X=S(P.beta,Q,ae,j,V)}else{const{p:j,f:C}=O(k);X=j,E=C}return fi(H,[X,E])[0]}multiplyUnsafe(k){const{endo:P}=e,X=this;if(!r.isValid(k))throw new Error("invalid scalar: out of range");if(k===gc||X.is0())return H.ZERO;if(k===kn)return X;if(K.hasCache(this))return this.multiply(k);if(P){const{k1neg:E,k1:O,k2neg:j,k2:C}=x(k),{p1:V,p2:F}=cB(H,X,O,C);return S(P.beta,V,F,E,j)}else return K.unsafe(X,k)}multiplyAndAddUnsafe(k,P,X){const E=this.multiplyUnsafe(P).add(k.multiplyUnsafe(X));return E.is0()?void 0:E}toAffine(k){return _(this,k)}isTorsionFree(){const{isTorsionFree:k}=e;return a===kn?!0:k?k(H,this):K.unsafe(this,i).is0()}clearCofactor(){const{clearCofactor:k}=e;return a===kn?this:k?k(H,this):this.multiplyUnsafe(a)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}toBytes(k=!0){return kf("isCompressed",k),this.assertValidity(),p(H,this,k)}toRawBytes(k=!0){return this.toBytes(k)}toHex(k=!0){return nt(this.toBytes(k))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}H.BASE=new H(t.Gx,t.Gy,n.ONE),H.ZERO=new H(n.ZERO,n.ONE,n.ZERO),H.Fp=n,H.Fn=r;const z=r.BITS,K=new o4(H,e.endo?Math.ceil(z/2):z);return H}function Xw(t){const{CURVE:e,curveOpts:n}=gB(t),r=mB(e,n);return bB(t,r)}function pB(t){return Uint8Array.of(t?2:3)}function yB(t,e){const n=t.ORDER;let r=gc;for(let f=n-kn;f%Ka===gc;f/=Ka)r+=kn;const a=r,i=Ka<<a-kn-kn,s=i*Ka,c=(n-kn)/s,l=(c-kn)/Ka,u=s-kn,p=i,y=t.pow(e,c),h=t.pow(e,(c+kn)/Ka);let d=(f,A)=>{let N=y,v=t.pow(A,u),x=t.sqr(v);x=t.mul(x,A);let _=t.mul(f,x);_=t.pow(_,l),_=t.mul(_,v),v=t.mul(_,A),x=t.mul(_,f);let M=t.mul(x,v);_=t.pow(M,p);let S=t.eql(_,t.ONE);v=t.mul(x,h),_=t.mul(M,N),x=t.cmov(v,x,S),M=t.cmov(_,M,S);for(let H=a;H>kn;H--){let z=H-Ka;z=Ka<<z-kn;let K=t.pow(M,z);const Z=t.eql(K,t.ONE);v=t.mul(x,N),N=t.mul(N,N),K=t.mul(M,N),x=t.cmov(v,x,Z),M=t.cmov(K,M,Z)}return{isValid:S,value:x}};if(t.ORDER%bg===Zo){const f=(t.ORDER-Zo)/bg,A=t.sqrt(t.neg(e));d=(N,v)=>{let x=t.sqr(v);const _=t.mul(N,v);x=t.mul(x,_);let M=t.pow(x,f);M=t.mul(M,_);const S=t.mul(M,A),H=t.mul(t.sqr(M),v),z=t.eql(H,N);let K=t.cmov(S,M,z);return{isValid:z,value:K}}}return d}function m4(t,e){r4(t);const{A:n,B:r,Z:a}=e;if(!t.isValid(n)||!t.isValid(r)||!t.isValid(a))throw new Error("mapToCurveSimpleSWU: invalid opts");const i=yB(t,a);if(!t.isOdd)throw new Error("Field does not have .isOdd()");return s=>{let c,l,u,p,y,h,d,f;c=t.sqr(s),c=t.mul(c,a),l=t.sqr(c),l=t.add(l,c),u=t.add(l,t.ONE),u=t.mul(u,r),p=t.cmov(a,t.neg(l),!t.eql(l,t.ZERO)),p=t.mul(p,n),l=t.sqr(u),h=t.sqr(p),y=t.mul(h,n),l=t.add(l,y),l=t.mul(l,u),h=t.mul(h,p),y=t.mul(h,r),l=t.add(l,y),d=t.mul(c,u);const{isValid:A,value:N}=i(l,h);f=t.mul(c,s),f=t.mul(f,N),d=t.cmov(d,u,A),f=t.cmov(f,N,A);const v=t.isOdd(s)===t.isOdd(f);f=t.cmov(t.neg(f),f,v);const x=Vc(t,[p],!0)[0];return d=t.mul(d,x),{x:d,y:f}}}function gB(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(s=>Math.ceil(s/2)))):void 0;const a=Ws(e.n,{BITS:t.nBitLength,allowedLengths:r,modOnDecode:t.wrapPrivateKey}),i={Fp:n,Fn:a,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function bB(t,e){const{Fp:n,Fn:r}=e;function a(s){return Z_(s,kn,r.ORDER)}const i=h4(n,t.a,t.b);return Object.assign({},{CURVE:t,Point:e,ProjectivePoint:e,normPrivateKeyToScalar:s=>fm(r,s),weierstrassEquation:i,isWithinCurveOrder:a})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xB=BigInt(0),u0=BigInt(1),Qw=BigInt(2),Xo=BigInt(3);function wB(t){const e=[];for(;t>u0;t>>=u0)(t&u0)===xB?e.unshift(0):(t&Xo)===Xo?(e.unshift(-1),t+=u0):e.unshift(1);return e}function by(t){if(!Array.isArray(t)||t.length===0)throw new Error("expected non-empty array")}function EB(t,e,n,r){const{Fp2:a,Fp12:i}=t,{twistType:s,ateLoopSize:c,xNegative:l,postPrecompute:u}=r;let p;if(s==="multiplicative")p=(_,M,S,H,z,K)=>i.mul014(H,_,a.mul(M,z),a.mul(S,K));else if(s==="divisive")p=(_,M,S,H,z,K)=>i.mul034(H,a.mul(S,K),a.mul(M,z),_);else throw new Error("bls: unknown twist type");const y=a.div(a.ONE,a.mul(a.ONE,Qw));function h(_,M,S,H){const z=a.sqr(S),K=a.sqr(H),Z=a.mulByB(a.mul(K,Xo)),k=a.mul(Z,Xo),P=a.sub(a.sub(a.sqr(a.add(S,H)),K),z),X=a.sub(Z,z),E=a.mul(a.sqr(M),Xo),O=a.neg(P);return _.push([X,E,O]),M=a.mul(a.mul(a.mul(a.sub(z,k),M),S),y),S=a.sub(a.sqr(a.mul(a.add(z,k),y)),a.mul(a.sqr(Z),Xo)),H=a.mul(z,P),{Rx:M,Ry:S,Rz:H}}function d(_,M,S,H,z,K){const Z=a.sub(S,a.mul(K,H)),k=a.sub(M,a.mul(z,H)),P=a.sub(a.mul(Z,z),a.mul(k,K)),X=a.neg(Z),E=k;_.push([P,X,E]);const O=a.sqr(k),j=a.mul(O,k),C=a.mul(O,M),V=a.add(a.sub(j,a.mul(C,Qw)),a.mul(a.sqr(Z),H));return M=a.mul(k,V),S=a.sub(a.mul(a.sub(C,V),Z),a.mul(j,S)),H=a.mul(H,j),{Rx:M,Ry:S,Rz:H}}const f=wB(c),A=jf(_=>{const M=_,{x:S,y:H}=M.toAffine(),z=S,K=H,Z=a.neg(H);let k=z,P=K,X=a.ONE;const E=[];for(const O of f){const j=[];({Rx:k,Ry:P,Rz:X}=h(j,k,P,X)),O&&({Rx:k,Ry:P,Rz:X}=d(j,k,P,X,z,O===-1?Z:K)),E.push(j)}if(u){const O=E[E.length-1];u(k,P,X,z,K,d.bind(null,O))}return E});function N(_,M=!1){let S=i.ONE;if(_.length){const H=_[0][0].length;for(let z=0;z<H;z++){S=i.sqr(S);for(const[K,Z,k]of _)for(const[P,X,E]of K[z])S=p(P,X,E,S,Z,k)}}return l&&(S=i.conjugate(S)),M?i.finalExponentiate(S):S}function v(_,M=!0){const S=[];fi(e,_.map(({g1:H})=>H)),fi(n,_.map(({g2:H})=>H));for(const{g1:H,g2:z}of _){if(H.is0()||z.is0())throw new Error("pairing is not available for ZERO point");H.assertValidity(),z.assertValidity();const K=H.toAffine();S.push([A(z),K.x,K.y])}return N(S,M)}function x(_,M,S=!0){return v([{g1:_,g2:M}],S)}return{Fp12:i,millerLoopBatch:N,pairing:x,pairingBatch:v,calcPairingPrecomputes:A}}function Jw(t,e,n,r,a){const{Fp12:i,pairingBatch:s}=t;function c(y){return y instanceof e.Point?y:e.Point.fromHex(y)}function l(y){return y instanceof n.Point?y:n.Point.fromHex(y)}function u(y){if(!(y instanceof n.Point))throw new Error(`expected valid message hashed to ${a?"G1":"G2"} curve`);return y}const p=a?(y,h)=>({g1:h,g2:y}):(y,h)=>({g1:y,g2:h});return{getPublicKey(y){const h=fm(e.Point.Fn,y);return e.Point.BASE.multiply(h)},sign(y,h,d){if(d!=null)throw new Error("sign() expects 2 arguments");const f=fm(e.Point.Fn,h);return u(y).assertValidity(),y.multiply(f)},verify(y,h,d,f){if(f!=null)throw new Error("verify() expects 3 arguments");y=l(y),d=c(d);const A=d.negate(),N=e.Point.BASE,v=u(h),x=y,_=s([p(A,v),p(N,x)]);return i.eql(_,i.ONE)},verifyBatch(y,h,d){if(by(h),d.length!==h.length)throw new Error("amount of public keys and messages should be equal");const f=l(y),A=h,N=d.map(c),v=new Map;for(let M=0;M<N.length;M++){const S=N[M],H=A[M];let z=v.get(H);z===void 0&&(z=[],v.set(H,z)),z.push(S)}const x=[],_=e.Point.BASE;try{for(const[M,S]of v){const H=S.reduce((z,K)=>z.add(K));x.push(p(H,M))}return x.push(p(_.negate(),f)),i.eql(s(x),i.ONE)}catch{return!1}},aggregatePublicKeys(y){by(y),y=y.map(d=>c(d));const h=y.reduce((d,f)=>d.add(f),e.Point.ZERO);return h.assertValidity(),h},aggregateSignatures(y){by(y),y=y.map(d=>l(d));const h=y.reduce((d,f)=>d.add(f),n.Point.ZERO);return h.assertValidity(),h},hash(y,h){On(y);const d=h?{DST:h}:void 0;return n.hashToCurve(y,d)},Signature:r}}function vB(t){const{Fp:e,Fr:n,Fp2:r,Fp6:a,Fp12:i}=t.fields,s=Xw(t.G1),c=Object.assign(s,Lw(s.Point,t.G1.mapToCurve,{...t.htfDefaults,...t.G1.htfDefaults})),l=Xw(t.G2),u=Object.assign(l,Lw(l.Point,t.G2.mapToCurve,{...t.htfDefaults,...t.G2.htfDefaults})),p=EB(t.fields,c.Point,u.Point,{...t.params,postPrecompute:t.postPrecompute}),{millerLoopBatch:y,pairing:h,pairingBatch:d,calcPairingPrecomputes:f}=p,A=Jw(p,c,u,t.G2.Signature,!1),N=Jw(p,u,c,t.G1.ShortSignature,!0),v=t.randomBytes||Y8,x=()=>{const F=i4(n.ORDER);return aB(v(F),n.ORDER)},_={randomSecretKey:x,randomPrivateKey:x,calcPairingPrecomputes:f},{ShortSignature:M}=t.G1,{Signature:S}=t.G2;function H(F,Q){return F instanceof c.Point?F:N.hash(Vn("point",F),Q==null?void 0:Q.DST)}function z(F,Q){return F instanceof u.Point?F:A.hash(Vn("point",F),Q==null?void 0:Q.DST)}function K(F){return A.getPublicKey(F).toBytes(!0)}function Z(F){return N.getPublicKey(F).toBytes(!0)}function k(F,Q,oe){const ae=z(F,oe),se=A.sign(ae,Q);return F instanceof u.Point?se:S.toBytes(se)}function P(F,Q,oe){const ae=H(F,oe),se=N.sign(ae,Q);return F instanceof c.Point?se:M.toBytes(se)}function X(F,Q,oe,ae){const se=z(Q,ae);return A.verify(F,se,oe)}function E(F,Q,oe,ae){const se=H(Q,ae);return N.verify(F,se,oe)}function O(F){const Q=A.aggregatePublicKeys(F);return F[0]instanceof c.Point?Q:Q.toBytes(!0)}function j(F){const Q=A.aggregateSignatures(F);return F[0]instanceof u.Point?Q:S.toBytes(Q)}function C(F){const Q=N.aggregateSignatures(F);return F[0]instanceof c.Point?Q:M.toBytes(Q)}function V(F,Q,oe,ae){const se=Q.map(le=>z(le,ae));return A.verifyBatch(F,se,oe)}return c.Point.BASE.precompute(4),{longSignatures:A,shortSignatures:N,millerLoopBatch:y,pairing:h,pairingBatch:d,verifyBatch:V,fields:{Fr:n,Fp:e,Fp2:r,Fp6:a,Fp12:i},params:{ateLoopSize:t.params.ateLoopSize,twistType:t.params.twistType,r:t.params.r,G1b:t.G1.b,G2b:t.G2.b},utils:_,getPublicKey:K,getPublicKeyForShortSignatures:Z,sign:k,signShortSignature:P,verify:X,verifyShortSignature:E,aggregatePublicKeys:O,aggregateSignatures:j,aggregateShortSignatures:C,G1:c,G2:u,Signature:S,ShortSignature:M}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ww=BigInt(0),Qo=BigInt(1),ri=BigInt(2),eE=BigInt(3);function xy(t,e,n,r,a=1,i){const s=BigInt(i===void 0?r:i),c=n**BigInt(r),l=[];for(let u=0;u<a;u++){const p=BigInt(u+1),y=[];for(let h=0,d=Qo;h<r;h++){const f=(p*d-p)/s%c;y.push(t.pow(e,f)),d*=n}l.push(y)}return l}function _B(t,e,n){const r=e.pow(n,(t.ORDER-Qo)/eE),a=e.pow(n,(t.ORDER-Qo)/ri);function i(h,d){const f=e.mul(e.frobeniusMap(h,1),r),A=e.mul(e.frobeniusMap(d,1),a);return[f,A]}const s=e.pow(n,(t.ORDER**ri-Qo)/eE),c=e.pow(n,(t.ORDER**ri-Qo)/ri);if(!e.eql(c,e.neg(e.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function l(h,d){return[e.mul(h,s),e.neg(d)]}const u=h=>(d,f)=>{const A=f.toAffine(),N=h(A.x,A.y);return d.fromAffine({x:N[0],y:N[1]})},p=u(i),y=u(l);return{psi:i,psi2:l,G2psi:p,G2psi2:y,PSI_X:r,PSI_Y:a,PSI2_X:s,PSI2_Y:c}}function NB(t){const{ORDER:e}=t,n=Ws(e),r=n.create(t.NONRESIDUE||BigInt(-1)),a=n.div(n.ONE,ri),i=xy(n,r,n.ORDER,2)[0],s=({c0:E,c1:O},{c0:j,c1:C})=>({c0:n.add(E,j),c1:n.add(O,C)}),c=({c0:E,c1:O},{c0:j,c1:C})=>({c0:n.sub(E,j),c1:n.sub(O,C)}),l=({c0:E,c1:O},j)=>{if(typeof j=="bigint")return{c0:n.mul(E,j),c1:n.mul(O,j)};const{c0:C,c1:V}=j;let F=n.mul(E,C),Q=n.mul(O,V);const oe=n.sub(F,Q),ae=n.sub(n.mul(n.add(E,O),n.add(C,V)),n.add(F,Q));return{c0:oe,c1:ae}},u=({c0:E,c1:O})=>{const j=n.add(E,O),C=n.sub(E,O),V=n.add(E,E);return{c0:n.mul(j,C),c1:n.mul(V,O)}},p=E=>{if(E.length!==2)throw new Error("invalid tuple");const O=E.map(j=>n.create(j));return{c0:O[0],c1:O[1]}};function y(E,O){return typeof E=="bigint"&&Ww<=E&&E<O}const h=e*e,d=p(t.FP2_NONRESIDUE),f={ORDER:h,isLE:n.isLE,NONRESIDUE:d,BITS:pl(h),BYTES:Math.ceil(pl(h)/8),MASK:jc(pl(h)),ZERO:{c0:n.ZERO,c1:n.ZERO},ONE:{c0:n.ONE,c1:n.ZERO},create:E=>E,isValid:({c0:E,c1:O})=>y(E,h)&&y(O,h),is0:({c0:E,c1:O})=>n.is0(E)&&n.is0(O),isValidNot0:E=>!f.is0(E)&&f.isValid(E),eql:({c0:E,c1:O},{c0:j,c1:C})=>n.eql(E,j)&&n.eql(O,C),neg:({c0:E,c1:O})=>({c0:n.neg(E),c1:n.neg(O)}),pow:(E,O)=>H0(f,E,O),invertBatch:E=>Vc(f,E),add:s,sub:c,mul:l,sqr:u,addN:s,subN:c,mulN:l,sqrN:u,div:(E,O)=>f.mul(E,typeof O=="bigint"?n.inv(n.create(O)):f.inv(O)),inv:({c0:E,c1:O})=>{const j=n.inv(n.create(E*E+O*O));return{c0:n.mul(j,n.create(E)),c1:n.mul(j,n.create(-O))}},sqrt:E=>{if(t.Fp2sqrt)return t.Fp2sqrt(E);const{c0:O,c1:j}=E;if(n.is0(j))return lm(n,O)===1?f.create({c0:n.sqrt(O),c1:n.ZERO}):f.create({c0:n.ZERO,c1:n.sqrt(n.div(O,r))});const C=n.sqrt(n.sub(n.sqr(O),n.mul(n.sqr(j),r)));let V=n.mul(n.add(C,O),a);lm(n,V)===-1&&(V=n.sub(V,C));const Q=n.sqrt(V),oe=f.create({c0:Q,c1:n.div(n.mul(j,a),Q)});if(!f.eql(f.sqr(oe),E))throw new Error("Cannot find square root");const ae=oe,se=f.neg(ae),{re:le,im:U}=f.reim(ae),{re:de,im:pe}=f.reim(se);return U>pe||U===pe&&le>de?ae:se},isOdd:E=>{const{re:O,im:j}=f.reim(E),C=O%ri,V=O===Ww,F=j%ri;return BigInt(C||V&&F)==Qo},fromBytes(E){if(E.length!==f.BYTES)throw new Error("fromBytes invalid length="+E.length);return{c0:n.fromBytes(E.subarray(0,n.BYTES)),c1:n.fromBytes(E.subarray(n.BYTES))}},toBytes:({c0:E,c1:O})=>et(n.toBytes(E),n.toBytes(O)),cmov:({c0:E,c1:O},{c0:j,c1:C},V)=>({c0:n.cmov(E,j,V),c1:n.cmov(O,C,V)}),reim:({c0:E,c1:O})=>({re:E,im:O}),mulByNonresidue:({c0:E,c1:O})=>f.mul({c0:E,c1:O},d),mulByB:t.Fp2mulByB,fromBigTuple:p,frobeniusMap:({c0:E,c1:O},j)=>({c0:E,c1:n.mul(O,i[j%2])})},A=({c0:E,c1:O,c2:j},{c0:C,c1:V,c2:F})=>({c0:f.add(E,C),c1:f.add(O,V),c2:f.add(j,F)}),N=({c0:E,c1:O,c2:j},{c0:C,c1:V,c2:F})=>({c0:f.sub(E,C),c1:f.sub(O,V),c2:f.sub(j,F)}),v=({c0:E,c1:O,c2:j},C)=>{if(typeof C=="bigint")return{c0:f.mul(E,C),c1:f.mul(O,C),c2:f.mul(j,C)};const{c0:V,c1:F,c2:Q}=C,oe=f.mul(E,V),ae=f.mul(O,F),se=f.mul(j,Q);return{c0:f.add(oe,f.mulByNonresidue(f.sub(f.mul(f.add(O,j),f.add(F,Q)),f.add(ae,se)))),c1:f.add(f.sub(f.mul(f.add(E,O),f.add(V,F)),f.add(oe,ae)),f.mulByNonresidue(se)),c2:f.sub(f.add(ae,f.mul(f.add(E,j),f.add(V,Q))),f.add(oe,se))}},x=({c0:E,c1:O,c2:j})=>{let C=f.sqr(E),V=f.mul(f.mul(E,O),ri),F=f.mul(f.mul(O,j),ri),Q=f.sqr(j);return{c0:f.add(f.mulByNonresidue(F),C),c1:f.add(f.mulByNonresidue(Q),V),c2:f.sub(f.sub(f.add(f.add(V,f.sqr(f.add(f.sub(E,O),j))),F),C),Q)}},[_,M]=xy(f,d,n.ORDER,6,2,3),S={ORDER:f.ORDER,isLE:f.isLE,BITS:3*f.BITS,BYTES:3*f.BYTES,MASK:jc(3*f.BITS),ZERO:{c0:f.ZERO,c1:f.ZERO,c2:f.ZERO},ONE:{c0:f.ONE,c1:f.ZERO,c2:f.ZERO},create:E=>E,isValid:({c0:E,c1:O,c2:j})=>f.isValid(E)&&f.isValid(O)&&f.isValid(j),is0:({c0:E,c1:O,c2:j})=>f.is0(E)&&f.is0(O)&&f.is0(j),isValidNot0:E=>!S.is0(E)&&S.isValid(E),neg:({c0:E,c1:O,c2:j})=>({c0:f.neg(E),c1:f.neg(O),c2:f.neg(j)}),eql:({c0:E,c1:O,c2:j},{c0:C,c1:V,c2:F})=>f.eql(E,C)&&f.eql(O,V)&&f.eql(j,F),sqrt:zw,div:(E,O)=>S.mul(E,typeof O=="bigint"?n.inv(n.create(O)):S.inv(O)),pow:(E,O)=>H0(S,E,O),invertBatch:E=>Vc(S,E),add:A,sub:N,mul:v,sqr:x,addN:A,subN:N,mulN:v,sqrN:x,inv:({c0:E,c1:O,c2:j})=>{let C=f.sub(f.sqr(E),f.mulByNonresidue(f.mul(j,O))),V=f.sub(f.mulByNonresidue(f.sqr(j)),f.mul(E,O)),F=f.sub(f.sqr(O),f.mul(E,j)),Q=f.inv(f.add(f.mulByNonresidue(f.add(f.mul(j,V),f.mul(O,F))),f.mul(E,C)));return{c0:f.mul(Q,C),c1:f.mul(Q,V),c2:f.mul(Q,F)}},fromBytes:E=>{if(E.length!==S.BYTES)throw new Error("fromBytes invalid length="+E.length);return{c0:f.fromBytes(E.subarray(0,f.BYTES)),c1:f.fromBytes(E.subarray(f.BYTES,2*f.BYTES)),c2:f.fromBytes(E.subarray(2*f.BYTES))}},toBytes:({c0:E,c1:O,c2:j})=>et(f.toBytes(E),f.toBytes(O),f.toBytes(j)),cmov:({c0:E,c1:O,c2:j},{c0:C,c1:V,c2:F},Q)=>({c0:f.cmov(E,C,Q),c1:f.cmov(O,V,Q),c2:f.cmov(j,F,Q)}),fromBigSix:E=>{if(!Array.isArray(E)||E.length!==6)throw new Error("invalid Fp6 usage");return{c0:f.fromBigTuple(E.slice(0,2)),c1:f.fromBigTuple(E.slice(2,4)),c2:f.fromBigTuple(E.slice(4,6))}},frobeniusMap:({c0:E,c1:O,c2:j},C)=>({c0:f.frobeniusMap(E,C),c1:f.mul(f.frobeniusMap(O,C),_[C%6]),c2:f.mul(f.frobeniusMap(j,C),M[C%6])}),mulByFp2:({c0:E,c1:O,c2:j},C)=>({c0:f.mul(E,C),c1:f.mul(O,C),c2:f.mul(j,C)}),mulByNonresidue:({c0:E,c1:O,c2:j})=>({c0:f.mulByNonresidue(j),c1:E,c2:O}),mul1:({c0:E,c1:O,c2:j},C)=>({c0:f.mulByNonresidue(f.mul(j,C)),c1:f.mul(E,C),c2:f.mul(O,C)}),mul01({c0:E,c1:O,c2:j},C,V){let F=f.mul(E,C),Q=f.mul(O,V);return{c0:f.add(f.mulByNonresidue(f.sub(f.mul(f.add(O,j),V),Q)),F),c1:f.sub(f.sub(f.mul(f.add(C,V),f.add(E,O)),F),Q),c2:f.add(f.sub(f.mul(f.add(E,j),C),F),Q)}}},H=xy(f,d,n.ORDER,12,1,6)[0],z=({c0:E,c1:O},{c0:j,c1:C})=>({c0:S.add(E,j),c1:S.add(O,C)}),K=({c0:E,c1:O},{c0:j,c1:C})=>({c0:S.sub(E,j),c1:S.sub(O,C)}),Z=({c0:E,c1:O},j)=>{if(typeof j=="bigint")return{c0:S.mul(E,j),c1:S.mul(O,j)};let{c0:C,c1:V}=j,F=S.mul(E,C),Q=S.mul(O,V);return{c0:S.add(F,S.mulByNonresidue(Q)),c1:S.sub(S.mul(S.add(E,O),S.add(C,V)),S.add(F,Q))}},k=({c0:E,c1:O})=>{let j=S.mul(E,O);return{c0:S.sub(S.sub(S.mul(S.add(S.mulByNonresidue(O),E),S.add(E,O)),j),S.mulByNonresidue(j)),c1:S.add(j,j)}};function P(E,O){const j=f.sqr(E),C=f.sqr(O);return{first:f.add(f.mulByNonresidue(C),j),second:f.sub(f.sub(f.sqr(f.add(E,O)),j),C)}}const X={ORDER:f.ORDER,isLE:S.isLE,BITS:2*S.BITS,BYTES:2*S.BYTES,MASK:jc(2*S.BITS),ZERO:{c0:S.ZERO,c1:S.ZERO},ONE:{c0:S.ONE,c1:S.ZERO},create:E=>E,isValid:({c0:E,c1:O})=>S.isValid(E)&&S.isValid(O),is0:({c0:E,c1:O})=>S.is0(E)&&S.is0(O),isValidNot0:E=>!X.is0(E)&&X.isValid(E),neg:({c0:E,c1:O})=>({c0:S.neg(E),c1:S.neg(O)}),eql:({c0:E,c1:O},{c0:j,c1:C})=>S.eql(E,j)&&S.eql(O,C),sqrt:zw,inv:({c0:E,c1:O})=>{let j=S.inv(S.sub(S.sqr(E),S.mulByNonresidue(S.sqr(O))));return{c0:S.mul(E,j),c1:S.neg(S.mul(O,j))}},div:(E,O)=>X.mul(E,typeof O=="bigint"?n.inv(n.create(O)):X.inv(O)),pow:(E,O)=>H0(X,E,O),invertBatch:E=>Vc(X,E),add:z,sub:K,mul:Z,sqr:k,addN:z,subN:K,mulN:Z,sqrN:k,fromBytes:E=>{if(E.length!==X.BYTES)throw new Error("fromBytes invalid length="+E.length);return{c0:S.fromBytes(E.subarray(0,S.BYTES)),c1:S.fromBytes(E.subarray(S.BYTES))}},toBytes:({c0:E,c1:O})=>et(S.toBytes(E),S.toBytes(O)),cmov:({c0:E,c1:O},{c0:j,c1:C},V)=>({c0:S.cmov(E,j,V),c1:S.cmov(O,C,V)}),fromBigTwelve:E=>({c0:S.fromBigSix(E.slice(0,6)),c1:S.fromBigSix(E.slice(6,12))}),frobeniusMap(E,O){const{c0:j,c1:C,c2:V}=S.frobeniusMap(E.c1,O),F=H[O%12];return{c0:S.frobeniusMap(E.c0,O),c1:S.create({c0:f.mul(j,F),c1:f.mul(C,F),c2:f.mul(V,F)})}},mulByFp2:({c0:E,c1:O},j)=>({c0:S.mulByFp2(E,j),c1:S.mulByFp2(O,j)}),conjugate:({c0:E,c1:O})=>({c0:E,c1:S.neg(O)}),mul014:({c0:E,c1:O},j,C,V)=>{let F=S.mul01(E,j,C),Q=S.mul1(O,V);return{c0:S.add(S.mulByNonresidue(Q),F),c1:S.sub(S.sub(S.mul01(S.add(O,E),j,f.add(C,V)),F),Q)}},mul034:({c0:E,c1:O},j,C,V)=>{const F=S.create({c0:f.mul(E.c0,j),c1:f.mul(E.c1,j),c2:f.mul(E.c2,j)}),Q=S.mul01(O,C,V),oe=S.mul01(S.add(E,O),f.add(j,C),V);return{c0:S.add(S.mulByNonresidue(Q),F),c1:S.sub(oe,S.add(F,Q))}},_cyclotomicSquare:t.Fp12cyclotomicSquare,_cyclotomicExp:t.Fp12cyclotomicExp,finalExponentiate:t.Fp12finalExponentiate};return{Fp:n,Fp2:f,Fp6:S,Fp12:X,Fp4Square:P}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const An=BigInt(0),dm=BigInt(1),on=BigInt(2),np=BigInt(3),Hf=BigInt(4),Xi=BigInt("0xd201000000010000"),SB=pl(Xi),eo={p:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),n:BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001"),h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),a:An,b:Hf,Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1")},TB=Ws(eo.n,{modOnDecode:!0}),{Fp:Ae,Fp2:Ne,Fp6:xg,Fp4Square:wy,Fp12:ze}=NB({ORDER:eo.p,FP2_NONRESIDUE:[dm,dm],Fp2mulByB:({c0:t,c1:e})=>{const n=Ae.mul(t,Hf),r=Ae.mul(e,Hf);return{c0:Ae.sub(n,r),c1:Ae.add(n,r)}},Fp12cyclotomicSquare:({c0:t,c1:e})=>{const{c0:n,c1:r,c2:a}=t,{c0:i,c1:s,c2:c}=e,{first:l,second:u}=wy(n,s),{first:p,second:y}=wy(i,a),{first:h,second:d}=wy(r,c),f=Ne.mulByNonresidue(d);return{c0:xg.create({c0:Ne.add(Ne.mul(Ne.sub(l,n),on),l),c1:Ne.add(Ne.mul(Ne.sub(p,r),on),p),c2:Ne.add(Ne.mul(Ne.sub(h,a),on),h)}),c1:xg.create({c0:Ne.add(Ne.mul(Ne.add(f,i),on),f),c1:Ne.add(Ne.mul(Ne.add(u,s),on),u),c2:Ne.add(Ne.mul(Ne.add(y,c),on),y)})}},Fp12cyclotomicExp(t,e){let n=ze.ONE;for(let r=SB-1;r>=0;r--)n=ze._cyclotomicSquare(n),LA(e,r)&&(n=ze.mul(n,t));return n},Fp12finalExponentiate:t=>{const e=Xi,n=ze.div(ze.frobeniusMap(t,6),t),r=ze.mul(ze.frobeniusMap(n,2),n),a=ze.conjugate(ze._cyclotomicExp(r,e)),i=ze.mul(ze.conjugate(ze._cyclotomicSquare(r)),a),s=ze.conjugate(ze._cyclotomicExp(i,e)),c=ze.conjugate(ze._cyclotomicExp(s,e)),l=ze.mul(ze.conjugate(ze._cyclotomicExp(c,e)),ze._cyclotomicSquare(a)),u=ze.conjugate(ze._cyclotomicExp(l,e)),p=ze.frobeniusMap(ze.mul(a,c),2),y=ze.frobeniusMap(ze.mul(s,r),3),h=ze.frobeniusMap(ze.mul(l,ze.conjugate(r)),1),d=ze.mul(ze.mul(u,ze.conjugate(i)),r);return ze.mul(ze.mul(ze.mul(p,y),h),d)}}),{G2psi:tE,G2psi2:AB}=_B(Ae,Ne,Ne.div(Ne.ONE,Ne.NONRESIDUE)),Ey=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:Ae.ORDER,m:2,k:128,expand:"xmd",hash:cr}),S2={p:Ne.ORDER,n:eo.n,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),a:Ne.ZERO,b:Ne.fromBigTuple([Hf,Hf]),Gx:Ne.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:Ne.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")])},rp=Ud(Ae.toBytes(An),{infinity:!0,compressed:!0});function ap(t){t=t.slice();const e=t[0]&224,n=!!(e>>7&1),r=!!(e>>6&1),a=!!(e>>5&1);return t[0]&=31,{compressed:n,infinity:r,sort:a,value:t}}function Ud(t,e){if(t[0]&224)throw new Error("setMask: non-empty mask");return e.compressed&&(t[0]|=128),e.infinity&&(t[0]|=64),e.sort&&(t[0]|=32),t}function BB(t,e,n){const{BYTES:r,ORDER:a}=Ae,i=e.is0(),{x:s,y:c}=e.toAffine();if(n){if(i)return rp.slice();const l=!!(c*on/a);return Ud(gn(s,r),{compressed:!0,sort:l})}else return i?et(Uint8Array.of(64),new Uint8Array(2*r-1)):et(gn(s,r),gn(c,r))}function vy(t){t.assertValidity();const{BYTES:e,ORDER:n}=Ae,{x:r,y:a}=t.toAffine();if(t.is0())return rp.slice();const i=!!(a*on/n);return Ud(gn(r,e),{compressed:!0,sort:i})}function RB(t){const{compressed:e,infinity:n,sort:r,value:a}=ap(t),{BYTES:i,ORDER:s}=Ae;if(a.length===48&&e){const c=Ma(a),l=Ae.create(c&Ae.MASK);if(n){if(l!==An)throw new Error("invalid G1 point: non-empty, at infinity, with compression");return{x:An,y:An}}const u=Ae.add(Ae.pow(l,np),Ae.create(eo.b));let p=Ae.sqrt(u);if(!p)throw new Error("invalid G1 point: compressed point");return p*on/s!==BigInt(r)&&(p=Ae.neg(p)),{x:Ae.create(l),y:Ae.create(p)}}else if(a.length===96&&!e){const c=Ma(a.subarray(0,i)),l=Ma(a.subarray(i));if(n){if(c!==An||l!==An)throw new Error("G1: non-empty point at infinity");return ip.G1.Point.ZERO.toAffine()}return{x:Ae.create(c),y:Ae.create(l)}}else throw new Error("invalid G1 point: expected 48/96 bytes")}function nE(t){const{infinity:e,sort:n,value:r}=ap(Vn("signatureHex",t,48)),a=Ae.ORDER,i=ip.G1.Point,s=Ma(r);if(e)return i.ZERO;const c=Ae.create(s&Ae.MASK),l=Ae.add(Ae.pow(c,np),Ae.create(eo.b));let u=Ae.sqrt(l);if(!u)throw new Error("invalid G1 point: compressed");const p=BigInt(n);u*on/a!==p&&(u=Ae.neg(u));const y=i.fromAffine({x:c,y:u});return y.assertValidity(),y}function OB(t,e,n){const{BYTES:r,ORDER:a}=Ae,i=e.is0(),{x:s,y:c}=e.toAffine();if(n){if(i)return et(rp,gn(An,r));const l=!!(c.c1===An?c.c0*on/a:c.c1*on/a);return et(Ud(gn(s.c1,r),{compressed:!0,sort:l}),gn(s.c0,r))}else{if(i)return et(Uint8Array.of(64),new Uint8Array(4*r-1));const{re:l,im:u}=Ne.reim(s),{re:p,im:y}=Ne.reim(c);return et(gn(u,r),gn(l,r),gn(y,r),gn(p,r))}}function _y(t){t.assertValidity();const{BYTES:e}=Ae;if(t.is0())return et(rp,gn(An,e));const{x:n,y:r}=t.toAffine(),{re:a,im:i}=Ne.reim(n),{re:s,im:c}=Ne.reim(r),u=!!((c>An?c*on:s*on)/Ae.ORDER&dm),p=a;return et(Ud(gn(i,e),{sort:u,compressed:!0}),gn(p,e))}function UB(t){const{BYTES:e,ORDER:n}=Ae,{compressed:r,infinity:a,sort:i,value:s}=ap(t);if(!r&&!a&&i||!r&&a&&i||i&&a&&r)throw new Error("invalid encoding flag: "+(t[0]&224));const c=(l,u,p)=>Ma(l.slice(u,p));if(s.length===96&&r){if(a){if(s.reduce((f,A)=>f!==0?A+1:A,0)>0)throw new Error("invalid G2 point: compressed");return{x:Ne.ZERO,y:Ne.ZERO}}const l=c(s,0,e),u=c(s,e,2*e),p=Ne.create({c0:Ae.create(u),c1:Ae.create(l)}),y=Ne.add(Ne.pow(p,np),S2.b);let h=Ne.sqrt(y);const d=h.c1===An?h.c0*on/n:h.c1*on/n?dm:An;return h=i&&d>0?h:Ne.neg(h),{x:p,y:h}}else if(s.length===192&&!r){if(a){if(s.reduce((h,d)=>h!==0?d+1:d,0)>0)throw new Error("invalid G2 point: uncompressed");return{x:Ne.ZERO,y:Ne.ZERO}}const l=c(s,0*e,1*e),u=c(s,1*e,2*e),p=c(s,2*e,3*e),y=c(s,3*e,4*e);return{x:Ne.fromBigTuple([u,l]),y:Ne.fromBigTuple([y,p])}}else throw new Error("invalid G2 point: expected 96/192 bytes")}function rE(t){const{ORDER:e}=Ae,{infinity:n,sort:r,value:a}=ap(Vn("signatureHex",t)),i=ip.G2.Point,s=a.length/2;if(s!==48&&s!==96)throw new Error("invalid compressed signature length, expected 96/192 bytes");const c=Ma(a.slice(0,s)),l=Ma(a.slice(s));if(n)return i.ZERO;const u=Ae.create(c&Ae.MASK),p=Ae.create(l),y=Ne.create({c0:p,c1:u}),h=Ne.add(Ne.pow(y,np),S2.b);let d=Ne.sqrt(h);if(!d)throw new Error("Failed to find a square root");const{re:f,im:A}=Ne.reim(d),N=BigInt(r),v=A>An&&A*on/e!==N,x=A===An&&f*on/e!==N;(v||x)&&(d=Ne.neg(d));const _=i.fromAffine({x:y,y:d});return _.assertValidity(),_}const ip=vB({fields:{Fp:Ae,Fp2:Ne,Fp6:xg,Fp12:ze,Fr:TB},G1:{...eo,Fp:Ae,htfDefaults:{...Ey,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(t,e)=>{const n=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),r=new t(Ae.mul(e.X,n),e.Y,e.Z);return e.multiplyUnsafe(Xi).negate().multiplyUnsafe(Xi).equals(r)},clearCofactor:(t,e)=>e.multiplyUnsafe(Xi).add(e),mapToCurve:$B,fromBytes:RB,toBytes:BB,ShortSignature:{fromBytes(t){return On(t),nE(t)},fromHex(t){return nE(t)},toBytes(t){return vy(t)},toRawBytes(t){return vy(t)},toHex(t){return nt(vy(t))}}},G2:{...S2,Fp:Ne,hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...Ey},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:kB,isTorsionFree:(t,e)=>e.multiplyUnsafe(Xi).negate().equals(tE(t,e)),clearCofactor:(t,e)=>{const n=Xi;let r=e.multiplyUnsafe(n).negate(),a=tE(t,e),i=e.double();return i=AB(t,i),i=i.subtract(a),a=r.add(a),a=a.multiplyUnsafe(n).negate(),i=i.add(a),i=i.subtract(r),i.subtract(e)},fromBytes:UB,toBytes:OB,Signature:{fromBytes(t){return On(t),rE(t)},fromHex(t){return rE(t)},toBytes(t){return _y(t)},toRawBytes(t){return _y(t)},toHex(t){return nt(_y(t))}}},params:{ateLoopSize:Xi,r:eo.n,xNegative:!0,twistType:"multiplicative"},htfDefaults:Ey,hash:cr}),CB=d4(Ne,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(t=>t.map(e=>Ne.fromBigTuple(e.map(BigInt))))),MB=d4(Ae,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),qB=m4(Ae,{A:Ae.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:Ae.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:Ae.create(BigInt(11))}),IB=m4(Ne,{A:Ne.create({c0:Ae.create(An),c1:Ae.create(BigInt(240))}),B:Ne.create({c0:Ae.create(BigInt(1012)),c1:Ae.create(BigInt(1012))}),Z:Ne.create({c0:Ae.create(BigInt(-2)),c1:Ae.create(BigInt(-1))})});function $B(t){const{x:e,y:n}=qB(Ae.create(t[0]));return MB(e,n)}function kB(t){const{x:e,y:n}=IB(Ne.fromBigTuple(t));return CB(e,n)}function FB(t,e,n){const r=typeof t=="string"?t:nt(t),a=typeof e=="string"?e:nt(e),i=typeof n=="string"?n:nt(n);return ip.verifyShortSignature(a,i,r)}const p4=t=>tn(new uu(t)),T2=t=>{const e=p4(t);return new Date(Number(e)/1e6)};var xn;(function(t){t[t.Empty=0]="Empty",t[t.Fork=1]="Fork",t[t.Labeled=2]="Labeled",t[t.Leaf=3]="Leaf",t[t.Pruned=4]="Pruned"})(xn||(xn={}));function jB(t,e){for(let n=0;n<t.length;n++)if(t[n]>e[n])return!0;return!1}var Jf,Ps;let A2=(Ps=class{constructor(e,n,r,a,i=5,s=!1){ye(this,Jf,!1);this._rootKey=n,this._canisterId=r,this._blsVerify=a,this._maxAgeInMinutes=i,ue(this,Jf,s),this.cert=va(e)}static async create(e){const n=Ps.createUnverified(e);return await n.verify(),n}static createUnverified(e){return new Ps(e.certificate,e.rootKey,e.canisterId,e.blsVerify??FB,e.maxAgeInMinutes,e.disableTimeVerification)}lookup_path(e){return Cd(e,this.cert.tree)}lookup_subtree(e){return B2(e,this.cert.tree)}async verify(){const e=await D0(this.cert.tree),n=await this._checkDelegationAndGetKey(this.cert.delegation),r=this.cert.signature,a=HB(n),i=et($u("ic-state-root"),e);let s=!1;const c=or(this.lookup_path(["time"]));if(!c)throw It.fromCode(new Bf("Certificate does not contain a time"));if(!$(this,Jf)){const u=this._maxAgeInMinutes*60*1e3,p=Date.now(),y=p-u,h=p+3e5,d=T2(c);if(d.getTime()<y)throw Or.fromCode(new Zh(this._maxAgeInMinutes,d,new Date(p),"past"));if(d.getTime()>h)throw Or.fromCode(new Zh(5,d,new Date(p),"future"))}try{s=await this._blsVerify(new Uint8Array(a),new Uint8Array(r),new Uint8Array(i))}catch{s=!1}if(!s)throw Or.fromCode(new Bf("Signature verification failed"))}async _checkDelegationAndGetKey(e){if(!e)return this._rootKey;const n=Ps.createUnverified({certificate:e.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,disableTimeVerification:!0});if(n.cert.delegation)throw It.fromCode(new Wb);if(await n.verify(),this._canisterId.toString()!==mR&&!g4({canisterId:this._canisterId,subnetId:Le.fromUint8Array(new Uint8Array(e.subnet_id)),tree:n.cert.tree}))throw Or.fromCode(new Lm(this._canisterId,e.subnet_id));const r=or(n.lookup_path(["subnet",e.subnet_id,"public_key"]));if(!r)throw Or.fromCode(new e2(`Could not find subnet key for subnet 0x${nt(e.subnet_id)}`));return r}},Jf=new WeakMap,Ps);const Au=Ca("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),VB=96;function HB(t){const e=Au.byteLength+VB;if(t.byteLength!==e)throw It.fromCode(new Xm(e,t.byteLength));const n=t.slice(0,Au.byteLength);if(!ep(n,Au))throw It.fromCode(new t2(Au,n));return t.slice(Au.byteLength)}function or(t){if(t.status===Ar.Found&&t.value instanceof Uint8Array)return t.value}async function D0(t){switch(t[0]){case xn.Empty:return cr($u("ic-hashtree-empty"));case xn.Pruned:return t[1];case xn.Leaf:return cr(et($u("ic-hashtree-leaf"),t[1]));case xn.Labeled:return cr(et($u("ic-hashtree-labeled"),t[1],await D0(t[2])));case xn.Fork:return cr(et($u("ic-hashtree-fork"),await D0(t[1]),await D0(t[2])));default:throw dl}}function $u(t){const e=new Uint8Array([t.length]),n=new TextEncoder().encode(t);return et(e,n)}function y4(t){return typeof t[0]=="string"?Ct(t[0]):t[0]}var Ar;(function(t){t.Unknown="Unknown",t.Absent="Absent",t.Found="Found",t.Error="Error"})(Ar||(Ar={}));var yl;(function(t){t.Absent="Absent",t.Unknown="Unknown",t.Found="Found"})(yl||(yl={}));var _t;(function(t){t.Absent="Absent",t.Unknown="Unknown",t.Found="Found",t.Less="Less",t.Greater="Greater"})(_t||(_t={}));function Cd(t,e){if(t.length===0)switch(e[0]){case xn.Empty:return{status:Ar.Absent};case xn.Leaf:{if(!e[1])throw ar.fromCode(new Rd("Invalid tree structure for leaf"));if(e[1]instanceof Uint8Array)return{status:Ar.Found,value:e[1].slice(e[1].byteOffset,e[1].byteLength+e[1].byteOffset)};throw dl}case xn.Pruned:return{status:Ar.Unknown};case xn.Labeled:case xn.Fork:return{status:Ar.Error};default:throw dl}const n=y4(t),r=af(n,e);switch(r.status){case _t.Found:return Cd(t.slice(1),r.value);case _t.Absent:case _t.Greater:case _t.Less:return{status:Ar.Absent};case _t.Unknown:return{status:Ar.Unknown};default:throw dl}}function B2(t,e){if(t.length===0)return{status:yl.Found,value:e};const n=y4(t),r=af(n,e);switch(r.status){case _t.Found:return B2(t.slice(1),r.value);case _t.Unknown:return{status:yl.Unknown};case _t.Absent:case _t.Greater:case _t.Less:return{status:yl.Absent};default:throw dl}}function wg(t){switch(t[0]){case xn.Empty:return[];case xn.Fork:return wg(t[1]).concat(wg(t[2]));default:return[t]}}function af(t,e){switch(e[0]){case xn.Labeled:return jB(t,e[1])?{status:_t.Greater}:ep(t,e[1])?{status:_t.Found,value:e[2]}:{status:_t.Less};case xn.Fork:{const n=af(t,e[1]);switch(n.status){case _t.Greater:{const r=af(t,e[2]);return r.status===_t.Less?{status:_t.Absent}:r}case _t.Unknown:{const r=af(t,e[2]);return r.status===_t.Less?{status:_t.Unknown}:r}default:return n}}case xn.Pruned:return{status:_t.Unknown};default:return{status:_t.Absent}}}function g4(t){const{canisterId:e,subnetId:n,tree:r}=t,a=Cd(["subnet",n.toUint8Array(),"canister_ranges"],r);if(a.status!==Ar.Found)throw It.fromCode(new Zl(`Could not find canister ranges for subnet ${n.toText()}`,a.status));if(!(a.value instanceof Uint8Array))throw It.fromCode(new Zm(`Could not find canister ranges for subnet ${n.toText()}`));return va(a.value).map(l=>[Le.fromUint8Array(l[0]),Le.fromUint8Array(l[1])]).some(l=>l[0].ltEq(e)&&l[1].gtEq(e))}const aE=async t=>{const{agent:e,paths:n}=t,r=Le.from(t.canisterId),a=[...new Set(n)],i=new Map,s=a.map((c,l)=>{const u=zB(c,r);return(async()=>{try{const p=await e.readState(r,{paths:[u]});if(e.rootKey==null)throw Hn.fromCode(new Xc);const y=await A2.create({certificate:p.certificate,rootKey:e.rootKey,canisterId:r,disableTimeVerification:!0}),h=(A,N)=>{if(N==="subnet"){if(e.rootKey==null)throw Hn.fromCode(new Xc);const v=DB(p.certificate,r,e.rootKey);return{path:N,data:v}}else return{path:N,data:or(A.lookup_path(u))}},{path:d,data:f}=h(y,a[l]);if(!f)console.warn(`Expected to find result for path ${d}, but instead found nothing.`),typeof d=="string"?i.set(d,null):i.set(d.key,null);else switch(d){case"time":{i.set(d,T2(f));break}case"controllers":{i.set(d,PB(f));break}case"module_hash":{i.set(d,nt(f));break}case"subnet":{i.set(d,f);break}case"candid":{i.set(d,new TextDecoder().decode(f));break}default:if(typeof d!="string"&&"key"in d&&"path"in d)switch(d.decodeStrategy){case"raw":i.set(d.key,f);break;case"leb128":{i.set(d.key,p4(f));break}case"cbor":{i.set(d.key,va(f));break}case"hex":{i.set(d.key,nt(f));break}case"utf-8":i.set(d.key,new TextDecoder().decode(f))}}}catch(p){if(p instanceof uc&&p.hasCode(Bf))throw p;typeof c!="string"&&"key"in c&&"path"in c?i.set(c.key,null):i.set(c,null),console.group(),console.warn(`Expected to find result for path ${c}, but instead found nothing.`),console.warn(p),console.groupEnd()}})()});return await Promise.all(s),i},DB=(t,e,n)=>{if(!e._isPrincipal)throw yt.fromCode(new wa("Invalid canisterId"));const r=va(t),a=r.tree;let i=r.delegation,s;if(i&&i.subnet_id?s=Le.fromUint8Array(new Uint8Array(i.subnet_id)):!i&&typeof n<"u"?(s=Le.selfAuthenticating(new Uint8Array(n)),i={subnet_id:s.toUint8Array(),certificate:new Uint8Array(0)}):(s=Le.selfAuthenticating(Le.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),i={subnet_id:s.toUint8Array(),certificate:new Uint8Array(0)}),!g4({canisterId:e,subnetId:s,tree:a}))throw Or.fromCode(new Lm(e,i.subnet_id));const l=B2(["subnet",i.subnet_id,"node"],a);if(l.status!==yl.Found)throw It.fromCode(new Zl("Node not found",l.status));if(l.value instanceof Uint8Array)throw ar.fromCode(new Rd("Invalid node tree"));const u=wg(l.value),p=new Map;return u.forEach(y=>{const h=Le.from(y[1]).toText(),d=Cd(["public_key"],y[2]);if(d.status!==Ar.Found)throw It.fromCode(new Zl("Public key not found",d.status));const f=d.value;if(f.byteLength!==44)throw It.fromCode(new Xm(44,f.byteLength));p.set(h,f)}),{subnetId:Le.fromUint8Array(new Uint8Array(i.subnet_id)).toText(),nodeKeys:p}},zB=(t,e)=>{const n=e.toUint8Array();switch(t){case"time":return[Ct("time")];case"controllers":return[Ct("canister"),n,Ct("controllers")];case"module_hash":return[Ct("canister"),n,Ct("module_hash")];case"subnet":return[Ct("subnet")];case"candid":return[Ct("canister"),n,Ct("metadata"),Ct("candid:service")];default:if("key"in t&&"path"in t)if(typeof t.path=="string"||t.path instanceof Uint8Array){const r=t.path,a=typeof r=="string"?Ct(r):r;return[Ct("canister"),n,Ct("metadata"),a]}else return t.path}throw ar.fromCode(new wa(`Error while encoding your path for canister status. Please ensure that your path ${t} was formatted correctly.`))},PB=t=>va(t).map(n=>Le.fromUint8Array(n));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oa=BigInt(0),zt=BigInt(1),Ny=BigInt(2),GB=BigInt(8);function YB(t,e,n,r){const a=t.sqr(n),i=t.sqr(r),s=t.add(t.mul(e.a,a),i),c=t.add(t.ONE,t.mul(e.d,t.mul(a,i)));return t.eql(s,c)}function KB(t,e={}){const{Fp:n,Fn:r}=u4("edwards",t,e),{h:a,n:i}=t;Od(e,{},{uvRatio:"function"});const s=Ny<<BigInt(r.BYTES*8)-zt,c=A=>n.create(A),l=e.uvRatio||((A,N)=>{try{return{isValid:!0,value:n.sqrt(n.div(A,N))}}catch{return{isValid:!1,value:oa}}});if(!YB(n,t,t.Gx,t.Gy))throw new Error("bad curve params: generator point");function u(A,N,v=!1){const x=v?zt:oa;return Iu("coordinate "+A,N,x,s),N}function p(A){if(!(A instanceof d))throw new Error("ExtendedPoint expected")}const y=jf((A,N)=>{const{X:v,Y:x,Z:_}=A,M=A.is0();N==null&&(N=M?GB:n.inv(_));const S=c(v*N),H=c(x*N),z=n.mul(_,N);if(M)return{x:oa,y:zt};if(z!==zt)throw new Error("invZ was invalid");return{x:S,y:H}}),h=jf(A=>{const{a:N,d:v}=t;if(A.is0())throw new Error("bad point: ZERO");const{X:x,Y:_,Z:M,T:S}=A,H=c(x*x),z=c(_*_),K=c(M*M),Z=c(K*K),k=c(H*N),P=c(K*c(k+z)),X=c(Z+c(v*c(H*z)));if(P!==X)throw new Error("bad point: equation left != right (1)");const E=c(x*_),O=c(M*S);if(E!==O)throw new Error("bad point: equation left != right (2)");return!0});class d{constructor(N,v,x,_){this.X=u("x",N),this.Y=u("y",v),this.Z=u("z",x,!0),this.T=u("t",_),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(N){return fi(d,N)}static msm(N,v){return l4(d,r,N,v)}_setWindowSize(N){this.precompute(N)}static fromAffine(N){if(N instanceof d)throw new Error("extended point not allowed");const{x:v,y:x}=N||{};return u("x",v),u("y",x),new d(v,x,zt,c(v*x))}precompute(N=8,v=!0){return f.createCache(this,N),v||this.multiply(Ny),this}assertValidity(){h(this)}equals(N){p(N);const{X:v,Y:x,Z:_}=this,{X:M,Y:S,Z:H}=N,z=c(v*H),K=c(M*_),Z=c(x*H),k=c(S*_);return z===K&&Z===k}is0(){return this.equals(d.ZERO)}negate(){return new d(c(-this.X),this.Y,this.Z,c(-this.T))}double(){const{a:N}=t,{X:v,Y:x,Z:_}=this,M=c(v*v),S=c(x*x),H=c(Ny*c(_*_)),z=c(N*M),K=v+x,Z=c(c(K*K)-M-S),k=z+S,P=k-H,X=z-S,E=c(Z*P),O=c(k*X),j=c(Z*X),C=c(P*k);return new d(E,O,C,j)}add(N){p(N);const{a:v,d:x}=t,{X:_,Y:M,Z:S,T:H}=this,{X:z,Y:K,Z,T:k}=N,P=c(_*z),X=c(M*K),E=c(H*x*k),O=c(S*Z),j=c((_+M)*(z+K)-P-X),C=O-E,V=O+E,F=c(X-v*P),Q=c(j*C),oe=c(V*F),ae=c(j*F),se=c(C*V);return new d(Q,oe,se,ae)}subtract(N){return this.add(N.negate())}multiply(N){const v=N;Iu("scalar",v,zt,i);const{p:x,f:_}=f.cached(this,v,M=>fi(d,M));return fi(d,[x,_])[0]}multiplyUnsafe(N,v=d.ZERO){const x=N;return Iu("scalar",x,oa,i),x===oa?d.ZERO:this.is0()||x===zt?this:f.unsafe(this,x,_=>fi(d,_),v)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}isTorsionFree(){return f.unsafe(this,i).is0()}toAffine(N){return y(this,N)}clearCofactor(){return a===zt?this:this.multiplyUnsafe(a)}static fromBytes(N,v=!1){return On(N),d.fromHex(N,v)}static fromHex(N,v=!1){const{d:x,a:_}=t,M=n.BYTES;N=Vn("pointHex",N,M),kf("zip215",v);const S=N.slice(),H=N[M-1];S[M-1]=H&-129;const z=Ff(S),K=v?s:n.ORDER;Iu("pointHex.y",z,oa,K);const Z=c(z*z),k=c(Z-zt),P=c(x*Z-_);let{isValid:X,value:E}=l(k,P);if(!X)throw new Error("Point.fromHex: invalid y coordinate");const O=(E&zt)===zt,j=(H&128)!==0;if(!v&&E===oa&&j)throw new Error("Point.fromHex: x=0 and x_0=1");return j!==O&&(E=c(-E)),d.fromAffine({x:E,y:z})}toBytes(){const{x:N,y:v}=this.toAffine(),x=tp(v,n.BYTES);return x[x.length-1]|=N&zt?128:0,x}toRawBytes(){return this.toBytes()}toHex(){return nt(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}d.BASE=new d(t.Gx,t.Gy,zt,c(t.Gx*t.Gy)),d.ZERO=new d(oa,zt,zt,oa),d.Fp=n,d.Fn=r;const f=new o4(d,r.BYTES*8);return d}function LB(t,e,n){if(typeof e!="function")throw new Error('"hash" function param is required');Od(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:a,Fp:i,Fn:s}=t,c=s.ORDER,l=n.randomBytes||Y8,u=n.adjustScalarBytes||(P=>P),p=n.domain||((P,X,E)=>{if(kf("phflag",E),X.length||E)throw new Error("Contexts/pre-hash are not supported");return P});function y(P){return s.create(P)}function h(P){return y(Ff(P))}function d(P){const X=i.BYTES;P=Vn("private key",P,X);const E=Vn("hashed private key",e(P),2*X),O=u(E.slice(0,X)),j=E.slice(X,2*X),C=h(O);return{head:O,prefix:j,scalar:C}}function f(P){const{head:X,prefix:E,scalar:O}=d(P),j=a.multiply(O),C=j.toBytes();return{head:X,prefix:E,scalar:O,point:j,pointBytes:C}}function A(P){return f(P).pointBytes}function N(P=Uint8Array.of(),...X){const E=et(...X);return h(e(p(E,Vn("context",P),!!r)))}function v(P,X,E={}){P=Vn("message",P),r&&(P=r(P));const{prefix:O,scalar:j,pointBytes:C}=f(X),V=N(E.context,O,P),F=a.multiply(V).toBytes(),Q=N(E.context,F,C,P),oe=y(V+Q*j);Iu("signature.s",oe,oa,c);const ae=i.BYTES,se=et(F,tp(oe,ae));return Vn("result",se,ae*2)}const x={zip215:!0};function _(P,X,E,O=x){const{context:j,zip215:C}=O,V=i.BYTES;P=Vn("signature",P,2*V),X=Vn("message",X),E=Vn("publicKey",E,V),C!==void 0&&kf("zip215",C),r&&(X=r(X));const F=Ff(P.slice(V,2*V));let Q,oe,ae;try{Q=t.fromHex(E,C),oe=t.fromHex(P.slice(0,V),C),ae=a.multiplyUnsafe(F)}catch{return!1}if(!C&&Q.isSmallOrder())return!1;const se=N(j,oe.toBytes(),Q.toBytes(),X);return oe.add(Q.multiplyUnsafe(se)).subtract(ae).clearCofactor().is0()}a.precompute(8);const M=i.BYTES,S={secret:M,public:M,signature:2*M,seed:M};function H(P=l(S.seed)){return P}const z={getExtendedPublicKey:f,randomSecretKey:H,isValidSecretKey:Z,isValidPublicKey:k,randomPrivateKey:H,toMontgomery(P){const{y:X}=t.fromBytes(P),E=M===32;if(!E&&M!==57)throw new Error("only defined for 25519 and 448");const O=E?i.div(zt+X,zt-X):i.div(X-zt,X+zt);return i.toBytes(O)},toMontgomeryPriv(P){On(P,M);const X=e(P.subarray(0,M));return u(X).subarray(0,M)},precompute(P=8,X=t.BASE){return X.precompute(P,!1)}};function K(P){const X=z.randomSecretKey(P);return{secretKey:X,publicKey:A(X)}}function Z(P){try{return!!s.fromBytes(P,!1)}catch{return!1}}function k(P,X){try{return!!t.fromBytes(P,X)}catch{return!1}}return Object.freeze({keygen:K,getPublicKey:A,sign:v,verify:_,utils:z,Point:t,info:{type:"edwards",lengths:S}})}function ZB(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Ws(e.n,t.nBitLength,!0),a={Fp:n,Fn:r,uvRatio:t.uvRatio},i={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:a,hash:t.hash,eddsaOpts:i}}function XB(t,e){return Object.assign({},e,{ExtendedPoint:e.Point,CURVE:t})}function QB(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:a}=ZB(t),i=KB(e,n),s=LB(i,r,a);return XB(t,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const JB=BigInt(1),iE=BigInt(2);BigInt(3);const WB=BigInt(5),eR=BigInt(8),sp={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:eR,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function tR(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),a=BigInt(80),i=sp.p,c=t*t%i*t%i,l=aa(c,iE,i)*c%i,u=aa(l,JB,i)*t%i,p=aa(u,WB,i)*u%i,y=aa(p,e,i)*p%i,h=aa(y,n,i)*y%i,d=aa(h,r,i)*h%i,f=aa(d,a,i)*d%i,A=aa(f,a,i)*d%i,N=aa(A,e,i)*p%i;return{pow_p_5_8:aa(N,iE,i)*t%i,b2:c}}function nR(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const sE=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function rR(t,e){const n=sp.p,r=$t(e*e*e,n),a=$t(r*r*e,n),i=tR(t*a).pow_p_5_8;let s=$t(t*r*i,n);const c=$t(e*s*s,n),l=s,u=$t(s*sE,n),p=c===t,y=c===$t(-t,n),h=c===$t(-t*sE,n);return p&&(s=l),(y||h)&&(s=u),tB(s,n)&&(s=$t(-s,n)),{isValid:p||y,value:s}}const aR=Ws(sp.p,{isLE:!0}),iR={...sp,Fp:aR,hash:aA,adjustScalarBytes:nR,uvRatio:rR},Ro=QB(iR);var cE,oE,mn,Ol,qv;let sR=(qv=class{constructor(e={}){ye(this,mn);ye(this,Ol);this[cE]=this.entries.bind(this),this[oE]="ExpirableMap";const{source:n=[],expirationTime:r=10*60*1e3}=e,a=Date.now();ue(this,mn,new Map([...n].map(([i,s])=>[i,{value:s,timestamp:a}]))),ue(this,Ol,r)}prune(){const e=Date.now();for(const[n,r]of $(this,mn).entries())e-r.timestamp>$(this,Ol)&&$(this,mn).delete(n);return this}set(e,n){this.prune();const r={value:n,timestamp:Date.now()};return $(this,mn).set(e,r),this}get(e){const n=$(this,mn).get(e);if(n!==void 0){if(Date.now()-n.timestamp>$(this,Ol)){$(this,mn).delete(e);return}return n.value}}clear(){$(this,mn).clear()}entries(){const e=$(this,mn).entries();return function*(){for(const[r,a]of e)yield[r,a.value]}()}values(){const e=$(this,mn).values();return function*(){for(const r of e)yield r.value}()}keys(){return $(this,mn).keys()}forEach(e,n){for(const[r,a]of $(this,mn).entries())e.call(n,a.value,r,this)}has(e){return $(this,mn).has(e)}delete(e){return $(this,mn).delete(e)}get size(){return $(this,mn).size}},mn=new WeakMap,Ol=new WeakMap,cE=Symbol.iterator,oE=Symbol.toStringTag,qv);const lE=t=>{if(t<=127)return 1;if(t<=255)return 2;if(t<=65535)return 3;if(t<=16777215)return 4;throw yt.fromCode(new Qm("Length too long (> 4 bytes)"))},uE=(t,e,n)=>{if(n<=127)return t[e]=n,1;if(n<=255)return t[e]=129,t[e+1]=n,2;if(n<=65535)return t[e]=130,t[e+1]=n>>8,t[e+2]=n,3;if(n<=16777215)return t[e]=131,t[e+1]=n>>16,t[e+2]=n>>8,t[e+3]=n,4;throw yt.fromCode(new Qm("Length too long (> 4 bytes)"))},Eg=(t,e)=>{if(t[e]<128)return 1;if(t[e]===128)throw yt.fromCode(new Si("Invalid length 0"));if(t[e]===129)return 2;if(t[e]===130)return 3;if(t[e]===131)return 4;throw yt.fromCode(new Si("Length too long (> 4 bytes)"))},cR=(t,e)=>{const n=Eg(t,e);if(n===1)return t[e];if(n===2)return t[e+1];if(n===3)return(t[e+1]<<8)+t[e+2];if(n===4)return(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];throw yt.fromCode(new Si("Length too long (> 4 bytes)"))};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const hm=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);Uint8Array.from([48,29,6,13,43,6,1,4,1,130,220,124,5,3,1,2,1,6,12,43,6,1,4,1,130,220,124,5,3,2,1]);function b4(t,e){const n=2+lE(t.byteLength+1),r=e.byteLength+n+t.byteLength;let a=0;const i=new Uint8Array(1+lE(r)+r);return i[a++]=48,a+=uE(i,a,r),i.set(e,a),a+=e.byteLength,i[a++]=3,a+=uE(i,a,t.byteLength+1),i[a++]=0,i.set(new Uint8Array(t),a),i}const x4=(t,e)=>{let n=0;const r=(c,l)=>{if(a[n++]!==c)throw yt.fromCode(new Si(`Expected ${l} at offset ${n}`))},a=new Uint8Array(t);if(r(48,"sequence"),n+=Eg(a,n),!ep(a.slice(n,n+e.byteLength),e))throw yt.fromCode(new Si("Not the expected OID."));n+=e.byteLength,r(3,"bit string");const i=cR(a,n)-1;n+=Eg(a,n),r(0,"0 padding");const s=a.slice(n);if(i!==s.length)throw yt.fromCode(new n2(i,s.length));return s};var Wf,ed,Sa;let oR=(Sa=class{constructor(e){ye(this,Wf);ye(this,ed);if(e.byteLength!==Sa.RAW_KEY_LENGTH)throw yt.fromCode(new Si("An Ed25519 public key must be exactly 32 bytes long"));ue(this,Wf,e),ue(this,ed,Sa.derEncode(e))}static from(e){return this.fromDer(e.toDer())}static fromRaw(e){return new Sa(e)}static fromDer(e){return new Sa(this.derDecode(e))}static derEncode(e){return b4(e,hm)}static derDecode(e){const n=x4(e,hm);if(n.length!==this.RAW_KEY_LENGTH)throw yt.fromCode(new Si("An Ed25519 public key must be exactly 32 bytes long"));return n}get rawKey(){return $(this,Wf)}get derKey(){return $(this,ed)}toDer(){return this.derKey}toRaw(){return this.rawKey}},Wf=new WeakMap,ed=new WeakMap,Sa.RAW_KEY_LENGTH=32,Sa),lR=class{constructor(){this.observers=[]}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter(n=>n!==e)}notify(e,...n){this.observers.forEach(r=>r(e,...n))}},uR=class extends lR{constructor(){super()}print(e,...n){this.notify({message:e,level:"info"},...n)}warn(e,...n){this.notify({message:e,level:"warn"},...n)}error(e,n,...r){this.notify({message:e,level:"error",error:n},...r)}};const fE=.5,dE=1.5,hE=500,mE=6e4,pE=9e5,yE=10;var Gr,td,nd,rd,ad,id,sd,cd,Ul,zc;let fR=(zc=class{constructor(e=zc.default){ye(this,Gr);ye(this,td);ye(this,nd);ye(this,rd);ye(this,ad);ye(this,id);ye(this,sd);ye(this,cd);ye(this,Ul,0);const{initialInterval:n=hE,randomizationFactor:r=fE,multiplier:a=dE,maxInterval:i=mE,maxElapsedTime:s=pE,maxIterations:c=yE,date:l=Date}=e;ue(this,Gr,n),ue(this,td,r),ue(this,nd,a),ue(this,rd,i),ue(this,cd,l),ue(this,ad,l.now()),ue(this,id,s),ue(this,sd,c)}get ellapsedTimeInMsec(){return $(this,cd).now()-$(this,ad)}get currentInterval(){return $(this,Gr)}get count(){return $(this,Ul)}get randomValueFromInterval(){const e=$(this,td)*$(this,Gr),n=$(this,Gr)-e,r=$(this,Gr)+e;return Math.random()*(r-n)+n}incrementCurrentInterval(){return ue(this,Gr,Math.min($(this,Gr)*$(this,nd),$(this,rd))),yu(this,Ul)._++,$(this,Gr)}next(){return this.ellapsedTimeInMsec>=$(this,id)||$(this,Ul)>=$(this,sd)?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}},Gr=new WeakMap,td=new WeakMap,nd=new WeakMap,rd=new WeakMap,ad=new WeakMap,id=new WeakMap,sd=new WeakMap,cd=new WeakMap,Ul=new WeakMap,zc.default={initialInterval:hE,randomizationFactor:fE,multiplier:dE,maxInterval:mE,maxElapsedTime:pE,maxIterations:yE,date:Date},zc);var La;(function(t){t.Received="received",t.Processing="processing",t.Replied="replied",t.Rejected="rejected",t.Unknown="unknown",t.Done="done"})(La||(La={}));const w4=60*1e3,dR=1e6,hR="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",mR="aaaaa-aa",pR="ic0.app",yR=".ic0.app",gR="icp0.io",bR=".icp0.io",xR="icp-api.io",wR=".icp-api.io",Sy=200,ER=202,vR=404;function _R(){let t;if(typeof window<"u")if(window.fetch)t=window.fetch.bind(window);else throw Hn.fromCode(new rf("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present."));else if(typeof global<"u")if(global.fetch)t=global.fetch.bind(global);else throw Hn.fromCode(new rf("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available."));else typeof self<"u"&&self.fetch&&(t=self.fetch.bind(self));if(t)return t;throw Hn.fromCode(new rf("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context."))}function NR(t){let e;if(t!==void 0)!t.match(/^[a-z]+:/)&&typeof window<"u"?e=new URL(window.location.protocol+"//"+t):e=new URL(t);else{const n=["ic0.app","icp0.io","127.0.0.1","localhost"],r=[".github.dev",".gitpod.io"],a=typeof window<"u"?window.location:void 0,i=a==null?void 0:a.hostname;let s;i&&typeof i=="string"&&(r.some(c=>i.endsWith(c))?s=i:s=n.find(c=>i.endsWith(c))),a&&s?e=new URL(`${a.protocol}//${s}${a.port?":"+a.port:""}`):e=new URL("https://icp-api.io")}return e.toString()}var xs,ws,Yr,Es,Cl,br,pa,Bc,Ml,xr,Wa,vs,ya,mt,E4,_s,Ns,ei,ti,z0,Oo,ql,Uo,P0,v4,pi;let Df=(pi=class{constructor(e={}){ye(this,mt);ye(this,xs);ye(this,ws);ye(this,Yr);ye(this,Es);ye(this,Cl);ye(this,br);ye(this,pa);ye(this,Bc);ye(this,Ml);ye(this,xr);ye(this,Wa);ye(this,vs);ye(this,ya);ye(this,_s);ye(this,Ns);ye(this,ei);ye(this,ti);ye(this,ql);ue(this,xs,null),ue(this,ws,!1),ue(this,Yr,0),ue(this,Es,null),ue(this,Cl,!1),this._isAgent=!0,this.config={},this.log=new uR,ue(this,_s,[]),ue(this,Ns,[]),ue(this,ei,new sR({expirationTime:5*60*1e3})),ue(this,ti,!0),ue(this,ql,(a,i)=>{if($(this,ti)===!1)return a;if(!i)throw Or.fromCode(new Xh);const{status:s,signatures:c=[],requestId:l}=a;for(const u of c){const{timestamp:p,identity:y}=u,h=Le.fromUint8Array(y).toText();let d;if(s===Kl.Replied){const{reply:x}=a;d=sm({status:s,reply:x,timestamp:BigInt(p),request_id:l})}else if(s===Kl.Rejected){const{reject_code:x,reject_message:_,error_code:M}=a;d=sm({status:s,reject_code:x,reject_message:_,error_code:M,timestamp:BigInt(p),request_id:l})}else throw ar.fromCode(new wa(`Unknown status: ${s}`));const f=et(gA,d),A=i.nodeKeys.get(h);if(!A)throw It.fromCode(new f2);const N=oR.fromDer(A).rawKey;if(Ro.verify(u.signature,f,N))return a;throw Or.fromCode(new d2(h))}return a}),this.config=e,ue(this,pa,e.fetch||_R()||fetch.bind(global)),ue(this,Bc,e.fetchOptions),ue(this,Ml,e.callOptions),ue(this,ws,e.shouldFetchRootKey??!1),ue(this,Cl,e.shouldSyncTime??!1),e.rootKey?this.rootKey=e.rootKey:$(this,ws)?this.rootKey=null:this.rootKey=Ca(hR);const n=NR(e.host);this.host=new URL(n),e.verifyQuerySignatures!==void 0&&ue(this,ti,e.verifyQuerySignatures),ue(this,Wa,e.retryTimes??3);const r=()=>new fR({maxIterations:$(this,Wa)});if(ue(this,vs,e.backoffStrategy||r),this.host.hostname.endsWith(yR)?this.host.hostname=pR:this.host.hostname.endsWith(bR)?this.host.hostname=gR:this.host.hostname.endsWith(wR)&&(this.host.hostname=xR),e.credentials){const{name:a,password:i}=e.credentials;ue(this,xr,`${a}${i?":"+i:""}`)}if(ue(this,br,Promise.resolve(e.identity||new cm)),e.ingressExpiryInMinutes&&e.ingressExpiryInMinutes>5)throw yt.fromCode(new Lo("The maximum ingress expiry time is 5 minutes.",e.ingressExpiryInMinutes));if(e.ingressExpiryInMinutes&&e.ingressExpiryInMinutes<=0)throw yt.fromCode(new Lo("Ingress expiry time must be greater than 0.",e.ingressExpiryInMinutes));ue(this,ya,e.ingressExpiryInMinutes||5),this.addTransform("update",Dw(yg)),e.useQueryNonces&&this.addTransform("query",Dw(yg)),e.logToConsole&&this.log.subscribe(a=>{a.level==="error"?console.error(a.message):a.level==="warn"?console.warn(a.message):console.log(a.message)})}static createSync(e={}){return new this({...e})}static async create(e={}){var r;const n=pi.createSync(e);return await Se(r=n,mt,Uo).call(r),n}static async from(e){try{return"config"in e?await pi.create(e.config):await pi.create({fetch:e._fetch,fetchOptions:e._fetchOptions,callOptions:e._callOptions,host:e._host.toString(),identity:e._identity??void 0})}catch{throw yt.fromCode(new l2)}}isLocal(){const e=this.host.hostname;return e==="127.0.0.1"||e.endsWith("127.0.0.1")}addTransform(e,n,r=n.priority||0){if(e==="update"){const a=$(this,Ns).findIndex(i=>(i.priority||0)<r);$(this,Ns).splice(a>=0?a:$(this,Ns).length,0,Object.assign(n,{priority:r}))}else if(e==="query"){const a=$(this,_s).findIndex(i=>(i.priority||0)<r);$(this,_s).splice(a>=0?a:$(this,_s).length,0,Object.assign(n,{priority:r}))}}async getPrincipal(){if(!$(this,br))throw Hn.fromCode(new fc);return(await $(this,br)).getPrincipal()}async call(e,n,r){const a=n.callSync??!0,i=await(r??$(this,br));if(!i)throw Hn.fromCode(new fc);const s=Le.from(e),c=n.effectiveCanisterId?Le.from(n.effectiveCanisterId):s;await Se(this,mt,Uo).call(this,c);const l=i.getPrincipal(),u=Ty($(this,ya),$(this,Yr)),p={request_type:pg.Call,canister_id:s,method_name:n.methodName,arg:n.arg,sender:l,ingress_expiry:u};let y=await this._transform({request:{body:null,method:"POST",headers:{"Content-Type":"application/cbor",...$(this,xr)?{Authorization:"Basic "+btoa($(this,xr))}:{}}},endpoint:mc.Call,body:p}),h;n!=null&&n.nonce?h=d(n.nonce):y.body.nonce?h=d(y.body.nonce):h=void 0,p.nonce=h;function d(v){return Object.assign(v,{__nonce__:void 0})}y=await i.transformRequest(y);const f=fy(y.body),A=$(this,vs).call(this),N=hl(p);try{const _=a?()=>(this.log.print(`fetching "/api/v3/canister/${c.toText()}/call" with request:`,y),$(this,pa).call(this,""+new URL(`/api/v3/canister/${c.toText()}/call`,this.host),{...$(this,Ml),...y.request,body:f})):()=>(this.log.print(`fetching "/api/v2/canister/${c.toText()}/call" with request:`,y),$(this,pa).call(this,""+new URL(`/api/v2/canister/${c.toText()}/call`,this.host),{...$(this,Ml),...y.request,body:f})),{responseBodyBytes:M,...S}=await Se(this,mt,Oo).call(this,{requestFn:_,backoff:A,tries:0}),H=M.byteLength>0?va(M):null;return{requestId:N,response:{...S,body:H},requestDetails:p}}catch(v){let x;if(v instanceof uc){if(v.hasCode(Jh))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(e,{...n,callSync:!1},r);if(v.hasCode(Lo))return await this.syncTime(s),this.call(s,n,r);v.code.requestContext={requestId:N,senderPubKey:y.body.sender_pubkey,senderSignature:y.body.sender_sig,ingressExpiry:y.body.content.ingress_expiry},x=v}else x=ar.fromCode(new wa(v));throw this.log.error(`Error while making call: ${x.message}`,x),x}}async query(e,n,r){const a=$(this,vs).call(this),i=n.effectiveCanisterId?Le.from(n.effectiveCanisterId):Le.from(e);await Se(this,mt,Uo).call(this,i),this.log.print(`ecid ${i.toString()}`),this.log.print(`canisterId ${e.toString()}`);let s;const c=await(r??$(this,br));if(!c)throw Hn.fromCode(new fc);const l=Le.from(e),u=c.getPrincipal(),p=Ty($(this,ya),$(this,Yr)),y={request_type:$f.Query,canister_id:l,method_name:n.methodName,arg:n.arg,sender:u,ingress_expiry:p},h=hl(y);s=await this._transform({request:{method:"POST",headers:{"Content-Type":"application/cbor",...$(this,xr)?{Authorization:"Basic "+btoa($(this,xr))}:{}}},endpoint:mc.Query,body:y}),s=await c.transformRequest(s);const d=fy(s.body),f={canister:l.toText(),ecid:i,transformedRequest:s,body:d,requestId:h,backoff:a,tries:0},A=async()=>({requestDetails:y,query:await Se(this,mt,z0).call(this,f)}),N=async()=>{if(!$(this,ti))return;const v=$(this,ei).get(i.toString());return v||(await this.fetchSubnetKeys(i.toString()),$(this,ei).get(i.toString()))};try{const[v,x]=await Promise.all([A(),N()]),{requestDetails:_,query:M}=v,S={...M,requestDetails:_};if(this.log.print("Query response:",S),!$(this,ti))return S;try{return $(this,ql).call(this,S,x)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),$(this,ei).delete(e.toString()),await this.fetchSubnetKeys(i.toString());const H=$(this,ei).get(e.toString());if(!H)throw Or.fromCode(new Xh);return $(this,ql).call(this,S,H)}}catch(v){let x;throw v instanceof uc?(v.code.requestContext={requestId:h,senderPubKey:s.body.sender_pubkey,senderSignature:s.body.sender_sig,ingressExpiry:s.body.content.ingress_expiry},x=v):x=ar.fromCode(new wa(v)),this.log.error(`Error while making query: ${x.message}`,x),x}}async createReadStateRequest(e,n){await Se(this,mt,Uo).call(this);const r=await(n??$(this,br));if(!r)throw Hn.fromCode(new fc);const a=r.getPrincipal(),i=await this._transform({request:{method:"POST",headers:{"Content-Type":"application/cbor",...$(this,xr)?{Authorization:"Basic "+btoa($(this,xr))}:{}}},endpoint:mc.ReadState,body:{request_type:$f.ReadState,paths:e.paths,sender:a,ingress_expiry:Ty($(this,ya),$(this,Yr))}});return r.transformRequest(i)}async readState(e,n,r,a){await Se(this,mt,P0).call(this);const i=Le.from(e);function s(p){for(const y of p.paths){const[h,d]=y,f=new TextEncoder().encode("request_status");if(ep(h,f))return d}}let c,l;if(a)c=a,l=hl(c);else{l=s(n);const p=await $(this,br);if(!p)throw Hn.fromCode(new fc);c=await this.createReadStateRequest(n,p)}this.log.print(`fetching "/api/v2/canister/${i}/read_state" with request:`,c);const u=$(this,vs).call(this);try{const{responseBodyBytes:p}=await Se(this,mt,Oo).call(this,{requestFn:()=>$(this,pa).call(this,""+new URL(`/api/v2/canister/${i.toString()}/read_state`,this.host),{...$(this,Bc),...c.request,body:fy(c.body)}),backoff:u,tries:0}),y=va(p);return this.log.print("Read state response:",y),y}catch(p){let y;throw p instanceof uc?(p.code.requestContext={requestId:l,senderPubKey:c.body.sender_pubkey,senderSignature:c.body.sender_sig,ingressExpiry:c.body.content.ingress_expiry},y=p):y=ar.fromCode(new wa(p)),this.log.error(`Error while making read state: ${y.message}`,y),y}}parseTimeFromResponse(e){let n;if(e.certificate){const r=va(e.certificate);if(r&&"tree"in r)n=r.tree;else throw It.fromCode(new Rd("Could not decode time from response"));const a=Cd(["time"],n);if(a.status!==Ar.Found)throw It.fromCode(new Zl("Time was not found in the response or was not in its expected format.",a.status));if(!(a.value instanceof Uint8Array)&&!ArrayBuffer.isView(a))throw It.fromCode(new Zm("Time was not in its expected format."));const i=T2(a.value);return this.log.print("Time from response:",i),this.log.print("Time from response in milliseconds:",Number(i)),Number(i)}else this.log.warn("No certificate found in response");return 0}async syncTime(e){ue(this,Es,$(this,Es)??(async()=>{await Se(this,mt,P0).call(this);const n=Date.now();try{e||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");const r=e??Le.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),a=pi.createSync({identity:new cm,host:this.host.toString(),fetch:$(this,pa),retryTimes:0,rootKey:this.rootKey??void 0}),s=(await Promise.all(Array(3).fill(null).map(async()=>{const l=(await aE({canisterId:r,agent:a,paths:["time"]})).get("time");if(l instanceof Date)return l.getTime()},[]))).reduce((c,l)=>typeof l=="number"&&l>c?l:c,0);s>BigInt(0)&&(ue(this,Yr,Number(s)-Number(n)),this.log.notify({message:`Syncing time: offset of ${$(this,Yr)}`,level:"info"}))}catch(r){const a=r instanceof uc?r:ar.fromCode(new wa(r));throw this.log.error("Caught exception while attempting to sync time",a),a}})()),await $(this,Es).finally(()=>{ue(this,Es,null)})}async status(){const e=$(this,xr)?{Authorization:"Basic "+btoa($(this,xr))}:{};this.log.print('fetching "/api/v2/status"');const n=$(this,vs).call(this),{responseBodyBytes:r}=await Se(this,mt,Oo).call(this,{backoff:n,requestFn:()=>$(this,pa).call(this,""+new URL("/api/v2/status",this.host),{headers:e,...$(this,Bc)}),tries:0});return va(r)}async fetchRootKey(){return ue(this,xs,$(this,xs)??(async()=>{const e=await this.status();return this.rootKey=e.root_key,this.rootKey})()),await $(this,xs).finally(()=>{ue(this,xs,null)})}invalidateIdentity(){ue(this,br,null)}replaceIdentity(e){ue(this,br,Promise.resolve(e))}async fetchSubnetKeys(e){const n=Le.from(e);await Se(this,mt,Uo).call(this,n);const a=(await aE({canisterId:n,paths:["subnet"],agent:this})).get("subnet");if(a&&typeof a=="object"&&"nodeKeys"in a)return $(this,ei).set(n.toText(),a),a}_transform(e){let n=Promise.resolve(e);if(e.endpoint===mc.Call)for(const r of $(this,Ns))n=n.then(a=>r(a).then(i=>i||a));else for(const r of $(this,_s))n=n.then(a=>r(a).then(i=>i||a));return n}},xs=new WeakMap,ws=new WeakMap,Yr=new WeakMap,Es=new WeakMap,Cl=new WeakMap,br=new WeakMap,pa=new WeakMap,Bc=new WeakMap,Ml=new WeakMap,xr=new WeakMap,Wa=new WeakMap,vs=new WeakMap,ya=new WeakMap,mt=new WeakSet,E4=function(){return $(this,ya)*w4},_s=new WeakMap,Ns=new WeakMap,ei=new WeakMap,ti=new WeakMap,z0=async function(e){var d,f;const{ecid:n,transformedRequest:r,body:a,requestId:i,backoff:s,tries:c}=e,l=c===0?0:s.next();if(this.log.print(`fetching "/api/v2/canister/${n.toString()}/query" with tries:`,{tries:c,backoff:s,delay:l}),l===null)throw ar.fromCode(new Rf(`Backoff strategy exhausted after ${c} attempts.`,i));l>0&&await new Promise(A=>setTimeout(A,l));let u;try{this.log.print(`fetching "/api/v2/canister/${n.toString()}/query" with request:`,r);const A=await $(this,pa).call(this,""+new URL(`/api/v2/canister/${n.toString()}/query`,this.host),{...$(this,Bc),...r.request,body:a});if(A.status===Sy)u={...va(im(await A.arrayBuffer())),httpDetails:{ok:A.ok,status:A.status,statusText:A.statusText,headers:dy(A.headers)},requestId:i};else throw It.fromCode(new Qh(A.status,A.statusText,dy(A.headers),await A.text()))}catch(A){if(c<$(this,Wa))return this.log.warn(`Caught exception while attempting to make query:
  ${A}
  Retrying query.`),await Se(this,mt,z0).call(this,{...e,tries:c+1});throw A instanceof uc?A:Lh.fromCode(new Wh(A))}if(!$(this,ti))return u;const p=(f=(d=u.signatures)==null?void 0:d[0])==null?void 0:f.timestamp;if(!p)throw It.fromCode(new u2("Timestamp not found in query response. This suggests a malformed or malicious response."));const y=Number(BigInt(p)/BigInt(dR));if(Date.now()+$(this,Yr)-y>$(this,mt,E4)){if(c<$(this,Wa))return this.log.warn("Timestamp is older than the max ingress expiry. Retrying query.",{requestId:i,signatureTimestampMs:y}),await Se(this,mt,z0).call(this,{...e,tries:c+1});throw Or.fromCode(new i2($(this,ya),i,c))}return u},Oo=async function(e){const{requestFn:n,backoff:r,tries:a}=e,i=a===0?0:r.next();if(i===null)throw It.fromCode(new Rf(`Retry strategy exhausted after ${a} attempts.`));i>0&&await new Promise(p=>setTimeout(p,i));let s,c=new Uint8Array;try{s=await n(),s.status===Sy&&(c=im(await s.clone().arrayBuffer()))}catch(p){if(a<$(this,Wa))return this.log.warn(`Caught exception while attempting to make request:
  ${p}
  Retrying request.`),await Se(this,mt,Oo).call(this,{requestFn:n,backoff:r,tries:a+1});throw Lh.fromCode(new Wh(p))}const l=dy(s.headers);if(s.status===Sy||s.status===ER)return{ok:s.ok,status:s.status,statusText:s.statusText,responseBodyBytes:c,headers:l};const u=await s.text();if(s.status===vR&&s.url.includes("api/v3"))throw It.fromCode(new Jh);if(u.startsWith("Invalid request expiry: "))throw yt.fromCode(new Lo(u,$(this,ya)));if(a<$(this,Wa))return await Se(this,mt,Oo).call(this,{requestFn:n,backoff:r,tries:a+1});throw It.fromCode(new Qh(s.status,s.statusText,l,u))},ql=new WeakMap,Uo=async function(e){await Promise.all([Se(this,mt,P0).call(this),Se(this,mt,v4).call(this,e)])},P0=async function(){if(!this.rootKey)if(this.rootKey===null&&this.host.toString()!=="https://icp-api.io"&&$(this,ws))await this.fetchRootKey();else throw Hn.fromCode(new Xc($(this,ws)))},v4=async function(e){$(this,Cl)&&$(this,Yr)===0&&await this.syncTime(e)},pi);function Ty(t,e){return K_.fromDeltaInMilliseconds(t*w4+e)}const SR=5*60*1e3;function _4(){return OR(AR(TR(),1e3),RR(1e3,1.2),BR(SR))}function TR(){let t=!0;return async()=>t?(t=!1,!0):!1}function AR(t,e){return async(n,r,a)=>{if(await t(n,r,a))return new Promise(i=>setTimeout(i,e))}}function BR(t){const e=Date.now()+t;return async(n,r,a)=>{if(Date.now()>e)throw It.fromCode(new Rf(`Request timed out after ${t} msec`,r,a))}}function RR(t,e){let n=t;return()=>new Promise(r=>setTimeout(()=>{n*=e,r()},n))}function OR(...t){return async(e,n,r)=>{for(const a of t)await a(e,n,r)}}const UR={strategy:_4(),preSignReadStateRequest:!1};function N4(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ay(t,e){return t!==null&&typeof t=="object"&&N4(t,e)}function CR(t,e){return N4(t,e)&&typeof t[e]=="function"}function gE(t){return Ay(t,"body")&&Ay(t.body,"content")&&t.body.content.request_type===$f.ReadState&&Ay(t.body.content,"ingress_expiry")&&typeof t.body.content.ingress_expiry=="object"&&t.body.content.ingress_expiry!==null&&CR(t.body.content.ingress_expiry,"toHash")}async function S4(t,e,n,r={}){const a=[Ct("request_status"),n];let i,s;if(r.preSignReadStateRequest??!1?(s=await MR({paths:[a],agent:t,pollingOptions:r}),i=await t.readState(e,{paths:[a]},void 0,s)):i=await t.readState(e,{paths:[a]}),t.rootKey==null)throw Hn.fromCode(new Xc);const l=await A2.create({certificate:i.certificate,rootKey:t.rootKey,canisterId:e,blsVerify:r.blsVerify}),u=or(l.lookup_path([...a,Ct("status")]));let p;switch(typeof u>"u"?p=La.Unknown:p=new TextDecoder().decode(u),p){case La.Replied:return{reply:or(l.lookup_path([...a,"reply"])),certificate:l};case La.Received:case La.Unknown:case La.Processing:return await(r.strategy??_4())(e,n,p),S4(t,e,n,{...r,request:s});case La.Rejected:{const y=new Uint8Array(or(l.lookup_path([...a,"reject_code"])))[0],h=new TextDecoder().decode(or(l.lookup_path([...a,"reject_message"]))),d=or(l.lookup_path([...a,"error_code"])),f=d?new TextDecoder().decode(d):void 0;throw fl.fromCode(new Of(n,y,h,f))}case La.Done:throw ar.fromCode(new c2(n))}throw dl}async function MR(t){var i;const{paths:e,agent:n,pollingOptions:r}=t;if(r.request&&gE(r.request))return r.request;const a=await((i=n.createReadStateRequest)==null?void 0:i.call(n,{paths:e},void 0));if(!gE(a))throw yt.fromCode(new h2(a));return a}const Er=Symbol.for("ic-agent-metadata");let qR=class T4{static agentOf(e){return e[Er].config.agent}static interfaceOf(e){return e[Er].service}static canisterIdOf(e){return Le.from(e[Er].config.canisterId)}static createActorClass(e,n){const r=e({IDL:yA});class a extends T4{constructor(s){if(!s.canisterId)throw yt.fromCode(new em(s.canisterId));const c=typeof s.canisterId=="string"?Le.fromText(s.canisterId):s.canisterId;super({config:{...A4,...s,canisterId:c},service:r});for(const[l,u]of r._fields)n!=null&&n.httpDetails&&u.annotations.push(vg),n!=null&&n.certificate&&u.annotations.push(B4),this[l]=IR(this,l,u,s.blsVerify)}}return a}static createActor(e,n){if(!n.canisterId)throw yt.fromCode(new em(n.canisterId));return new(this.createActorClass(e))(n)}static createActorWithHttpDetails(e,n){return new(this.createActorClass(e,{httpDetails:!0}))(n)}static createActorWithExtendedDetails(e,n,r={httpDetails:!0,certificate:!0}){return new(this.createActorClass(e,r))(n)}constructor(e){this[Er]=Object.freeze(e)}};function bo(t,e){const n=f_(t,e);switch(n.length){case 0:return;case 1:return n[0];default:return n}}const A4={pollingOptions:UR},vg="http-details",B4="certificate";function IR(t,e,n,r){let a;n.annotations.includes("query")||n.annotations.includes("composite_query")?a=async(s,...c)=>{var d,f;s={...s,...(f=(d=t[Er].config).queryTransform)==null?void 0:f.call(d,e,c,{...t[Er].config,...s})};const l=s.agent||t[Er].config.agent||new Df,u=Le.from(s.canisterId||t[Er].config.canisterId),p=fg(n.argTypes,c),y=await l.query(u,{methodName:e,arg:p,effectiveCanisterId:s.effectiveCanisterId}),h={...y.httpDetails,requestDetails:y.requestDetails};switch(y.status){case Kl.Rejected:{const A=new s2(y.requestId,y.reject_code,y.reject_message,y.error_code,y.signatures);throw A.callContext={canisterId:u,methodName:e,httpDetails:h},fl.fromCode(A)}case Kl.Replied:return n.annotations.includes(vg)?{httpDetails:h,result:bo(n.retTypes,y.reply.arg)}:bo(n.retTypes,y.reply.arg)}}:a=async(s,...c)=>{var z,K;s={...s,...(K=(z=t[Er].config).callTransform)==null?void 0:K.call(z,e,c,{...t[Er].config,...s})};const l=s.agent||t[Er].config.agent||Df.createSync(),{canisterId:u,effectiveCanisterId:p,pollingOptions:y}={...A4,...t[Er].config,...s},h=Le.from(u),d=p!==void 0?Le.from(p):h,f=fg(n.argTypes,c),{requestId:A,response:N,requestDetails:v}=await l.call(h,{methodName:e,arg:f,effectiveCanisterId:d,nonce:s.nonce});let x,_;if(C9(N.body)){if(l.rootKey==null)throw Hn.fromCode(new Xc);const Z=N.body.certificate;_=await A2.create({certificate:Z,rootKey:l.rootKey,canisterId:Le.from(u),blsVerify:r});const k=[Ct("request_status"),A];switch(new TextDecoder().decode(or(_.lookup_path([...k,"status"])))){case"replied":x=or(_.lookup_path([...k,"reply"]));break;case"rejected":{const X=new Uint8Array(or(_.lookup_path([...k,"reject_code"])))[0],E=new TextDecoder().decode(or(_.lookup_path([...k,"reject_message"]))),O=or(_.lookup_path([...k,"error_code"])),j=O?new TextDecoder().decode(O):void 0,C=new Of(A,X,E,j);throw C.callContext={canisterId:h,methodName:e,httpDetails:N},fl.fromCode(C)}}}else if(U9(N.body)){const{reject_code:Z,reject_message:k,error_code:P}=N.body,X=new Of(A,Z,k,P);throw X.callContext={canisterId:h,methodName:e,httpDetails:N},fl.fromCode(X)}if(N.status===202){const Z={...y,blsVerify:r},k=await S4(l,d,A,Z);_=k.certificate,x=k.reply}const M=n.annotations.includes(vg),S=n.annotations.includes(B4),H={...N,requestDetails:v};if(x!==void 0)return M&&S?{httpDetails:H,certificate:_,result:bo(n.retTypes,x)}:S?{certificate:_,result:bo(n.retTypes,x)}:M?{httpDetails:H,result:bo(n.retTypes,x)}:bo(n.retTypes,x);if(n.retTypes.length===0)return M?{httpDetails:N,result:void 0}:void 0;throw ar.fromCode(new wa(`Call was returned undefined, but type [${n.retTypes.map(Z=>Z.display()).join(",")}].`))};const i=(...s)=>a({},...s);return i.withOptions=s=>(...c)=>a(s,...c),i}function bE(t){return t!==null&&typeof t=="object"}var od,ld,Ta;let By=(Ta=class{constructor(e){ye(this,od);ye(this,ld);if(e.byteLength!==Ta.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");ue(this,od,e),ue(this,ld,Ta.derEncode(e))}static from(e){if(typeof e=="string"){const n=Ca(e);return this.fromRaw(n)}else if(bE(e)){const n=e;if(bE(n)&&Object.hasOwnProperty.call(n,"__derEncodedPublicKey__"))return this.fromDer(n);if(ArrayBuffer.isView(n)){const r=n;return this.fromRaw(Fs(r.buffer))}else{if(n instanceof ArrayBuffer)return this.fromRaw(Fs(n));if("rawKey"in n&&n.rawKey instanceof Uint8Array)return this.fromRaw(n.rawKey);if("derKey"in n)return this.fromDer(n.derKey);if("toDer"in n)return this.fromDer(n.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(e){return new Ta(e)}static fromDer(e){return new Ta(this.derDecode(e))}static derEncode(e){const n=b4(e,hm);return n.__derEncodedPublicKey__=void 0,n}static derDecode(e){const n=x4(e,hm);if(n.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return n}get rawKey(){return $(this,od)}get derKey(){return $(this,ld)}toDer(){return this.derKey}toRaw(){return this.rawKey}},od=new WeakMap,ld=new WeakMap,Ta.RAW_KEY_LENGTH=32,Ta);var Rc,Oc;const nl=class nl extends w2{constructor(n,r){super();ye(this,Rc);ye(this,Oc);ue(this,Rc,By.from(n)),ue(this,Oc,r)}static generate(n){if(n&&n.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");n||(n=Ro.utils.randomPrivateKey()),cA(n,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");const r=new Uint8Array(32);for(let i=0;i<32;i++)r[i]=n[i];const a=Ro.getPublicKey(r);return nl.fromKeyPair(a,r)}static fromParsedJson(n){const[r,a]=n;return new nl(By.fromDer(Ca(r)),Ca(a))}static fromJSON(n){const r=JSON.parse(n);if(Array.isArray(r)){if(typeof r[0]=="string"&&typeof r[1]=="string")return this.fromParsedJson([r[0],r[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(n)}`)}static fromKeyPair(n,r){return new nl(By.fromRaw(n),r)}static fromSecretKey(n){const r=Ro.getPublicKey(n);return nl.fromKeyPair(r,n)}toJSON(){return[nt($(this,Rc).toDer()),nt($(this,Oc))]}getKeyPair(){return{secretKey:$(this,Oc),publicKey:$(this,Rc)}}getPublicKey(){return $(this,Rc)}async sign(n){const r=Ro.sign(n,$(this,Oc).slice(0,32));return Object.defineProperty(r,"__signature__",{enumerable:!1,value:void 0}),r}static verify(n,r,a){const[i,s,c]=[n,r,a].map(l=>(typeof l=="string"&&(l=Ca(l)),Fs(l)));return Ro.verify(i,s,c)}};Rc=new WeakMap,Oc=new WeakMap;let sf=nl;class R2 extends Error{constructor(e){super(e),this.message=e,Object.setPrototypeOf(this,R2.prototype)}}function xE(t){if(typeof global<"u"&&global.crypto&&global.crypto.subtle)return global.crypto.subtle;if(t)return t;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new R2("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class mm extends w2{static async generate(e){const{extractable:n=!1,keyUsages:r=["sign","verify"],subtleCrypto:a}=e??{},i=xE(a),s=await i.generateKey({name:"ECDSA",namedCurve:"P-256"},n,r),c=Fs(await i.exportKey("spki",s.publicKey));return Object.assign(c,{__derEncodedPublicKey__:void 0}),new this(s,c,i)}static async fromKeyPair(e,n){const r=xE(n),a=Fs(await r.exportKey("spki",e.publicKey));return Object.assign(a,{__derEncodedPublicKey__:void 0}),new mm(e,a,r)}constructor(e,n,r){super(),this._keyPair=e,this._derKey=n,this._subtleCrypto=r}getKeyPair(){return this._keyPair}getPublicKey(){const e=this._derKey,n=Object.create(this._keyPair.publicKey);return n.toDer=function(){return e},n}async sign(e){const n={name:"ECDSA",hash:{name:"SHA-256"}},r=Fs(await this._subtleCrypto.sign(n,this._keyPair.privateKey,e));return Object.assign(r,{__signature__:void 0}),r}}var ga;class $R{constructor(e){ye(this,ga);ue(this,ga,e)}get rawKey(){return $(this,ga).rawKey}get derKey(){return $(this,ga).derKey}toDer(){return $(this,ga).toDer()}getPublicKey(){return $(this,ga)}getPrincipal(){if(!$(this,ga).rawKey)throw new Error("Cannot get principal from a public key without a raw key.");return Le.fromUint8Array(new Uint8Array($(this,ga).rawKey))}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}ga=new WeakMap;function Ry(t){if(typeof t!="string"||t.length<64)throw new Error("Invalid public key.");return Ca(t)}class O2{constructor(e,n,r){this.pubkey=e,this.expiration=n,this.targets=r}toCborValue(){return{pubkey:this.pubkey,expiration:this.expiration,...this.targets&&{targets:this.targets}}}toJSON(){return{expiration:this.expiration.toString(16),pubkey:nt(this.pubkey),...this.targets&&{targets:this.targets.map(e=>e.toHex())}}}}async function kR(t,e,n,r){const a=new O2(e.toDer(),BigInt(+n)*BigInt(1e6),r),i=new Uint8Array([...bA,...new Uint8Array(hl({...a}))]),s=await t.sign(i);return{delegation:a,signature:s}}class pm{static async create(e,n,r=new Date(Date.now()+15*60*1e3),a={}){var s,c;const i=await kR(e,n,r,a.targets);return new pm([...((s=a.previous)==null?void 0:s.delegations)||[],i],((c=a.previous)==null?void 0:c.publicKey)||e.getPublicKey().toDer())}static fromJSON(e){const{publicKey:n,delegations:r}=typeof e=="string"?JSON.parse(e):e;if(!Array.isArray(r))throw new Error("Invalid delegations.");const a=r.map(i=>{const{delegation:s,signature:c}=i,{pubkey:l,expiration:u,targets:p}=s;if(p!==void 0&&!Array.isArray(p))throw new Error("Invalid targets.");return{delegation:new O2(Ry(l),BigInt("0x"+u),p&&p.map(y=>{if(typeof y!="string")throw new Error("Invalid target.");return Le.fromHex(y)})),signature:Ry(c)}});return new this(a,Ry(n))}static fromDelegations(e,n){return new this(e,n)}constructor(e,n){this.delegations=e,this.publicKey=n}toJSON(){return{delegations:this.delegations.map(e=>{const{delegation:n,signature:r}=e,{targets:a}=n;return{delegation:{expiration:n.expiration.toString(16),pubkey:nt(n.pubkey),...a&&{targets:a.map(i=>i.toHex())}},signature:nt(r)}}),publicKey:nt(this.publicKey)}}}class wE extends w2{static fromDelegation(e,n){return new this(e,n)}constructor(e,n){super(),this._inner=e,this._delegation=n}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(e){return this._inner.sign(e)}async transformRequest(e){const{body:n,...r}=e,a=await hl(n);return{...r,body:{content:n,sender_sig:await this.sign(new Uint8Array([...j_,...new Uint8Array(a)])),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}}}}var ud;const X2=class X2 extends $R{constructor(n,r){super(n);ye(this,ud);ue(this,ud,r)}get delegation(){return $(this,ud)}static fromDelegation(n,r){return new X2(n,r)}};ud=new WeakMap;let ym=X2;function EE(t,e){for(const{delegation:r}of t.delegations)if(+new Date(Number(r.expiration/BigInt(1e6)))<=+Date.now())return!1;const n=[];for(const r of n){const a=r.toText();for(const{delegation:i}of t.delegations){if(i.targets===void 0)continue;let s=!0;for(const c of i.targets)if(c.toText()===a){s=!1;break}if(s)return!1}}return!0}const vE=["mousedown","mousemove","keydown","touchstart","wheel"];class _E{constructor(e={}){dn(this,"callbacks",[]);dn(this,"idleTimeout",10*60*1e3);dn(this,"timeoutID");const{onIdle:n,idleTimeout:r=10*60*1e3}=e||{};this.callbacks=n?[n]:[],this.idleTimeout=r;const a=this._resetTimer.bind(this);window.addEventListener("load",a,!0),vE.forEach(function(s){document.addEventListener(s,a,!0)});const i=(s,c)=>{let l;return(...u)=>{const p=this,y=function(){l=void 0,s.apply(p,u)};clearTimeout(l),l=window.setTimeout(y,c)}};if(e!=null&&e.captureScroll){const s=i(a,(e==null?void 0:e.scrollDebounce)??100);window.addEventListener("scroll",s,!0)}a()}static create(e={}){return new this(e)}registerCallback(e){this.callbacks.push(e)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);const e=this._resetTimer.bind(this);vE.forEach(function(n){document.removeEventListener(n,e,!0)}),this.callbacks.forEach(n=>n())}_resetTimer(){const e=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(e,this.idleTimeout)}}const FR=(t,e)=>e.some(n=>t instanceof n);let NE,SE;function jR(){return NE||(NE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VR(){return SE||(SE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R4=new WeakMap,_g=new WeakMap,O4=new WeakMap,Oy=new WeakMap,U2=new WeakMap;function HR(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(Vs(t.result)),a()},s=()=>{r(t.error),a()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&R4.set(n,t)}).catch(()=>{}),U2.set(e,t),e}function DR(t){if(_g.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),a()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});_g.set(t,e)}let Ng={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _g.get(t);if(e==="objectStoreNames")return t.objectStoreNames||O4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zR(t){Ng=t(Ng)}function PR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Uy(this),e,...n);return O4.set(r,e.sort?e.sort():[e]),Vs(r)}:VR().includes(t)?function(...e){return t.apply(Uy(this),e),Vs(R4.get(this))}:function(...e){return Vs(t.apply(Uy(this),e))}}function GR(t){return typeof t=="function"?PR(t):(t instanceof IDBTransaction&&DR(t),FR(t,jR())?new Proxy(t,Ng):t)}function Vs(t){if(t instanceof IDBRequest)return HR(t);if(Oy.has(t))return Oy.get(t);const e=GR(t);return e!==t&&(Oy.set(t,e),U2.set(e,t)),e}const Uy=t=>U2.get(t);function YR(t,e,{blocked:n,upgrade:r,blocking:a,terminated:i}={}){const s=indexedDB.open(t,e),c=Vs(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Vs(s.result),l.oldVersion,l.newVersion,Vs(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const KR=["get","getKey","getAll","getAllKeys","count"],LR=["put","add","delete","clear"],Cy=new Map;function TE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cy.get(e))return Cy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=LR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||KR.includes(n)))return;const i=async function(s,...c){const l=this.transaction(s,a?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(await Promise.all([u[n](...c),a&&l.done]))[0]};return Cy.set(e,i),i}zR(t=>({...t,get:(e,n,r)=>TE(e,n)||t.get(e,n,r),has:(e,n)=>!!TE(e,n)||t.has(e,n)}));const U4="auth-client-db",C4="ic-keyval",ZR=async(t=U4,e=C4,n)=>(M4&&(localStorage!=null&&localStorage.getItem(as))&&(localStorage.removeItem(as),localStorage.removeItem(Qi)),await YR(t,n,{upgrade:r=>{r.objectStoreNames.contains(e)&&r.clear(e),r.createObjectStore(e)}}));async function XR(t,e,n){return await t.get(e,n)}async function QR(t,e,n,r){return await t.put(e,r,n)}async function JR(t,e,n){return await t.delete(e,n)}class C2{constructor(e,n){dn(this,"_db");dn(this,"_storeName");this._db=e,this._storeName=n}static async create(e){const{dbName:n=U4,storeName:r=C4,version:a=eO}=e??{},i=await ZR(n,r,a);return new C2(i,r)}async set(e,n){return await QR(this._db,this._storeName,e,n)}async get(e){return await XR(this._db,this._storeName,e)??null}async remove(e){return await JR(this._db,this._storeName,e)}}const Qi="identity",as="delegation",WR="iv",eO=1,M4=typeof window<"u";class tO{constructor(e="ic-",n){dn(this,"prefix");dn(this,"_localStorage");this.prefix=e,this._localStorage=n}get(e){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+e))}set(e,n){return this._getLocalStorage().setItem(this.prefix+e,n),Promise.resolve()}remove(e){return this._getLocalStorage().removeItem(this.prefix+e),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;const e=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.localStorage:global.localStorage:window.localStorage;if(!e)throw new Error("Could not find local storage.");return e}}var fd;class nO{constructor(e){ye(this,fd);dn(this,"initializedDb");ue(this,fd,e??{})}get _db(){return new Promise(e=>{if(this.initializedDb){e(this.initializedDb);return}C2.create($(this,fd)).then(n=>{this.initializedDb=n,e(n)})})}async get(e){return await(await this._db).get(e)}async set(e,n){await(await this._db).set(e,n)}async remove(e){await(await this._db).remove(e)}}fd=new WeakMap;const rO=BigInt(1e9),aO=BigInt(3600),iO=rO*aO,sO="https://identity.internetcomputer.org",cO="#authorize",oO=BigInt(8)*iO,My="ECDSA",qy="Ed25519",lO=500,uO="UserInterrupt";class cp{constructor(e,n,r,a,i,s,c,l){dn(this,"_identity");dn(this,"_key");dn(this,"_chain");dn(this,"_storage");dn(this,"idleManager");dn(this,"_createOptions");dn(this,"_idpWindow");dn(this,"_eventHandler");this._identity=e,this._key=n,this._chain=r,this._storage=a,this.idleManager=i,this._createOptions=s,this._idpWindow=c,this._eventHandler=l,this._registerDefaultIdleCallback()}static async create(e={}){var l;const n=e.storage??new nO,r=e.keyType??My;let a=null;if(e.identity)a=e.identity;else{let u=await n.get(Qi);if(!u&&M4)try{const p=new tO,y=await p.get(as),h=await p.get(Qi);y&&h&&r===My&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await n.set(as,y),await n.set(Qi,h),u=y,await p.remove(as),await p.remove(Qi))}catch(p){console.error("error while attempting to recover localstorage: "+p)}if(u)try{typeof u=="object"?r===qy&&typeof u=="string"?a=sf.fromJSON(u):a=await mm.fromKeyPair(u):typeof u=="string"&&(a=sf.fromJSON(u))}catch{}}let i=new cm,s=null;if(a)try{const u=await n.get(as);if(typeof u=="object"&&u!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");e.identity?i=e.identity:u&&(s=pm.fromJSON(u),EE(s)?"toDer"in a?i=ym.fromDelegation(a,s):i=wE.fromDelegation(a,s):(await Iy(n),a=null))}catch(u){console.error(u),await Iy(n),a=null}let c;return(l=e.idleOptions)!=null&&l.disableIdle?c=void 0:(s||e.identity)&&(c=_E.create(e.idleOptions)),a||(r===qy?(a=sf.generate(),await n.set(Qi,JSON.stringify(a.toJSON()))):(e.storage&&r===My&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${qy}' as the key type, as it can serialize to a string`),a=await mm.generate(),await n.set(Qi,a.getKeyPair()))),new this(i,a,s,n,c,e)}_registerDefaultIdleCallback(){var n,r;const e=(n=this._createOptions)==null?void 0:n.idleOptions;!(e!=null&&e.onIdle)&&!(e!=null&&e.disableDefaultIdleCallback)&&((r=this.idleManager)==null||r.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(e,n){var c,l;const r=e.delegations.map(u=>({delegation:new O2(u.delegation.pubkey,u.delegation.expiration,u.delegation.targets),signature:u.signature})),a=pm.fromDelegations(r,e.userPublicKey),i=this._key;if(!i)return;this._chain=a,"toDer"in i?this._identity=ym.fromDelegation(i,this._chain):this._identity=wE.fromDelegation(i,this._chain),(c=this._idpWindow)==null||c.close();const s=(l=this._createOptions)==null?void 0:l.idleOptions;!this.idleManager&&!(s!=null&&s.disableIdle)&&(this.idleManager=_E.create(s),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(as,JSON.stringify(this._chain.toJSON())),n==null||n(e)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null&&EE(this._chain)}async login(e){var s,c,l;const n=fO((s=this._createOptions)==null?void 0:s.loginOptions,e),r=(n==null?void 0:n.maxTimeToLive)??oO,a=new URL(((c=n==null?void 0:n.identityProvider)==null?void 0:c.toString())||sO);a.hash=cO,(l=this._idpWindow)==null||l.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(a,{maxTimeToLive:r,...n}),window.addEventListener("message",this._eventHandler),this._idpWindow=window.open(a.toString(),"idpWindow",n==null?void 0:n.windowOpenerFeatures)??void 0;const i=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(uO,n==null?void 0:n.onError):setTimeout(i,lO))};i()}_getEventHandler(e,n){return async r=>{var i,s,c;if(r.origin!==e.origin)return;const a=r.data;switch(a.kind){case"authorize-ready":{const l={kind:"authorize-client",sessionPublicKey:new Uint8Array((i=this._key)==null?void 0:i.getPublicKey().toDer()),maxTimeToLive:n==null?void 0:n.maxTimeToLive,allowPinAuthentication:n==null?void 0:n.allowPinAuthentication,derivationOrigin:(s=n==null?void 0:n.derivationOrigin)==null?void 0:s.toString(),...n==null?void 0:n.customValues};(c=this._idpWindow)==null||c.postMessage(l,e.origin);break}case"authorize-client-success":try{await this._handleSuccess(a,n==null?void 0:n.onSuccess)}catch(l){this._handleFailure(l.message,n==null?void 0:n.onError)}break;case"authorize-client-failure":this._handleFailure(a.text,n==null?void 0:n.onError);break}}}_handleFailure(e,n){var r;(r=this._idpWindow)==null||r.close(),n==null||n(e),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(e={}){if(await Iy(this._storage),this._identity=new cm,this._chain=null,e.returnTo)try{window.history.pushState({},"",e.returnTo)}catch{window.location.href=e.returnTo}}}async function Iy(t){await t.remove(Qi),await t.remove(as),await t.remove(WR)}function fO(t,e){if(!t&&!e)return;const n=t!=null&&t.customValues||e!=null&&e.customValues?{...t==null?void 0:t.customValues,...e==null?void 0:e.customValues}:void 0;return{...t,...e,customValues:n}}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),AE=t=>{const e=hO(t);return e.charAt(0).toUpperCase()+e.slice(1)},q4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),mO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=be.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:s,...c},l)=>be.createElement("svg",{ref:l,...pO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:q4("lucide",a),...!i&&!mO(c)&&{"aria-hidden":"true"},...c},[...s.map(([u,p])=>be.createElement(u,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(t,e)=>{const n=be.forwardRef(({className:r,...a},i)=>be.createElement(yO,{ref:i,iconNode:e,className:q4(`lucide-${dO(AE(t))}`,`lucide-${t}`,r),...a}));return n.displayName=AE(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],bO=Be("activity",gO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Sg=Be("book-open",xO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],EO=Be("chart-column",wO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_O=Be("check",vO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],is=Be("circle-check-big",NO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],TO=Be("circle-x",SO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bi=Be("clock",AO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],$y=Be("code",BO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],ky=Be("coins",RO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],G0=Be("copy",OO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],M2=Be("dollar-sign",UO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],MO=Be("download",CO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],BE=Be("external-link",qO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zf=Be("eye",IO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],gm=Be("file-text",$O);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],cf=Be("globe",kO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],RE=Be("loader-circle",FO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Tg=Be("lock",jO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],HO=Be("log-out",VO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],zO=Be("map-pin",DO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],GO=Be("maximize",PO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],KO=Be("message-circle",YO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],I4=Be("mic-off",LO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],$4=Be("mic",ZO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],QO=Be("minimize",XO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],OE=Be("phone-off",JO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],eU=Be("phone",WO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],nU=Be("play",tU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],aU=Be("plus",rU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],UE=Be("search",iU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],cU=Be("send",sU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Hs=Be("server",oU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uU=Be("settings",lU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],rr=Be("shield",fU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],Y0=Be("shuffle",dU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],mU=Be("skip-forward",hU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],bm=Be("star",pU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],CE=Be("terminal",yU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],bU=Be("thumbs-down",gU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],wU=Be("thumbs-up",xU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],k4=Be("trending-up",EU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ba=Be("triangle-alert",vU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],NU=Be("user-check",_U);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],K0=Be("user-plus",SU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],di=Be("users",TU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],F4=Be("video-off",AU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],ss=Be("video",BU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]],Ag=Be("vote",RU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ds=Be("x",OU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],xm=Be("zap",UU);function CU({backend:t}){const[e,n]=be.useState(null),[r,a]=be.useState(null),[i,s]=be.useState([]),[c,l]=be.useState(!1),[u,p]=be.useState(!1),[y,h]=be.useState(!1),[d,f]=be.useState(""),[A,N]=be.useState(""),[v,x]=be.useState([]),[_,M]=be.useState(""),[S,H]=be.useState(!1),z=be.useRef(null),K={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:194.31.150.154:3478?transport=udp",username:"turnx",credential:"1234"}]};be.useEffect(()=>((async()=>{try{const Q=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});n(Q),z.current&&(z.current.srcObject=Q)}catch(Q){console.error("Failed to access media devices:",Q)}})(),()=>{e==null||e.getTracks().forEach(Q=>Q.stop())}),[]);const Z=async()=>{if(e)try{H(!0);const F=await t.createRoom("TURNX Meeting",BigInt(5));f(F.id),N(F.link),P(F.id,!0)}catch(F){console.error("Error creating room:",F),alert(" Could not create room. Make sure you are logged in with Internet Identity.")}finally{H(!1)}},k=async()=>{const F=prompt("Enter Room ID to join")||"";F.trim()&&(f(F),P(F,!1))},P=async(F,Q)=>{if(!e)return;const oe=new RTCPeerConnection(K);a(oe),e.getTracks().forEach(ae=>oe.addTrack(ae,e)),oe.ontrack=ae=>{ae.streams[0]&&!i.includes(ae.streams[0])&&s(se=>[...se,ae.streams[0]])},oe.onicecandidate=async ae=>{ae.candidate&&await t.submitCandidate(F,btoa(JSON.stringify(ae.candidate)))};try{if(Q){const se=await oe.createOffer();await oe.setLocalDescription(se),await t.submitOffer(F,btoa(JSON.stringify(se)))}else{const se=await t.getOffer(F);if(se.length===0){console.warn("No offer found for room:",F);return}const le=JSON.parse(atob(se[0]));await oe.setRemoteDescription(le);const U=await oe.createAnswer();await oe.setLocalDescription(U),await t.submitAnswer(F,btoa(JSON.stringify(U)))}const ae=setInterval(async()=>{const se=await t.getAnswer(F);if(se.length>0&&!oe.currentRemoteDescription){const U=JSON.parse(atob(se[0]));await oe.setRemoteDescription(U)}const le=await t.getCandidates(F);for(const U of le)try{await oe.addIceCandidate(JSON.parse(atob(U)))}catch{}},2e3);return()=>clearInterval(ae)}catch(ae){console.error("Error during connection setup:",ae)}},X=async()=>{_.trim()&&(await t.sendMessage(d,_),x(F=>[...F,{user:"Me",message:_}]),M(""))},E=async()=>{if(!d)return;const Q=(await t.getRoomMessages(d)).map(oe=>({user:oe.user.toString(),message:oe.message}));x(Q)};be.useEffect(()=>{if(d){const F=setInterval(E,3e3);return()=>clearInterval(F)}},[d]);const O=()=>{if(e){const F=e.getAudioTracks()[0];F.enabled=!F.enabled,l(!F.enabled)}},j=()=>{if(e){const F=e.getVideoTracks()[0];F.enabled=!F.enabled,p(!F.enabled)}},C=()=>h(F=>!F),V=()=>{const F=`${window.location.origin}?roomId=${d}`;navigator.clipboard.writeText(F)};return o.createElement("div",{className:"min-h-screen bg-gray-900 text-white flex"},o.createElement("div",{className:"w-1/4 bg-gray-800 p-4 flex flex-col space-y-4 border-r border-gray-700"},o.createElement("button",{onClick:Z,className:"bg-green-600 px-4 py-2 rounded hover:bg-green-700"},S?"Creating...":"+ Create Room"),o.createElement("button",{onClick:k,className:"bg-blue-600 px-4 py-2 rounded hover:bg-blue-700"},"Join Room"),d&&o.createElement("button",{onClick:V,className:"mt-4 text-xs bg-gray-700 px-2 py-1 rounded hover:bg-gray-600"},o.createElement(G0,{size:14,className:"inline"})," Copy Invite Link")),o.createElement("div",{className:"flex-1 p-4 flex flex-col"},o.createElement("div",{className:`relative bg-black rounded-xl overflow-hidden grid grid-cols-2 gap-2 ${y?"w-full h-[85vh]":"w-full h-[60vh]"}`},o.createElement("video",{ref:z,muted:!0,autoPlay:!0,playsInline:!0,className:"object-cover w-full h-full border-2 border-green-500"}),i.map((F,Q)=>o.createElement("video",{key:Q,autoPlay:!0,playsInline:!0,ref:oe=>{oe&&(oe.srcObject=F)},className:"object-cover w-full h-full border border-gray-700"})),o.createElement("button",{onClick:C,className:"absolute top-3 right-3 bg-gray-800/70 p-2 rounded hover:bg-gray-700"},y?o.createElement(QO,null):o.createElement(GO,null))),o.createElement("div",{className:"flex gap-4 mt-4 justify-center"},o.createElement("button",{onClick:O,className:"bg-gray-700 p-4 rounded-full hover:bg-gray-600"},c?o.createElement(I4,null):o.createElement($4,null)),o.createElement("button",{onClick:j,className:"bg-gray-700 p-4 rounded-full hover:bg-gray-600"},u?o.createElement(F4,null):o.createElement(ss,null))),d&&o.createElement("div",{className:"bg-gray-800 mt-4 p-3 rounded-lg flex flex-col h-48"},o.createElement("div",{className:"flex-1 overflow-y-auto space-y-2"},v.map((F,Q)=>o.createElement("div",{key:Q,className:"text-sm"},o.createElement("span",{className:"font-bold"},F.user,": "),F.message))),o.createElement("div",{className:"flex mt-2"},o.createElement("input",{className:"flex-1 p-2 text-black rounded-l",placeholder:"Type a message...",value:_,onChange:F=>M(F.target.value)}),o.createElement("button",{onClick:X,className:"bg-green-600 px-4 py-2 rounded-r hover:bg-green-700"},o.createElement(cU,{size:16}))))))}const j4=({IDL:t})=>{const e=t.Variant({admin:t.Null,user:t.Null,guest:t.Null}),n=t.Int,r=t.Record({id:t.Text,participants:t.Vec(t.Principal),code:t.Text,link:t.Text,name:t.Text,createdAt:n,createdBy:t.Principal,isActive:t.Bool,maxParticipants:t.Nat}),a=t.Record({id:t.Text,url:t.Text,attestationHash:t.Opt(t.Text),owner:t.Principal,publicKey:t.Text,name:t.Text,stakeAmount:t.Nat,reputation:t.Float64,isActive:t.Bool,isVerified:t.Bool,uptime:t.Float64,securityScore:t.Nat,totalEarnings:t.Float64,rating:t.Float64,totalSessions:t.Nat,lastSeen:n,location:t.Text}),i=t.Record({user:t.Principal,serverUrl:t.Text,timestamp:n,sessionId:t.Text}),s=t.Variant({pending:t.Null,approved:t.Null,rejected:t.Null}),c=t.Record({startTime:n,costPerMinute:t.Float64,endTime:n,protocolFee:t.Float64,user:t.Principal,totalCost:t.Float64,providerEarnings:t.Float64,durationMinutes:t.Float64,sessionId:t.Text,providerId:t.Text}),l=t.Record({id:t.Text,user:t.Principal,message:t.Text,timestamp:n,roomId:t.Text}),u=t.Record({name:t.Text}),p=t.Record({principal:t.Principal,role:e,approval:s});return t.Service({assignRole:t.Func([t.Principal,e],[],[]),createRoom:t.Func([t.Text,t.Nat],[r],[]),getAllTurnProviders:t.Func([],[t.Vec(a)],["query"]),getAllTurnServerUsages:t.Func([],[t.Vec(i)],["query"]),getAnswer:t.Func([t.Text],[t.Opt(t.Text)],["query"]),getApprovalStatus:t.Func([],[s],["query"]),getBillingRecords:t.Func([],[t.Vec(c)],["query"]),getCandidates:t.Func([t.Text],[t.Vec(t.Text)],["query"]),getCurrentUserRole:t.Func([],[e],["query"]),getOffer:t.Func([t.Text],[t.Opt(t.Text)],["query"]),getRoomMessages:t.Func([t.Text],[t.Vec(l)],["query"]),getTurnServerUsage:t.Func([t.Text],[t.Opt(i)],["query"]),getUserProfile:t.Func([],[t.Opt(u)],["query"]),initializeAuth:t.Func([],[],[]),isCurrentUserAdmin:t.Func([],[t.Bool],["query"]),listUsers:t.Func([],[t.Vec(p)],["query"]),logTurnServerUsage:t.Func([t.Text,t.Text],[],[]),recordBilling:t.Func([t.Text,t.Text,n,n,t.Float64],[],[]),registerPrincipal:t.Func([t.Principal],[t.Text],[]),registerTurnProvider:t.Func([t.Text,t.Text,t.Text,t.Text,t.Opt(t.Text),t.Nat,t.Text],[],[]),registerUser:t.Func([],[],[]),saveUserProfile:t.Func([u],[],[]),sendMessage:t.Func([t.Text,t.Text],[],[]),setApproval:t.Func([t.Principal,s],[],[]),submitAnswer:t.Func([t.Text,t.Text],[],[]),submitCandidate:t.Func([t.Text,t.Text],[],[]),submitOffer:t.Func([t.Text,t.Text],[],[])})};var V4={},Md={};Md.byteLength=IU;Md.toByteArray=kU;Md.fromByteArray=VU;var _a=[],pr=[],MU=typeof Uint8Array<"u"?Uint8Array:Array,Fy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var xo=0,qU=Fy.length;xo<qU;++xo)_a[xo]=Fy[xo],pr[Fy.charCodeAt(xo)]=xo;pr[45]=62;pr[95]=63;function H4(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function IU(t){var e=H4(t),n=e[0],r=e[1];return(n+r)*3/4-r}function $U(t,e,n){return(e+n)*3/4-n}function kU(t){var e,n=H4(t),r=n[0],a=n[1],i=new MU($U(t,r,a)),s=0,c=a>0?r-4:r,l;for(l=0;l<c;l+=4)e=pr[t.charCodeAt(l)]<<18|pr[t.charCodeAt(l+1)]<<12|pr[t.charCodeAt(l+2)]<<6|pr[t.charCodeAt(l+3)],i[s++]=e>>16&255,i[s++]=e>>8&255,i[s++]=e&255;return a===2&&(e=pr[t.charCodeAt(l)]<<2|pr[t.charCodeAt(l+1)]>>4,i[s++]=e&255),a===1&&(e=pr[t.charCodeAt(l)]<<10|pr[t.charCodeAt(l+1)]<<4|pr[t.charCodeAt(l+2)]>>2,i[s++]=e>>8&255,i[s++]=e&255),i}function FU(t){return _a[t>>18&63]+_a[t>>12&63]+_a[t>>6&63]+_a[t&63]}function jU(t,e,n){for(var r,a=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),a.push(FU(r));return a.join("")}function VU(t){for(var e,n=t.length,r=n%3,a=[],i=16383,s=0,c=n-r;s<c;s+=i)a.push(jU(t,s,s+i>c?c:s+i));return r===1?(e=t[n-1],a.push(_a[e>>2]+_a[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],a.push(_a[e>>10]+_a[e>>4&63]+_a[e<<2&63]+"=")),a.join("")}var qd={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */qd.read=function(t,e,n,r,a){var i,s,c=a*8-r-1,l=(1<<c)-1,u=l>>1,p=-7,y=n?a-1:0,h=n?-1:1,d=t[e+y];for(y+=h,i=d&(1<<-p)-1,d>>=-p,p+=c;p>0;i=i*256+t[e+y],y+=h,p-=8);for(s=i&(1<<-p)-1,i>>=-p,p+=r;p>0;s=s*256+t[e+y],y+=h,p-=8);if(i===0)i=1-u;else{if(i===l)return s?NaN:(d?-1:1)*(1/0);s=s+Math.pow(2,r),i=i-u}return(d?-1:1)*s*Math.pow(2,i-r)};qd.write=function(t,e,n,r,a,i){var s,c,l,u=i*8-a-1,p=(1<<u)-1,y=p>>1,h=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,f=r?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,s=p):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+y>=1?e+=h/l:e+=h*Math.pow(2,1-y),e*l>=2&&(s++,l/=2),s+y>=p?(c=0,s=p):s+y>=1?(c=(e*l-1)*Math.pow(2,a),s=s+y):(c=e*Math.pow(2,y-1)*Math.pow(2,a),s=0));a>=8;t[n+d]=c&255,d+=f,c/=256,a-=8);for(s=s<<a|c,u+=a;u>0;t[n+d]=s&255,d+=f,s/=256,u-=8);t[n+d-f]|=A*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Md,n=qd,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=x,t.INSPECT_MAX_BYTES=50;const a=2147483647;t.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=i(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const R=new Uint8Array(1),b={foo:function(){return 42}};return Object.setPrototypeOf(b,Uint8Array.prototype),Object.setPrototypeOf(R,b),R.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function s(R){if(R>a)throw new RangeError('The value "'+R+'" is invalid for option "size"');const b=new Uint8Array(R);return Object.setPrototypeOf(b,c.prototype),b}function c(R,b,w){if(typeof R=="number"){if(typeof b=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(R)}return l(R,b,w)}c.poolSize=8192;function l(R,b,w){if(typeof R=="string")return h(R,b);if(ArrayBuffer.isView(R))return f(R);if(R==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R);if(re(R,ArrayBuffer)||R&&re(R.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(re(R,SharedArrayBuffer)||R&&re(R.buffer,SharedArrayBuffer)))return A(R,b,w);if(typeof R=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const G=R.valueOf&&R.valueOf();if(G!=null&&G!==R)return c.from(G,b,w);const ee=N(R);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof R[Symbol.toPrimitive]=="function")return c.from(R[Symbol.toPrimitive]("string"),b,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R)}c.from=function(R,b,w){return l(R,b,w)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function u(R){if(typeof R!="number")throw new TypeError('"size" argument must be of type number');if(R<0)throw new RangeError('The value "'+R+'" is invalid for option "size"')}function p(R,b,w){return u(R),R<=0?s(R):b!==void 0?typeof w=="string"?s(R).fill(b,w):s(R).fill(b):s(R)}c.alloc=function(R,b,w){return p(R,b,w)};function y(R){return u(R),s(R<0?0:v(R)|0)}c.allocUnsafe=function(R){return y(R)},c.allocUnsafeSlow=function(R){return y(R)};function h(R,b){if((typeof b!="string"||b==="")&&(b="utf8"),!c.isEncoding(b))throw new TypeError("Unknown encoding: "+b);const w=_(R,b)|0;let G=s(w);const ee=G.write(R,b);return ee!==w&&(G=G.slice(0,ee)),G}function d(R){const b=R.length<0?0:v(R.length)|0,w=s(b);for(let G=0;G<b;G+=1)w[G]=R[G]&255;return w}function f(R){if(re(R,Uint8Array)){const b=new Uint8Array(R);return A(b.buffer,b.byteOffset,b.byteLength)}return d(R)}function A(R,b,w){if(b<0||R.byteLength<b)throw new RangeError('"offset" is outside of buffer bounds');if(R.byteLength<b+(w||0))throw new RangeError('"length" is outside of buffer bounds');let G;return b===void 0&&w===void 0?G=new Uint8Array(R):w===void 0?G=new Uint8Array(R,b):G=new Uint8Array(R,b,w),Object.setPrototypeOf(G,c.prototype),G}function N(R){if(c.isBuffer(R)){const b=v(R.length)|0,w=s(b);return w.length===0||R.copy(w,0,0,b),w}if(R.length!==void 0)return typeof R.length!="number"||fe(R.length)?s(0):d(R);if(R.type==="Buffer"&&Array.isArray(R.data))return d(R.data)}function v(R){if(R>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return R|0}function x(R){return+R!=R&&(R=0),c.alloc(+R)}c.isBuffer=function(b){return b!=null&&b._isBuffer===!0&&b!==c.prototype},c.compare=function(b,w){if(re(b,Uint8Array)&&(b=c.from(b,b.offset,b.byteLength)),re(w,Uint8Array)&&(w=c.from(w,w.offset,w.byteLength)),!c.isBuffer(b)||!c.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(b===w)return 0;let G=b.length,ee=w.length;for(let ce=0,ie=Math.min(G,ee);ce<ie;++ce)if(b[ce]!==w[ce]){G=b[ce],ee=w[ce];break}return G<ee?-1:ee<G?1:0},c.isEncoding=function(b){switch(String(b).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(b,w){if(!Array.isArray(b))throw new TypeError('"list" argument must be an Array of Buffers');if(b.length===0)return c.alloc(0);let G;if(w===void 0)for(w=0,G=0;G<b.length;++G)w+=b[G].length;const ee=c.allocUnsafe(w);let ce=0;for(G=0;G<b.length;++G){let ie=b[G];if(re(ie,Uint8Array))ce+ie.length>ee.length?(c.isBuffer(ie)||(ie=c.from(ie)),ie.copy(ee,ce)):Uint8Array.prototype.set.call(ee,ie,ce);else if(c.isBuffer(ie))ie.copy(ee,ce);else throw new TypeError('"list" argument must be an Array of Buffers');ce+=ie.length}return ee};function _(R,b){if(c.isBuffer(R))return R.length;if(ArrayBuffer.isView(R)||re(R,ArrayBuffer))return R.byteLength;if(typeof R!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof R);const w=R.length,G=arguments.length>2&&arguments[2]===!0;if(!G&&w===0)return 0;let ee=!1;for(;;)switch(b){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return m(R).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return q(R).length;default:if(ee)return G?-1:m(R).length;b=(""+b).toLowerCase(),ee=!0}}c.byteLength=_;function M(R,b,w){let G=!1;if((b===void 0||b<0)&&(b=0),b>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,b>>>=0,w<=b))return"";for(R||(R="utf8");;)switch(R){case"hex":return Q(this,b,w);case"utf8":case"utf-8":return O(this,b,w);case"ascii":return V(this,b,w);case"latin1":case"binary":return F(this,b,w);case"base64":return E(this,b,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,b,w);default:if(G)throw new TypeError("Unknown encoding: "+R);R=(R+"").toLowerCase(),G=!0}}c.prototype._isBuffer=!0;function S(R,b,w){const G=R[b];R[b]=R[w],R[w]=G}c.prototype.swap16=function(){const b=this.length;if(b%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let w=0;w<b;w+=2)S(this,w,w+1);return this},c.prototype.swap32=function(){const b=this.length;if(b%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let w=0;w<b;w+=4)S(this,w,w+3),S(this,w+1,w+2);return this},c.prototype.swap64=function(){const b=this.length;if(b%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let w=0;w<b;w+=8)S(this,w,w+7),S(this,w+1,w+6),S(this,w+2,w+5),S(this,w+3,w+4);return this},c.prototype.toString=function(){const b=this.length;return b===0?"":arguments.length===0?O(this,0,b):M.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(b){if(!c.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:c.compare(this,b)===0},c.prototype.inspect=function(){let b="";const w=t.INSPECT_MAX_BYTES;return b=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(b+=" ... "),"<Buffer "+b+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(b,w,G,ee,ce){if(re(b,Uint8Array)&&(b=c.from(b,b.offset,b.byteLength)),!c.isBuffer(b))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof b);if(w===void 0&&(w=0),G===void 0&&(G=b?b.length:0),ee===void 0&&(ee=0),ce===void 0&&(ce=this.length),w<0||G>b.length||ee<0||ce>this.length)throw new RangeError("out of range index");if(ee>=ce&&w>=G)return 0;if(ee>=ce)return-1;if(w>=G)return 1;if(w>>>=0,G>>>=0,ee>>>=0,ce>>>=0,this===b)return 0;let ie=ce-ee,Ue=G-w;const $e=Math.min(ie,Ue),Me=this.slice(ee,ce),Re=b.slice(w,G);for(let Je=0;Je<$e;++Je)if(Me[Je]!==Re[Je]){ie=Me[Je],Ue=Re[Je];break}return ie<Ue?-1:Ue<ie?1:0};function H(R,b,w,G,ee){if(R.length===0)return-1;if(typeof w=="string"?(G=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,fe(w)&&(w=ee?0:R.length-1),w<0&&(w=R.length+w),w>=R.length){if(ee)return-1;w=R.length-1}else if(w<0)if(ee)w=0;else return-1;if(typeof b=="string"&&(b=c.from(b,G)),c.isBuffer(b))return b.length===0?-1:z(R,b,w,G,ee);if(typeof b=="number")return b=b&255,typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call(R,b,w):Uint8Array.prototype.lastIndexOf.call(R,b,w):z(R,[b],w,G,ee);throw new TypeError("val must be string, number or Buffer")}function z(R,b,w,G,ee){let ce=1,ie=R.length,Ue=b.length;if(G!==void 0&&(G=String(G).toLowerCase(),G==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(R.length<2||b.length<2)return-1;ce=2,ie/=2,Ue/=2,w/=2}function $e(Re,Je){return ce===1?Re[Je]:Re.readUInt16BE(Je*ce)}let Me;if(ee){let Re=-1;for(Me=w;Me<ie;Me++)if($e(R,Me)===$e(b,Re===-1?0:Me-Re)){if(Re===-1&&(Re=Me),Me-Re+1===Ue)return Re*ce}else Re!==-1&&(Me-=Me-Re),Re=-1}else for(w+Ue>ie&&(w=ie-Ue),Me=w;Me>=0;Me--){let Re=!0;for(let Je=0;Je<Ue;Je++)if($e(R,Me+Je)!==$e(b,Je)){Re=!1;break}if(Re)return Me}return-1}c.prototype.includes=function(b,w,G){return this.indexOf(b,w,G)!==-1},c.prototype.indexOf=function(b,w,G){return H(this,b,w,G,!0)},c.prototype.lastIndexOf=function(b,w,G){return H(this,b,w,G,!1)};function K(R,b,w,G){w=Number(w)||0;const ee=R.length-w;G?(G=Number(G),G>ee&&(G=ee)):G=ee;const ce=b.length;G>ce/2&&(G=ce/2);let ie;for(ie=0;ie<G;++ie){const Ue=parseInt(b.substr(ie*2,2),16);if(fe(Ue))return ie;R[w+ie]=Ue}return ie}function Z(R,b,w,G){return Y(m(b,R.length-w),R,w,G)}function k(R,b,w,G){return Y(g(b),R,w,G)}function P(R,b,w,G){return Y(q(b),R,w,G)}function X(R,b,w,G){return Y(B(b,R.length-w),R,w,G)}c.prototype.write=function(b,w,G,ee){if(w===void 0)ee="utf8",G=this.length,w=0;else if(G===void 0&&typeof w=="string")ee=w,G=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(G)?(G=G>>>0,ee===void 0&&(ee="utf8")):(ee=G,G=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ce=this.length-w;if((G===void 0||G>ce)&&(G=ce),b.length>0&&(G<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");let ie=!1;for(;;)switch(ee){case"hex":return K(this,b,w,G);case"utf8":case"utf-8":return Z(this,b,w,G);case"ascii":case"latin1":case"binary":return k(this,b,w,G);case"base64":return P(this,b,w,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,b,w,G);default:if(ie)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),ie=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(R,b,w){return b===0&&w===R.length?e.fromByteArray(R):e.fromByteArray(R.slice(b,w))}function O(R,b,w){w=Math.min(R.length,w);const G=[];let ee=b;for(;ee<w;){const ce=R[ee];let ie=null,Ue=ce>239?4:ce>223?3:ce>191?2:1;if(ee+Ue<=w){let $e,Me,Re,Je;switch(Ue){case 1:ce<128&&(ie=ce);break;case 2:$e=R[ee+1],($e&192)===128&&(Je=(ce&31)<<6|$e&63,Je>127&&(ie=Je));break;case 3:$e=R[ee+1],Me=R[ee+2],($e&192)===128&&(Me&192)===128&&(Je=(ce&15)<<12|($e&63)<<6|Me&63,Je>2047&&(Je<55296||Je>57343)&&(ie=Je));break;case 4:$e=R[ee+1],Me=R[ee+2],Re=R[ee+3],($e&192)===128&&(Me&192)===128&&(Re&192)===128&&(Je=(ce&15)<<18|($e&63)<<12|(Me&63)<<6|Re&63,Je>65535&&Je<1114112&&(ie=Je))}}ie===null?(ie=65533,Ue=1):ie>65535&&(ie-=65536,G.push(ie>>>10&1023|55296),ie=56320|ie&1023),G.push(ie),ee+=Ue}return C(G)}const j=4096;function C(R){const b=R.length;if(b<=j)return String.fromCharCode.apply(String,R);let w="",G=0;for(;G<b;)w+=String.fromCharCode.apply(String,R.slice(G,G+=j));return w}function V(R,b,w){let G="";w=Math.min(R.length,w);for(let ee=b;ee<w;++ee)G+=String.fromCharCode(R[ee]&127);return G}function F(R,b,w){let G="";w=Math.min(R.length,w);for(let ee=b;ee<w;++ee)G+=String.fromCharCode(R[ee]);return G}function Q(R,b,w){const G=R.length;(!b||b<0)&&(b=0),(!w||w<0||w>G)&&(w=G);let ee="";for(let ce=b;ce<w;++ce)ee+=Ee[R[ce]];return ee}function oe(R,b,w){const G=R.slice(b,w);let ee="";for(let ce=0;ce<G.length-1;ce+=2)ee+=String.fromCharCode(G[ce]+G[ce+1]*256);return ee}c.prototype.slice=function(b,w){const G=this.length;b=~~b,w=w===void 0?G:~~w,b<0?(b+=G,b<0&&(b=0)):b>G&&(b=G),w<0?(w+=G,w<0&&(w=0)):w>G&&(w=G),w<b&&(w=b);const ee=this.subarray(b,w);return Object.setPrototypeOf(ee,c.prototype),ee};function ae(R,b,w){if(R%1!==0||R<0)throw new RangeError("offset is not uint");if(R+b>w)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(b,w,G){b=b>>>0,w=w>>>0,G||ae(b,w,this.length);let ee=this[b],ce=1,ie=0;for(;++ie<w&&(ce*=256);)ee+=this[b+ie]*ce;return ee},c.prototype.readUintBE=c.prototype.readUIntBE=function(b,w,G){b=b>>>0,w=w>>>0,G||ae(b,w,this.length);let ee=this[b+--w],ce=1;for(;w>0&&(ce*=256);)ee+=this[b+--w]*ce;return ee},c.prototype.readUint8=c.prototype.readUInt8=function(b,w){return b=b>>>0,w||ae(b,1,this.length),this[b]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(b,w){return b=b>>>0,w||ae(b,2,this.length),this[b]|this[b+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(b,w){return b=b>>>0,w||ae(b,2,this.length),this[b]<<8|this[b+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(b,w){return b=b>>>0,w||ae(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+this[b+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(b,w){return b=b>>>0,w||ae(b,4,this.length),this[b]*16777216+(this[b+1]<<16|this[b+2]<<8|this[b+3])},c.prototype.readBigUInt64LE=ve(function(b){b=b>>>0,te(b,"offset");const w=this[b],G=this[b+7];(w===void 0||G===void 0)&&W(b,this.length-8);const ee=w+this[++b]*2**8+this[++b]*2**16+this[++b]*2**24,ce=this[++b]+this[++b]*2**8+this[++b]*2**16+G*2**24;return BigInt(ee)+(BigInt(ce)<<BigInt(32))}),c.prototype.readBigUInt64BE=ve(function(b){b=b>>>0,te(b,"offset");const w=this[b],G=this[b+7];(w===void 0||G===void 0)&&W(b,this.length-8);const ee=w*2**24+this[++b]*2**16+this[++b]*2**8+this[++b],ce=this[++b]*2**24+this[++b]*2**16+this[++b]*2**8+G;return(BigInt(ee)<<BigInt(32))+BigInt(ce)}),c.prototype.readIntLE=function(b,w,G){b=b>>>0,w=w>>>0,G||ae(b,w,this.length);let ee=this[b],ce=1,ie=0;for(;++ie<w&&(ce*=256);)ee+=this[b+ie]*ce;return ce*=128,ee>=ce&&(ee-=Math.pow(2,8*w)),ee},c.prototype.readIntBE=function(b,w,G){b=b>>>0,w=w>>>0,G||ae(b,w,this.length);let ee=w,ce=1,ie=this[b+--ee];for(;ee>0&&(ce*=256);)ie+=this[b+--ee]*ce;return ce*=128,ie>=ce&&(ie-=Math.pow(2,8*w)),ie},c.prototype.readInt8=function(b,w){return b=b>>>0,w||ae(b,1,this.length),this[b]&128?(255-this[b]+1)*-1:this[b]},c.prototype.readInt16LE=function(b,w){b=b>>>0,w||ae(b,2,this.length);const G=this[b]|this[b+1]<<8;return G&32768?G|4294901760:G},c.prototype.readInt16BE=function(b,w){b=b>>>0,w||ae(b,2,this.length);const G=this[b+1]|this[b]<<8;return G&32768?G|4294901760:G},c.prototype.readInt32LE=function(b,w){return b=b>>>0,w||ae(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24},c.prototype.readInt32BE=function(b,w){return b=b>>>0,w||ae(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]},c.prototype.readBigInt64LE=ve(function(b){b=b>>>0,te(b,"offset");const w=this[b],G=this[b+7];(w===void 0||G===void 0)&&W(b,this.length-8);const ee=this[b+4]+this[b+5]*2**8+this[b+6]*2**16+(G<<24);return(BigInt(ee)<<BigInt(32))+BigInt(w+this[++b]*2**8+this[++b]*2**16+this[++b]*2**24)}),c.prototype.readBigInt64BE=ve(function(b){b=b>>>0,te(b,"offset");const w=this[b],G=this[b+7];(w===void 0||G===void 0)&&W(b,this.length-8);const ee=(w<<24)+this[++b]*2**16+this[++b]*2**8+this[++b];return(BigInt(ee)<<BigInt(32))+BigInt(this[++b]*2**24+this[++b]*2**16+this[++b]*2**8+G)}),c.prototype.readFloatLE=function(b,w){return b=b>>>0,w||ae(b,4,this.length),n.read(this,b,!0,23,4)},c.prototype.readFloatBE=function(b,w){return b=b>>>0,w||ae(b,4,this.length),n.read(this,b,!1,23,4)},c.prototype.readDoubleLE=function(b,w){return b=b>>>0,w||ae(b,8,this.length),n.read(this,b,!0,52,8)},c.prototype.readDoubleBE=function(b,w){return b=b>>>0,w||ae(b,8,this.length),n.read(this,b,!1,52,8)};function se(R,b,w,G,ee,ce){if(!c.isBuffer(R))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>ee||b<ce)throw new RangeError('"value" argument is out of bounds');if(w+G>R.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(b,w,G,ee){if(b=+b,w=w>>>0,G=G>>>0,!ee){const Ue=Math.pow(2,8*G)-1;se(this,b,w,G,Ue,0)}let ce=1,ie=0;for(this[w]=b&255;++ie<G&&(ce*=256);)this[w+ie]=b/ce&255;return w+G},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(b,w,G,ee){if(b=+b,w=w>>>0,G=G>>>0,!ee){const Ue=Math.pow(2,8*G)-1;se(this,b,w,G,Ue,0)}let ce=G-1,ie=1;for(this[w+ce]=b&255;--ce>=0&&(ie*=256);)this[w+ce]=b/ie&255;return w+G},c.prototype.writeUint8=c.prototype.writeUInt8=function(b,w,G){return b=+b,w=w>>>0,G||se(this,b,w,1,255,0),this[w]=b&255,w+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(b,w,G){return b=+b,w=w>>>0,G||se(this,b,w,2,65535,0),this[w]=b&255,this[w+1]=b>>>8,w+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(b,w,G){return b=+b,w=w>>>0,G||se(this,b,w,2,65535,0),this[w]=b>>>8,this[w+1]=b&255,w+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(b,w,G){return b=+b,w=w>>>0,G||se(this,b,w,4,4294967295,0),this[w+3]=b>>>24,this[w+2]=b>>>16,this[w+1]=b>>>8,this[w]=b&255,w+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(b,w,G){return b=+b,w=w>>>0,G||se(this,b,w,4,4294967295,0),this[w]=b>>>24,this[w+1]=b>>>16,this[w+2]=b>>>8,this[w+3]=b&255,w+4};function le(R,b,w,G,ee){L(b,G,ee,R,w,7);let ce=Number(b&BigInt(4294967295));R[w++]=ce,ce=ce>>8,R[w++]=ce,ce=ce>>8,R[w++]=ce,ce=ce>>8,R[w++]=ce;let ie=Number(b>>BigInt(32)&BigInt(4294967295));return R[w++]=ie,ie=ie>>8,R[w++]=ie,ie=ie>>8,R[w++]=ie,ie=ie>>8,R[w++]=ie,w}function U(R,b,w,G,ee){L(b,G,ee,R,w,7);let ce=Number(b&BigInt(4294967295));R[w+7]=ce,ce=ce>>8,R[w+6]=ce,ce=ce>>8,R[w+5]=ce,ce=ce>>8,R[w+4]=ce;let ie=Number(b>>BigInt(32)&BigInt(4294967295));return R[w+3]=ie,ie=ie>>8,R[w+2]=ie,ie=ie>>8,R[w+1]=ie,ie=ie>>8,R[w]=ie,w+8}c.prototype.writeBigUInt64LE=ve(function(b,w=0){return le(this,b,w,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=ve(function(b,w=0){return U(this,b,w,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(b,w,G,ee){if(b=+b,w=w>>>0,!ee){const $e=Math.pow(2,8*G-1);se(this,b,w,G,$e-1,-$e)}let ce=0,ie=1,Ue=0;for(this[w]=b&255;++ce<G&&(ie*=256);)b<0&&Ue===0&&this[w+ce-1]!==0&&(Ue=1),this[w+ce]=(b/ie>>0)-Ue&255;return w+G},c.prototype.writeIntBE=function(b,w,G,ee){if(b=+b,w=w>>>0,!ee){const $e=Math.pow(2,8*G-1);se(this,b,w,G,$e-1,-$e)}let ce=G-1,ie=1,Ue=0;for(this[w+ce]=b&255;--ce>=0&&(ie*=256);)b<0&&Ue===0&&this[w+ce+1]!==0&&(Ue=1),this[w+ce]=(b/ie>>0)-Ue&255;return w+G},c.prototype.writeInt8=function(b,w,G){return b=+b,w=w>>>0,G||se(this,b,w,1,127,-128),b<0&&(b=255+b+1),this[w]=b&255,w+1},c.prototype.writeInt16LE=function(b,w,G){return b=+b,w=w>>>0,G||se(this,b,w,2,32767,-32768),this[w]=b&255,this[w+1]=b>>>8,w+2},c.prototype.writeInt16BE=function(b,w,G){return b=+b,w=w>>>0,G||se(this,b,w,2,32767,-32768),this[w]=b>>>8,this[w+1]=b&255,w+2},c.prototype.writeInt32LE=function(b,w,G){return b=+b,w=w>>>0,G||se(this,b,w,4,2147483647,-2147483648),this[w]=b&255,this[w+1]=b>>>8,this[w+2]=b>>>16,this[w+3]=b>>>24,w+4},c.prototype.writeInt32BE=function(b,w,G){return b=+b,w=w>>>0,G||se(this,b,w,4,2147483647,-2147483648),b<0&&(b=4294967295+b+1),this[w]=b>>>24,this[w+1]=b>>>16,this[w+2]=b>>>8,this[w+3]=b&255,w+4},c.prototype.writeBigInt64LE=ve(function(b,w=0){return le(this,b,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=ve(function(b,w=0){return U(this,b,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function de(R,b,w,G,ee,ce){if(w+G>R.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function pe(R,b,w,G,ee){return b=+b,w=w>>>0,ee||de(R,b,w,4),n.write(R,b,w,G,23,4),w+4}c.prototype.writeFloatLE=function(b,w,G){return pe(this,b,w,!0,G)},c.prototype.writeFloatBE=function(b,w,G){return pe(this,b,w,!1,G)};function xe(R,b,w,G,ee){return b=+b,w=w>>>0,ee||de(R,b,w,8),n.write(R,b,w,G,52,8),w+8}c.prototype.writeDoubleLE=function(b,w,G){return xe(this,b,w,!0,G)},c.prototype.writeDoubleBE=function(b,w,G){return xe(this,b,w,!1,G)},c.prototype.copy=function(b,w,G,ee){if(!c.isBuffer(b))throw new TypeError("argument should be a Buffer");if(G||(G=0),!ee&&ee!==0&&(ee=this.length),w>=b.length&&(w=b.length),w||(w=0),ee>0&&ee<G&&(ee=G),ee===G||b.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),b.length-w<ee-G&&(ee=b.length-w+G);const ce=ee-G;return this===b&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(w,G,ee):Uint8Array.prototype.set.call(b,this.subarray(G,ee),w),ce},c.prototype.fill=function(b,w,G,ee){if(typeof b=="string"){if(typeof w=="string"?(ee=w,w=0,G=this.length):typeof G=="string"&&(ee=G,G=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!c.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(b.length===1){const ie=b.charCodeAt(0);(ee==="utf8"&&ie<128||ee==="latin1")&&(b=ie)}}else typeof b=="number"?b=b&255:typeof b=="boolean"&&(b=Number(b));if(w<0||this.length<w||this.length<G)throw new RangeError("Out of range index");if(G<=w)return this;w=w>>>0,G=G===void 0?this.length:G>>>0,b||(b=0);let ce;if(typeof b=="number")for(ce=w;ce<G;++ce)this[ce]=b;else{const ie=c.isBuffer(b)?b:c.from(b,ee),Ue=ie.length;if(Ue===0)throw new TypeError('The value "'+b+'" is invalid for argument "value"');for(ce=0;ce<G-w;++ce)this[ce+w]=ie[ce%Ue]}return this};const me={};function ge(R,b,w){me[R]=class extends w{constructor(){super(),Object.defineProperty(this,"message",{value:b.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${R}]`,this.stack,delete this.name}get code(){return R}set code(ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ee,writable:!0})}toString(){return`${this.name} [${R}]: ${this.message}`}}}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(R){return R?`${R} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(R,b){return`The "${R}" argument must be of type number. Received type ${typeof b}`},TypeError),ge("ERR_OUT_OF_RANGE",function(R,b,w){let G=`The value of "${R}" is out of range.`,ee=w;return Number.isInteger(w)&&Math.abs(w)>2**32?ee=I(String(w)):typeof w=="bigint"&&(ee=String(w),(w>BigInt(2)**BigInt(32)||w<-(BigInt(2)**BigInt(32)))&&(ee=I(ee)),ee+="n"),G+=` It must be ${b}. Received ${ee}`,G},RangeError);function I(R){let b="",w=R.length;const G=R[0]==="-"?1:0;for(;w>=G+4;w-=3)b=`_${R.slice(w-3,w)}${b}`;return`${R.slice(0,w)}${b}`}function D(R,b,w){te(b,"offset"),(R[b]===void 0||R[b+w]===void 0)&&W(b,R.length-(w+1))}function L(R,b,w,G,ee,ce){if(R>w||R<b){const ie=typeof b=="bigint"?"n":"";let Ue;throw b===0||b===BigInt(0)?Ue=`>= 0${ie} and < 2${ie} ** ${(ce+1)*8}${ie}`:Ue=`>= -(2${ie} ** ${(ce+1)*8-1}${ie}) and < 2 ** ${(ce+1)*8-1}${ie}`,new me.ERR_OUT_OF_RANGE("value",Ue,R)}D(G,ee,ce)}function te(R,b){if(typeof R!="number")throw new me.ERR_INVALID_ARG_TYPE(b,"number",R)}function W(R,b,w){throw Math.floor(R)!==R?(te(R,w),new me.ERR_OUT_OF_RANGE("offset","an integer",R)):b<0?new me.ERR_BUFFER_OUT_OF_BOUNDS:new me.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${b}`,R)}const ne=/[^+/0-9A-Za-z-_]/g;function T(R){if(R=R.split("=")[0],R=R.trim().replace(ne,""),R.length<2)return"";for(;R.length%4!==0;)R=R+"=";return R}function m(R,b){b=b||1/0;let w;const G=R.length;let ee=null;const ce=[];for(let ie=0;ie<G;++ie){if(w=R.charCodeAt(ie),w>55295&&w<57344){if(!ee){if(w>56319){(b-=3)>-1&&ce.push(239,191,189);continue}else if(ie+1===G){(b-=3)>-1&&ce.push(239,191,189);continue}ee=w;continue}if(w<56320){(b-=3)>-1&&ce.push(239,191,189),ee=w;continue}w=(ee-55296<<10|w-56320)+65536}else ee&&(b-=3)>-1&&ce.push(239,191,189);if(ee=null,w<128){if((b-=1)<0)break;ce.push(w)}else if(w<2048){if((b-=2)<0)break;ce.push(w>>6|192,w&63|128)}else if(w<65536){if((b-=3)<0)break;ce.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((b-=4)<0)break;ce.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return ce}function g(R){const b=[];for(let w=0;w<R.length;++w)b.push(R.charCodeAt(w)&255);return b}function B(R,b){let w,G,ee;const ce=[];for(let ie=0;ie<R.length&&!((b-=2)<0);++ie)w=R.charCodeAt(ie),G=w>>8,ee=w%256,ce.push(ee),ce.push(G);return ce}function q(R){return e.toByteArray(T(R))}function Y(R,b,w,G){let ee;for(ee=0;ee<G&&!(ee+w>=b.length||ee>=R.length);++ee)b[ee+w]=R[ee];return ee}function re(R,b){return R instanceof b||R!=null&&R.constructor!=null&&R.constructor.name!=null&&R.constructor.name===b.name}function fe(R){return R!==R}const Ee=function(){const R="0123456789abcdef",b=new Array(256);for(let w=0;w<16;++w){const G=w*16;for(let ee=0;ee<16;++ee)b[G+ee]=R[w]+R[ee]}return b}();function ve(R){return typeof BigInt>"u"?Ce:R}function Ce(){throw new Error("BigInt not supported")}})(V4);var Bg;(function(t){t[t.SysFatal=1]="SysFatal",t[t.SysTransient=2]="SysTransient",t[t.DestinationInvalid=3]="DestinationInvalid",t[t.CanisterReject=4]="CanisterReject",t[t.CanisterError=5]="CanisterError"})(Bg||(Bg={}));const HU="modulepreload",DU=function(t,e){return new URL(t,e).href},ME={},zU=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),l=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=Promise.allSettled(n.map(u=>{if(u=DU(u,r),u in ME)return;ME[u]=!0;const p=u.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(!!r)for(let f=s.length-1;f>=0;f--){const A=s[f];if(A.href===u&&(!p||A.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${y}`))return;const d=document.createElement("link");if(d.rel=p?"stylesheet":HU,p||(d.as="script"),d.crossOrigin="",d.href=u,l&&d.setAttribute("nonce",l),document.head.appendChild(d),p)return new Promise((f,A)=>{d.addEventListener("load",f),d.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(s){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s}return a.then(s=>{for(const c of s||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},wm="abcdefghijklmnopqrstuvwxyz234567",Jl=Object.create(null);for(let t=0;t<wm.length;t++)Jl[wm[t]]=t;Jl[0]=Jl.o;Jl[1]=Jl.i;function PU(t){let e=0,n=0,r="";function a(i){return e<0?n|=i>>-e:n=i<<e&248,e>3?(e-=8,1):(e<4&&(r+=wm[n>>3],e+=5),0)}for(let i=0;i<t.length;)i+=a(t[i]);return r+(e<0?wm[n>>3]:"")}function GU(t){let e=0,n=0;const r=new Uint8Array(t.length*4/3|0);let a=0;function i(s){let c=Jl[s.toLowerCase()];if(c===void 0)throw new Error(`Invalid character: ${JSON.stringify(s)}`);c<<=3,n|=c>>>e,e+=5,e>=8&&(r[a++]=n,e-=8,e>0?n=c<<5-e&255:n=0)}for(const s of t)i(s);return r.slice(0,a)}const YU=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function KU(t){const e=new Uint8Array(t);let n=-1;for(let r=0;r<e.length;r++){const i=(e[r]^n)&255;n=YU[i]^n>>>8}return(n^-1)>>>0}function LU(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function D4(t,...e){if(!LU(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function qE(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ZU(t,e){D4(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const wo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function jy(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ia(t,e){return t<<32-e|t>>>e}function XU(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function z4(t){return typeof t=="string"&&(t=XU(t)),D4(t),t}class QU{clone(){return this._cloneInto()}}function q2(t){const e=r=>t().update(z4(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function P4(t=32){if(wo&&typeof wo.getRandomValues=="function")return wo.getRandomValues(new Uint8Array(t));if(wo&&typeof wo.randomBytes=="function")return wo.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function JU(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const a=BigInt(32),i=BigInt(4294967295),s=Number(n>>a&i),c=Number(n&i),l=r?4:0,u=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+u,c,r)}function WU(t,e,n){return t&e^~t&n}function eC(t,e,n){return t&e^t&n^e&n}class G4 extends QU{constructor(e,n,r,a){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=jy(this.buffer)}update(e){qE(this);const{view:n,buffer:r,blockLen:a}=this;e=z4(e);const i=e.length;for(let s=0;s<i;){const c=Math.min(a-this.pos,i-s);if(c===a){const l=jy(e);for(;a<=i-s;s+=a)this.process(l,s);continue}r.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===a&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){qE(this),ZU(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:a,isLE:i}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>a-s&&(this.process(r,0),s=0);for(let y=s;y<a;y++)n[y]=0;JU(r,a-8,BigInt(this.length*8),i),this.process(r,0);const c=jy(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,p=this.get();if(u>p.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<u;y++)c.setUint32(4*y,p[y],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:a,finished:i,destroyed:s,pos:c}=this;return e.length=a,e.pos=c,e.finished=i,e.destroyed=s,a%n&&e.buffer.set(r),e}}const tC=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Fi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ji=new Uint32Array(64);class Y4 extends G4{constructor(){super(64,32,8,!1),this.A=Fi[0]|0,this.B=Fi[1]|0,this.C=Fi[2]|0,this.D=Fi[3]|0,this.E=Fi[4]|0,this.F=Fi[5]|0,this.G=Fi[6]|0,this.H=Fi[7]|0}get(){const{A:e,B:n,C:r,D:a,E:i,F:s,G:c,H:l}=this;return[e,n,r,a,i,s,c,l]}set(e,n,r,a,i,s,c,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=a|0,this.E=i|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,n){for(let y=0;y<16;y++,n+=4)ji[y]=e.getUint32(n,!1);for(let y=16;y<64;y++){const h=ji[y-15],d=ji[y-2],f=ia(h,7)^ia(h,18)^h>>>3,A=ia(d,17)^ia(d,19)^d>>>10;ji[y]=A+ji[y-7]+f+ji[y-16]|0}let{A:r,B:a,C:i,D:s,E:c,F:l,G:u,H:p}=this;for(let y=0;y<64;y++){const h=ia(c,6)^ia(c,11)^ia(c,25),d=p+h+WU(c,l,u)+tC[y]+ji[y]|0,A=(ia(r,2)^ia(r,13)^ia(r,22))+eC(r,a,i)|0;p=u,u=l,l=c,c=s+d|0,s=i,i=a,a=r,r=d+A|0}r=r+this.A|0,a=a+this.B|0,i=i+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,u=u+this.G|0,p=p+this.H|0,this.set(r,a,i,s,c,l,u,p)}roundClean(){ji.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class nC extends Y4{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const I2=q2(()=>new Y4),rC=q2(()=>new nC);function aC(t){return rC.create().update(new Uint8Array(t)).digest()}const f0="__principal__",iC=2,IE=4,sC="aaaaa-aa",cC=t=>{var e;return new Uint8Array(((e=t.match(/.{1,2}/g))!==null&&e!==void 0?e:[]).map(n=>parseInt(n,16)))},oC=t=>t.reduce((e,n)=>e+n.toString(16).padStart(2,"0"),"");let je=class L0{constructor(e){this._arr=e,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([IE]))}static managementCanister(){return this.fromHex(sC)}static selfAuthenticating(e){const n=aC(e);return new this(new Uint8Array([...n,iC]))}static from(e){if(typeof e=="string")return L0.fromText(e);if(Object.getPrototypeOf(e)===Uint8Array.prototype)return new L0(e);if(typeof e=="object"&&e!==null&&e._isPrincipal===!0)return new L0(e._arr);throw new Error(`Impossible to convert ${JSON.stringify(e)} to Principal.`)}static fromHex(e){return new this(cC(e))}static fromText(e){let n=e;if(e.includes(f0)){const s=JSON.parse(e);f0 in s&&(n=s[f0])}const r=n.toLowerCase().replace(/-/g,"");let a=GU(r);a=a.slice(4,a.length);const i=new this(a);if(i.toText()!==n)throw new Error(`Principal "${i.toText()}" does not have a valid checksum (original value "${n}" may not be a valid Principal ID).`);return i}static fromUint8Array(e){return new this(e)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===IE}toUint8Array(){return this._arr}toHex(){return oC(this._arr).toUpperCase()}toText(){const e=new ArrayBuffer(4);new DataView(e).setUint32(0,KU(this._arr));const r=new Uint8Array(e),a=Uint8Array.from(this._arr),i=new Uint8Array([...r,...a]),c=PU(i).match(/.{1,5}/g);if(!c)throw new Error;return c.join("-")}toString(){return this.toText()}toJSON(){return{[f0]:this.toText()}}compareTo(e){for(let n=0;n<Math.min(this._arr.length,e._arr.length);n++){if(this._arr[n]<e._arr[n])return"lt";if(this._arr[n]>e._arr[n])return"gt"}return this._arr.length<e._arr.length?"lt":this._arr.length>e._arr.length?"gt":"eq"}ltEq(e){const n=this.compareTo(e);return n=="lt"||n=="eq"}gtEq(e){const n=this.compareTo(e);return n=="gt"||n=="eq"}};function qa(...t){const e=new Uint8Array(t.reduce((r,a)=>r+a.byteLength,0));let n=0;for(const r of t)e.set(new Uint8Array(r),n),n+=r.byteLength;return e.buffer}function sn(t){return[...new Uint8Array(t)].map(e=>e.toString(16).padStart(2,"0")).join("")}const lC=new RegExp(/^[0-9a-fA-F]+$/);function Em(t){if(!lC.test(t))throw new Error("Invalid hexadecimal string.");const e=[...t].reduce((n,r,a)=>(n[a/2|0]=(n[a/2|0]||"")+r,n),[]).map(n=>Number.parseInt(n,16));return new Uint8Array(e).buffer}function K4(t,e){if(t.byteLength!==e.byteLength)return t.byteLength-e.byteLength;const n=new Uint8Array(t),r=new Uint8Array(e);for(let a=0;a<n.length;a++)if(n[a]!==r[a])return n[a]-r[a];return 0}function op(t,e){return K4(t,e)===0}function Z0(t){return new DataView(t.buffer,t.byteOffset,t.byteLength).buffer}function L4(t){return t instanceof Uint8Array?Z0(t):t instanceof ArrayBuffer?t:Array.isArray(t)?Z0(new Uint8Array(t)):"buffer"in t?L4(t.buffer):Z0(new Uint8Array(t))}class Rt extends Error{constructor(e){super(e),this.message=e,this.name="AgentError",this.__proto__=Rt.prototype,Object.setPrototypeOf(this,Rt.prototype)}}function it(...t){const e=new Uint8Array(t.reduce((r,a)=>r+a.byteLength,0));let n=0;for(const r of t)e.set(new Uint8Array(r),n),n+=r.byteLength;return e}class hu{constructor(e,n=(e==null?void 0:e.byteLength)||0){this._buffer=vm(e||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,n)}save(){return this._view}restore(e){this._view=e}get buffer(){return vm(this._view.slice())}get byteLength(){return this._view.byteLength}read(e){const n=this._view.subarray(0,e);return this._view=this._view.subarray(e),n.slice().buffer}readUint8(){const e=this._view[0];return this._view=this._view.subarray(1),e}write(e){const n=new Uint8Array(e),r=this._view.byteLength;this._view.byteOffset+this._view.byteLength+n.byteLength>=this._buffer.byteLength?this.alloc(n.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+n.byteLength),this._view.set(n,r)}get end(){return this._view.byteLength===0}alloc(e){const n=new ArrayBuffer((this._buffer.byteLength+e)*1.2|0),r=new Uint8Array(n,0,this._view.byteLength+e);r.set(this._view),this._buffer=n,this._view=r}}function Vy(t){return new DataView(t.buffer,t.byteOffset,t.byteLength).buffer}function vm(t){return t instanceof Uint8Array?Vy(t):t instanceof ArrayBuffer?t:Array.isArray(t)?Vy(new Uint8Array(t)):"buffer"in t?vm(t.buffer):Vy(new Uint8Array(t))}function uC(t){const n=new TextEncoder().encode(t);let r=0;for(const a of n)r=(r*223+a)%2**32;return r}function Na(t){if(/^_\d+_$/.test(t)||/^_0x[0-9a-fA-F]+_$/.test(t)){const e=+t.slice(1,-1);if(Number.isSafeInteger(e)&&e>=0&&e<2**32)return e}return uC(t)}function Z4(){throw new Error("unexpected end of buffer")}function to(t,e){return t.byteLength<e&&Z4(),t.read(e)}function no(t){const e=t.readUint8();return e===void 0&&Z4(),e}function Ot(t){if(typeof t=="number"&&(t=BigInt(t)),t<BigInt(0))throw new Error("Cannot leb encode negative values.");const e=(t===BigInt(0)?0:Math.ceil(Math.log2(Number(t))))+1,n=new hu(new ArrayBuffer(e),0);for(;;){const r=Number(t&BigInt(127));if(t/=BigInt(128),t===BigInt(0)){n.write(new Uint8Array([r]));break}else n.write(new Uint8Array([r|128]))}return n.buffer}function nn(t){let e=BigInt(1),n=BigInt(0),r;do r=no(t),n+=BigInt(r&127).valueOf()*e,e*=BigInt(128);while(r>=128);return n}function Jt(t){typeof t=="number"&&(t=BigInt(t));const e=t<BigInt(0);e&&(t=-t-BigInt(1));const n=(t===BigInt(0)?0:Math.ceil(Math.log2(Number(t))))+1,r=new hu(new ArrayBuffer(n),0);for(;;){const i=a(t);if(t/=BigInt(128),e&&t===BigInt(0)&&i&64||!e&&t===BigInt(0)&&!(i&64)){r.write(new Uint8Array([i]));break}else r.write(new Uint8Array([i|128]))}function a(i){const s=i%BigInt(128);return Number(e?BigInt(128)-s-BigInt(1):s)}return r.buffer}function Yi(t){const e=new Uint8Array(t.buffer);let n=0;for(;n<e.byteLength;n++)if(e[n]<128){if(!(e[n]&64))return nn(t);break}const r=new Uint8Array(to(t,n+1));let a=BigInt(0);for(let i=r.byteLength-1;i>=0;i--)a=a*BigInt(128)+BigInt(128-(r[i]&127)-1);return-a-BigInt(1)}function fC(t,e){if(BigInt(t)<BigInt(0))throw new Error("Cannot write negative values.");return X4(t,e)}function X4(t,e){t=BigInt(t);const n=new hu(new ArrayBuffer(Math.min(1,e)),0);let r=0,a=BigInt(256),i=BigInt(0),s=Number(t%a);for(n.write(new Uint8Array([s]));++r<e;)t<0&&i===BigInt(0)&&s!==0&&(i=BigInt(1)),s=Number((t/a-i)%BigInt(256)),n.write(new Uint8Array([s])),a*=BigInt(256);return n.buffer}function Q4(t,e){let n=BigInt(no(t)),r=BigInt(1),a=0;for(;++a<e;){r*=BigInt(256);const i=BigInt(no(t));n=n+r*i}return n}function dC(t,e){let n=Q4(t,e);const r=BigInt(2)**(BigInt(8)*BigInt(e-1)+BigInt(7));return n>=r&&(n-=r*BigInt(2)),n}function Rg(t){const e=BigInt(t);if(t<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<e}const X0="DIDL",$E=400;function Pf(t,e,n){return t.map((r,a)=>n(r,e[a]))}class hC{constructor(){this._typs=[],this._idx=new Map}has(e){return this._idx.has(e.name)}add(e,n){const r=this._typs.length;this._idx.set(e.name,r),this._typs.push(n)}merge(e,n){const r=this._idx.get(e.name),a=this._idx.get(n);if(r===void 0)throw new Error("Missing type index for "+e);if(a===void 0)throw new Error("Missing type index for "+n);this._typs[r]=this._typs[a],this._typs.splice(a,1),this._idx.delete(n)}encode(){const e=Ot(this._typs.length),n=it(...this._typs);return it(e,n)}indexOf(e){if(!this._idx.has(e))throw new Error("Missing type index for "+e);return Jt(this._idx.get(e)||0)}}class mC{visitType(e,n){throw new Error("Not implemented")}visitPrimitive(e,n){return this.visitType(e,n)}visitEmpty(e,n){return this.visitPrimitive(e,n)}visitBool(e,n){return this.visitPrimitive(e,n)}visitNull(e,n){return this.visitPrimitive(e,n)}visitReserved(e,n){return this.visitPrimitive(e,n)}visitText(e,n){return this.visitPrimitive(e,n)}visitNumber(e,n){return this.visitPrimitive(e,n)}visitInt(e,n){return this.visitNumber(e,n)}visitNat(e,n){return this.visitNumber(e,n)}visitFloat(e,n){return this.visitPrimitive(e,n)}visitFixedInt(e,n){return this.visitNumber(e,n)}visitFixedNat(e,n){return this.visitNumber(e,n)}visitPrincipal(e,n){return this.visitPrimitive(e,n)}visitConstruct(e,n){return this.visitType(e,n)}visitVec(e,n,r){return this.visitConstruct(e,r)}visitOpt(e,n,r){return this.visitConstruct(e,r)}visitRecord(e,n,r){return this.visitConstruct(e,r)}visitTuple(e,n,r){const a=n.map((i,s)=>[`_${s}_`,i]);return this.visitRecord(e,a,r)}visitVariant(e,n,r){return this.visitConstruct(e,r)}visitRec(e,n,r){return this.visitConstruct(n,r)}visitFunc(e,n){return this.visitConstruct(e,n)}visitService(e,n){return this.visitConstruct(e,n)}}class lp{display(){return this.name}valueToString(e){return Ft(e)}buildTypeTable(e){e.has(this)||this._buildTypeTableImpl(e)}}class $r extends lp{checkType(e){if(this.name!==e.name)throw new Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`);return e}_buildTypeTableImpl(e){}}class ec extends lp{checkType(e){if(e instanceof Ri){const n=e.getType();if(typeof n>"u")throw new Error("type mismatch with uninitialized type");return n}throw new Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`)}encodeType(e){return e.indexOf(this.name)}}class J4 extends $r{accept(e,n){return e.visitEmpty(this,n)}covariant(e){throw new Error(`Invalid ${this.display()} argument: ${Ft(e)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return Jt(-17)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}}class W4 extends lp{checkType(e){throw new Error("Method not implemented for unknown.")}accept(e,n){throw e.visitType(this,n)}covariant(e){throw new Error(`Invalid ${this.display()} argument: ${Ft(e)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(e,n){let r=n.decodeValue(e,n);Object(r)!==r&&(r=Object(r));let a;return n instanceof Ri?a=()=>n.getType():a=()=>n,Object.defineProperty(r,"type",{value:a,writable:!0,enumerable:!1,configurable:!0}),r}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class e5 extends $r{accept(e,n){return e.visitBool(this,n)}covariant(e){if(typeof e=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${Ft(e)}`)}encodeValue(e){return new Uint8Array([e?1:0])}encodeType(){return Jt(-2)}decodeValue(e,n){switch(this.checkType(n),no(e)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}}class _m extends $r{accept(e,n){return e.visitNull(this,n)}covariant(e){if(e===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ft(e)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return Jt(-1)}decodeValue(e,n){return this.checkType(n),null}get name(){return"null"}}class Wl extends $r{accept(e,n){return e.visitReserved(this,n)}covariant(e){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return Jt(-16)}decodeValue(e,n){return n.name!==this.name&&n.decodeValue(e,n),null}get name(){return"reserved"}}class t5 extends $r{accept(e,n){return e.visitText(this,n)}covariant(e){if(typeof e=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${Ft(e)}`)}encodeValue(e){const n=new TextEncoder().encode(e),r=Ot(n.byteLength);return it(r,n)}encodeType(){return Jt(-15)}decodeValue(e,n){this.checkType(n);const r=nn(e),a=to(e,Number(r));return new TextDecoder("utf8",{fatal:!0}).decode(a)}get name(){return"text"}valueToString(e){return'"'+e+'"'}}class n5 extends $r{accept(e,n){return e.visitInt(this,n)}covariant(e){if(typeof e=="bigint"||Number.isInteger(e))return!0;throw new Error(`Invalid ${this.display()} argument: ${Ft(e)}`)}encodeValue(e){return Jt(e)}encodeType(){return Jt(-4)}decodeValue(e,n){return this.checkType(n),Yi(e)}get name(){return"int"}valueToString(e){return e.toString()}}class r5 extends $r{accept(e,n){return e.visitNat(this,n)}covariant(e){if(typeof e=="bigint"&&e>=BigInt(0)||Number.isInteger(e)&&e>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ft(e)}`)}encodeValue(e){return Ot(e)}encodeType(){return Jt(-3)}decodeValue(e,n){return this.checkType(n),nn(e)}get name(){return"nat"}valueToString(e){return e.toString()}}class $2 extends $r{constructor(e){if(super(),this._bits=e,e!==32&&e!==64)throw new Error("not a valid float type")}accept(e,n){return e.visitFloat(this,n)}covariant(e){if(typeof e=="number"||e instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ft(e)}`)}encodeValue(e){const n=new ArrayBuffer(this._bits/8),r=new DataView(n);return this._bits===32?r.setFloat32(0,e,!0):r.setFloat64(0,e,!0),n}encodeType(){const e=this._bits===32?-13:-14;return Jt(e)}decodeValue(e,n){this.checkType(n);const r=to(e,this._bits/8),a=new DataView(r);return this._bits===32?a.getFloat32(0,!0):a.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(e){return e.toString()}}class ro extends $r{constructor(e){super(),this._bits=e}accept(e,n){return e.visitFixedInt(this,n)}covariant(e){const n=Rg(this._bits-1)*BigInt(-1),r=Rg(this._bits-1)-BigInt(1);let a=!1;if(typeof e=="bigint")a=e>=n&&e<=r;else if(Number.isInteger(e)){const i=BigInt(e);a=i>=n&&i<=r}else a=!1;if(a)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ft(e)}`)}encodeValue(e){return X4(e,this._bits/8)}encodeType(){const e=Math.log2(this._bits)-3;return Jt(-9-e)}decodeValue(e,n){this.checkType(n);const r=dC(e,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`int${this._bits}`}valueToString(e){return e.toString()}}class zs extends $r{constructor(e){super(),this._bits=e}accept(e,n){return e.visitFixedNat(this,n)}covariant(e){const n=Rg(this._bits);let r=!1;if(typeof e=="bigint"&&e>=BigInt(0)?r=e<n:Number.isInteger(e)&&e>=0?r=BigInt(e)<n:r=!1,r)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ft(e)}`)}encodeValue(e){return fC(e,this._bits/8)}encodeType(){const e=Math.log2(this._bits)-3;return Jt(-5-e)}decodeValue(e,n){this.checkType(n);const r=Q4(e,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`nat${this._bits}`}valueToString(e){return e.toString()}}class up extends ec{constructor(e){super(),this._type=e,this._blobOptimization=!1,e instanceof zs&&e._bits===8&&(this._blobOptimization=!0)}accept(e,n){return e.visitVec(this,this._type,n)}covariant(e){const n=this._type instanceof zs?this._type._bits:this._type instanceof ro?this._type._bits:0;if(ArrayBuffer.isView(e)&&n==e.BYTES_PER_ELEMENT*8||Array.isArray(e)&&e.every((r,a)=>{try{return this._type.covariant(r)}catch(i){throw new Error(`Invalid ${this.display()} argument: 

index ${a} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Ft(e)}`)}encodeValue(e){const n=Ot(e.length);if(this._blobOptimization)return it(n,new Uint8Array(e));if(ArrayBuffer.isView(e))return it(n,new Uint8Array(e.buffer));const r=new hu(new ArrayBuffer(n.byteLength+e.length),0);r.write(n);for(const a of e){const i=this._type.encodeValue(a);r.write(new Uint8Array(i))}return r.buffer}_buildTypeTableImpl(e){this._type.buildTypeTable(e);const n=Jt(-19),r=this._type.encodeType(e);e.add(this,it(n,r))}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof up))throw new Error("Not a vector type");const a=Number(nn(e));if(this._type instanceof zs){if(this._type._bits==8)return new Uint8Array(e.read(a));if(this._type._bits==16)return new Uint16Array(e.read(a*2));if(this._type._bits==32)return new Uint32Array(e.read(a*4));if(this._type._bits==64)return new BigUint64Array(e.read(a*8))}if(this._type instanceof ro){if(this._type._bits==8)return new Int8Array(e.read(a));if(this._type._bits==16)return new Int16Array(e.read(a*2));if(this._type._bits==32)return new Int32Array(e.read(a*4));if(this._type._bits==64)return new BigInt64Array(e.read(a*8))}const i=[];for(let s=0;s<a;s++)i.push(this._type.decodeValue(e,r._type));return i}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(e){return"vec {"+e.map(r=>this._type.valueToString(r)).join("; ")+"}"}}class ao extends ec{constructor(e){super(),this._type=e}accept(e,n){return e.visitOpt(this,this._type,n)}covariant(e){try{if(Array.isArray(e)&&(e.length===0||e.length===1&&this._type.covariant(e[0])))return!0}catch(n){throw new Error(`Invalid ${this.display()} argument: ${Ft(e)} 

-> ${n.message}`)}throw new Error(`Invalid ${this.display()} argument: ${Ft(e)}`)}encodeValue(e){return e.length===0?new Uint8Array([0]):it(new Uint8Array([1]),this._type.encodeValue(e[0]))}_buildTypeTableImpl(e){this._type.buildTypeTable(e);const n=Jt(-18),r=this._type.encodeType(e);e.add(this,it(n,r))}decodeValue(e,n){if(n instanceof _m)return[];if(n instanceof Wl)return[];let r=n;if(n instanceof Ri){const a=n.getType();if(typeof a>"u")throw new Error("type mismatch with uninitialized type");r=a}if(r instanceof ao)switch(no(e)){case 0:return[];case 1:{const a=e.save();try{return[this._type.decodeValue(e,r._type)]}catch{return e.restore(a),r._type.decodeValue(e,r._type),[]}}default:throw new Error("Not an option value")}else{if(this._type instanceof _m||this._type instanceof ao||this._type instanceof Wl)return r.decodeValue(e,r),[];{const a=e.save();try{return[this._type.decodeValue(e,n)]}catch{return e.restore(a),r.decodeValue(e,n),[]}}}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(e){return e.length===0?"null":`opt ${this._type.valueToString(e[0])}`}}class Id extends ec{constructor(e={}){super(),this._fields=Object.entries(e).sort((n,r)=>Na(n[0])-Na(r[0]))}accept(e,n){return e.visitRecord(this,this._fields,n)}tryAsTuple(){const e=[];for(let n=0;n<this._fields.length;n++){const[r,a]=this._fields[n];if(r!==`_${n}_`)return null;e.push(a)}return e}covariant(e){if(typeof e=="object"&&this._fields.every(([n,r])=>{if(!e.hasOwnProperty(n))throw new Error(`Record is missing key "${n}".`);try{return r.covariant(e[n])}catch(a){throw new Error(`Invalid ${this.display()} argument: 

field ${n} -> ${a.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Ft(e)}`)}encodeValue(e){const n=this._fields.map(([a])=>e[a]),r=Pf(this._fields,n,([,a],i)=>a.encodeValue(i));return it(...r)}_buildTypeTableImpl(e){this._fields.forEach(([i,s])=>s.buildTypeTable(e));const n=Jt(-20),r=Ot(this._fields.length),a=this._fields.map(([i,s])=>it(Ot(Na(i)),s.encodeType(e)));e.add(this,it(n,r,it(...a)))}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof Id))throw new Error("Not a record type");const a={};let i=0,s=0;for(;s<r._fields.length;){const[c,l]=r._fields[s];if(i>=this._fields.length){l.decodeValue(e,l),s++;continue}const[u,p]=this._fields[i],y=Na(this._fields[i][0]),h=Na(c);if(y===h)a[u]=p.decodeValue(e,l),i++,s++;else if(h>y)if(p instanceof ao||p instanceof Wl)a[u]=[],i++;else throw new Error("Cannot find required field "+u);else l.decodeValue(e,l),s++}for(const[c,l]of this._fields.slice(i))if(l instanceof ao||l instanceof Wl)a[c]=[];else throw new Error("Cannot find required field "+c);return a}get name(){return`record {${this._fields.map(([n,r])=>n+":"+r.name).join("; ")}}`}display(){return`record {${this._fields.map(([n,r])=>n+":"+r.display()).join("; ")}}`}valueToString(e){const n=this._fields.map(([a])=>e[a]);return`record {${Pf(this._fields,n,([a,i],s)=>a+"="+i.valueToString(s)).join("; ")}}`}}class fp extends Id{constructor(e){const n={};e.forEach((r,a)=>n["_"+a+"_"]=r),super(n),this._components=e}accept(e,n){return e.visitTuple(this,this._components,n)}covariant(e){if(Array.isArray(e)&&e.length>=this._fields.length&&this._components.every((n,r)=>{try{return n.covariant(e[r])}catch(a){throw new Error(`Invalid ${this.display()} argument: 

index ${r} -> ${a.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Ft(e)}`)}encodeValue(e){const n=Pf(this._components,e,(r,a)=>r.encodeValue(a));return it(...n)}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof fp))throw new Error("not a tuple type");if(r._components.length<this._components.length)throw new Error("tuple mismatch");const a=[];for(const[i,s]of r._components.entries())i>=this._components.length?s.decodeValue(e,s):a.push(this._components[i].decodeValue(e,s));return a}display(){return`record {${this._components.map(n=>n.display()).join("; ")}}`}valueToString(e){return`record {${Pf(this._components,e,(r,a)=>r.valueToString(a)).join("; ")}}`}}class dp extends ec{constructor(e={}){super(),this._fields=Object.entries(e).sort((n,r)=>Na(n[0])-Na(r[0]))}accept(e,n){return e.visitVariant(this,this._fields,n)}covariant(e){if(typeof e=="object"&&Object.entries(e).length===1&&this._fields.every(([n,r])=>{try{return!e.hasOwnProperty(n)||r.covariant(e[n])}catch(a){throw new Error(`Invalid ${this.display()} argument: 

variant ${n} -> ${a.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Ft(e)}`)}encodeValue(e){for(let n=0;n<this._fields.length;n++){const[r,a]=this._fields[n];if(e.hasOwnProperty(r)){const i=Ot(n),s=a.encodeValue(e[r]);return it(i,s)}}throw Error("Variant has no data: "+e)}_buildTypeTableImpl(e){this._fields.forEach(([,i])=>{i.buildTypeTable(e)});const n=Jt(-21),r=Ot(this._fields.length),a=this._fields.map(([i,s])=>it(Ot(Na(i)),s.encodeType(e)));e.add(this,it(n,r,...a))}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof dp))throw new Error("Not a variant type");const a=Number(nn(e));if(a>=r._fields.length)throw Error("Invalid variant index: "+a);const[i,s]=r._fields[a];for(const[c,l]of this._fields)if(Na(i)===Na(c)){const u=l.decodeValue(e,s);return{[c]:u}}throw new Error("Cannot find field hash "+i)}get name(){return`variant {${this._fields.map(([n,r])=>n+":"+r.name).join("; ")}}`}display(){return`variant {${this._fields.map(([n,r])=>n+(r.name==="null"?"":`:${r.display()}`)).join("; ")}}`}valueToString(e){for(const[n,r]of this._fields)if(e.hasOwnProperty(n)){const a=r.valueToString(e[n]);return a==="null"?`variant {${n}}`:`variant {${n}=${a}}`}throw new Error("Variant has no data: "+e)}}class Ri extends ec{constructor(){super(...arguments),this._id=Ri._counter++,this._type=void 0}accept(e,n){if(!this._type)throw Error("Recursive type uninitialized.");return e.visitRec(this,this._type,n)}fill(e){this._type=e}getType(){return this._type}covariant(e){if(this._type&&this._type.covariant(e))return!0;throw new Error(`Invalid ${this.display()} argument: ${Ft(e)}`)}encodeValue(e){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(e)}_buildTypeTableImpl(e){if(!this._type)throw Error("Recursive type uninitialized.");e.add(this,new Uint8Array([])),this._type.buildTypeTable(e),e.merge(this,this._type.name)}decodeValue(e,n){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(e,n)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`${this.name}.${this._type.name}`}valueToString(e){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(e)}}Ri._counter=0;function k2(t){if(no(t)!==1)throw new Error("Cannot decode principal");const n=Number(nn(t));return je.fromUint8Array(new Uint8Array(to(t,n)))}class a5 extends $r{accept(e,n){return e.visitPrincipal(this,n)}covariant(e){if(e&&e._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ft(e)}`)}encodeValue(e){const n=e.toUint8Array(),r=Ot(n.byteLength);return it(new Uint8Array([1]),r,n)}encodeType(){return Jt(-24)}decodeValue(e,n){return this.checkType(n),k2(e)}get name(){return"principal"}valueToString(e){return`${this.name} "${e.toText()}"`}}class F2 extends ec{constructor(e,n,r=[]){super(),this.argTypes=e,this.retTypes=n,this.annotations=r}static argsToString(e,n){if(e.length!==n.length)throw new Error("arity mismatch");return"("+e.map((r,a)=>r.valueToString(n[a])).join(", ")+")"}accept(e,n){return e.visitFunc(this,n)}covariant(e){if(Array.isArray(e)&&e.length===2&&e[0]&&e[0]._isPrincipal&&typeof e[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${Ft(e)}`)}encodeValue([e,n]){const r=e.toUint8Array(),a=Ot(r.byteLength),i=it(new Uint8Array([1]),a,r),s=new TextEncoder().encode(n),c=Ot(s.byteLength);return it(new Uint8Array([1]),i,c,s)}_buildTypeTableImpl(e){this.argTypes.forEach(u=>u.buildTypeTable(e)),this.retTypes.forEach(u=>u.buildTypeTable(e));const n=Jt(-22),r=Ot(this.argTypes.length),a=it(...this.argTypes.map(u=>u.encodeType(e))),i=Ot(this.retTypes.length),s=it(...this.retTypes.map(u=>u.encodeType(e))),c=Ot(this.annotations.length),l=it(...this.annotations.map(u=>this.encodeAnnotation(u)));e.add(this,it(n,r,a,i,s,c,l))}decodeValue(e){if(no(e)!==1)throw new Error("Cannot decode function reference");const r=k2(e),a=Number(nn(e)),i=to(e,a),c=new TextDecoder("utf8",{fatal:!0}).decode(i);return[r,c]}get name(){const e=this.argTypes.map(a=>a.name).join(", "),n=this.retTypes.map(a=>a.name).join(", "),r=" "+this.annotations.join(" ");return`(${e}) -> (${n})${r}`}valueToString([e,n]){return`func "${e.toText()}".${n}`}display(){const e=this.argTypes.map(a=>a.display()).join(", "),n=this.retTypes.map(a=>a.display()).join(", "),r=" "+this.annotations.join(" ");return`(${e})  (${n})${r}`}encodeAnnotation(e){if(e==="query")return new Uint8Array([1]);if(e==="oneway")return new Uint8Array([2]);if(e==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}}class i5 extends ec{constructor(e){super(),this._fields=Object.entries(e).sort((n,r)=>n[0]<r[0]?-1:n[0]>r[0]?1:0)}accept(e,n){return e.visitService(this,n)}covariant(e){if(e&&e._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ft(e)}`)}encodeValue(e){const n=e.toUint8Array(),r=Ot(n.length);return it(new Uint8Array([1]),r,n)}_buildTypeTableImpl(e){this._fields.forEach(([i,s])=>s.buildTypeTable(e));const n=Jt(-23),r=Ot(this._fields.length),a=this._fields.map(([i,s])=>{const c=new TextEncoder().encode(i),l=Ot(c.length);return it(l,c,s.encodeType(e))});e.add(this,it(n,r,...a))}decodeValue(e){return k2(e)}get name(){return`service {${this._fields.map(([n,r])=>n+":"+r.name).join("; ")}}`}valueToString(e){return`service "${e.toText()}"`}}function Ft(t){const e=JSON.stringify(t,(n,r)=>typeof r=="bigint"?`BigInt(${r})`:r);return e&&e.length>$E?e.substring(0,$E-3)+"...":e}function Og(t,e){if(e.length<t.length)throw Error("Wrong number of message arguments");const n=new hC;t.forEach(l=>l.buildTypeTable(n));const r=new TextEncoder().encode(X0),a=n.encode(),i=Ot(e.length),s=it(...t.map(l=>l.encodeType(n))),c=it(...Pf(t,e,(l,u)=>{try{l.covariant(u)}catch(p){throw new Error(p.message+`

`)}return l.encodeValue(u)}));return it(r,a,i,s,c)}function s5(t,e){const n=new hu(e);if(e.byteLength<X0.length)throw new Error("Message length smaller than magic number");const r=to(n,X0.length),a=new TextDecoder().decode(r);if(a!==X0)throw new Error("Wrong magic number: "+JSON.stringify(a));function i(d){const f=[],A=Number(nn(d));for(let x=0;x<A;x++){const _=Number(Yi(d));switch(_){case-18:case-19:{const M=Number(Yi(d));f.push([_,M]);break}case-20:case-21:{const M=[];let S=Number(nn(d)),H;for(;S--;){const z=Number(nn(d));if(z>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof H=="number"&&H>=z)throw new Error("field id collision or not sorted");H=z;const K=Number(Yi(d));M.push([z,K])}f.push([_,M]);break}case-22:{const M=[];let S=Number(nn(d));for(;S--;)M.push(Number(Yi(d)));const H=[];let z=Number(nn(d));for(;z--;)H.push(Number(Yi(d)));const K=[];let Z=Number(nn(d));for(;Z--;)switch(Number(nn(d))){case 1:{K.push("query");break}case 2:{K.push("oneway");break}case 3:{K.push("composite_query");break}default:throw new Error("unknown annotation")}f.push([_,[M,H,K]]);break}case-23:{let M=Number(nn(d));const S=[];for(;M--;){const H=Number(nn(d)),z=new TextDecoder().decode(to(d,H)),K=Yi(d);S.push([z,K])}f.push([_,S]);break}default:throw new Error("Illegal op_code: "+_)}}const N=[],v=Number(nn(d));for(let x=0;x<v;x++)N.push(Number(Yi(d)));return[f,N]}const[s,c]=i(n);if(c.length<t.length)throw new Error("Wrong number of return values");const l=s.map(d=>O5());function u(d){if(d<-24)throw new Error("future value not supported");if(d<0)switch(d){case-1:return u5;case-2:return l5;case-3:return h5;case-4:return d5;case-5:return w5;case-6:return E5;case-7:return v5;case-8:return _5;case-9:return y5;case-10:return g5;case-11:return b5;case-12:return x5;case-13:return m5;case-14:return p5;case-15:return f5;case-16:return o5;case-17:return c5;case-24:return N5;default:throw new Error("Illegal op_code: "+d)}if(d>=s.length)throw new Error("type index out of range");return l[d]}function p(d){switch(d[0]){case-19:{const f=u(d[1]);return T5(f)}case-18:{const f=u(d[1]);return A5(f)}case-20:{const f={};for(const[v,x]of d[1]){const _=`_${v}_`;f[_]=u(x)}const A=B5(f),N=A.tryAsTuple();return Array.isArray(N)?S5(...N):A}case-21:{const f={};for(const[A,N]of d[1]){const v=`_${A}_`;f[v]=u(N)}return R5(f)}case-22:{const[f,A,N]=d[1];return U5(f.map(v=>u(v)),A.map(v=>u(v)),N)}case-23:{const f={},A=d[1];for(const[N,v]of A){let x=u(v);if(x instanceof Ri&&(x=x.getType()),!(x instanceof F2))throw new Error("Illegal service definition: services can only contain functions");f[N]=x}return C5(f)}default:throw new Error("Illegal op_code: "+d[0])}}s.forEach((d,f)=>{if(d[0]===-22){const A=p(d);l[f].fill(A)}}),s.forEach((d,f)=>{if(d[0]!==-22){const A=p(d);l[f].fill(A)}});const y=c.map(d=>u(d)),h=t.map((d,f)=>d.decodeValue(n,y[f]));for(let d=t.length;d<y.length;d++)y[d].decodeValue(n,y[d]);if(n.byteLength>0)throw new Error("decode: Left-over bytes");return h}const c5=new J4,o5=new Wl,pC=new W4,l5=new e5,u5=new _m,f5=new t5,d5=new n5,h5=new r5,m5=new $2(32),p5=new $2(64),y5=new ro(8),g5=new ro(16),b5=new ro(32),x5=new ro(64),w5=new zs(8),E5=new zs(16),v5=new zs(32),_5=new zs(64),N5=new a5;function S5(...t){return new fp(t)}function T5(t){return new up(t)}function A5(t){return new ao(t)}function B5(t){return new Id(t)}function R5(t){return new dp(t)}function O5(){return new Ri}function U5(t,e,n=[]){return new F2(t,e,n)}function C5(t){return new i5(t)}const yC=Object.freeze(Object.defineProperty({__proto__:null,Bool:l5,BoolClass:e5,ConstructType:ec,Empty:c5,EmptyClass:J4,FixedIntClass:ro,FixedNatClass:zs,Float32:m5,Float64:p5,FloatClass:$2,Func:U5,FuncClass:F2,Int:d5,Int16:g5,Int32:b5,Int64:x5,Int8:y5,IntClass:n5,Nat:h5,Nat16:E5,Nat32:v5,Nat64:_5,Nat8:w5,NatClass:r5,Null:u5,NullClass:_m,Opt:A5,OptClass:ao,PrimitiveType:$r,Principal:N5,PrincipalClass:a5,Rec:O5,RecClass:Ri,Record:B5,RecordClass:Id,Reserved:o5,ReservedClass:Wl,Service:C5,ServiceClass:i5,Text:f5,TextClass:t5,Tuple:S5,TupleClass:fp,Type:lp,Unknown:pC,UnknownClass:W4,Variant:R5,VariantClass:dp,Vec:T5,VecClass:up,Visitor:mC,decode:s5,encode:Og},Symbol.toStringTag,{value:"Module"}));var M5={},$d={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var e=Md,n=qd,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=x,t.INSPECT_MAX_BYTES=50;var a=2147483647;t.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=i(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var T=new Uint8Array(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,Uint8Array.prototype),Object.setPrototypeOf(T,m),T.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function s(T){if(T>a)throw new RangeError('The value "'+T+'" is invalid for option "size"');var m=new Uint8Array(T);return Object.setPrototypeOf(m,c.prototype),m}function c(T,m,g){if(typeof T=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(T)}return l(T,m,g)}c.poolSize=8192;function l(T,m,g){if(typeof T=="string")return h(T,m);if(ArrayBuffer.isView(T))return f(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(te(T,ArrayBuffer)||T&&te(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(te(T,SharedArrayBuffer)||T&&te(T.buffer,SharedArrayBuffer)))return A(T,m,g);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var B=T.valueOf&&T.valueOf();if(B!=null&&B!==T)return c.from(B,m,g);var q=N(T);if(q)return q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return c.from(T[Symbol.toPrimitive]("string"),m,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}c.from=function(T,m,g){return l(T,m,g)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function u(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function p(T,m,g){return u(T),T<=0?s(T):m!==void 0?typeof g=="string"?s(T).fill(m,g):s(T).fill(m):s(T)}c.alloc=function(T,m,g){return p(T,m,g)};function y(T){return u(T),s(T<0?0:v(T)|0)}c.allocUnsafe=function(T){return y(T)},c.allocUnsafeSlow=function(T){return y(T)};function h(T,m){if((typeof m!="string"||m==="")&&(m="utf8"),!c.isEncoding(m))throw new TypeError("Unknown encoding: "+m);var g=_(T,m)|0,B=s(g),q=B.write(T,m);return q!==g&&(B=B.slice(0,q)),B}function d(T){for(var m=T.length<0?0:v(T.length)|0,g=s(m),B=0;B<m;B+=1)g[B]=T[B]&255;return g}function f(T){if(te(T,Uint8Array)){var m=new Uint8Array(T);return A(m.buffer,m.byteOffset,m.byteLength)}return d(T)}function A(T,m,g){if(m<0||T.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<m+(g||0))throw new RangeError('"length" is outside of buffer bounds');var B;return m===void 0&&g===void 0?B=new Uint8Array(T):g===void 0?B=new Uint8Array(T,m):B=new Uint8Array(T,m,g),Object.setPrototypeOf(B,c.prototype),B}function N(T){if(c.isBuffer(T)){var m=v(T.length)|0,g=s(m);return g.length===0||T.copy(g,0,0,m),g}if(T.length!==void 0)return typeof T.length!="number"||W(T.length)?s(0):d(T);if(T.type==="Buffer"&&Array.isArray(T.data))return d(T.data)}function v(T){if(T>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return T|0}function x(T){return+T!=T&&(T=0),c.alloc(+T)}c.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==c.prototype},c.compare=function(m,g){if(te(m,Uint8Array)&&(m=c.from(m,m.offset,m.byteLength)),te(g,Uint8Array)&&(g=c.from(g,g.offset,g.byteLength)),!c.isBuffer(m)||!c.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===g)return 0;for(var B=m.length,q=g.length,Y=0,re=Math.min(B,q);Y<re;++Y)if(m[Y]!==g[Y]){B=m[Y],q=g[Y];break}return B<q?-1:q<B?1:0},c.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(m,g){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return c.alloc(0);var B;if(g===void 0)for(g=0,B=0;B<m.length;++B)g+=m[B].length;var q=c.allocUnsafe(g),Y=0;for(B=0;B<m.length;++B){var re=m[B];if(te(re,Uint8Array))Y+re.length>q.length?c.from(re).copy(q,Y):Uint8Array.prototype.set.call(q,re,Y);else if(c.isBuffer(re))re.copy(q,Y);else throw new TypeError('"list" argument must be an Array of Buffers');Y+=re.length}return q};function _(T,m){if(c.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||te(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);var g=T.length,B=arguments.length>2&&arguments[2]===!0;if(!B&&g===0)return 0;for(var q=!1;;)switch(m){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return me(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return D(T).length;default:if(q)return B?-1:me(T).length;m=(""+m).toLowerCase(),q=!0}}c.byteLength=_;function M(T,m,g){var B=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,m>>>=0,g<=m))return"";for(T||(T="utf8");;)switch(T){case"hex":return Q(this,m,g);case"utf8":case"utf-8":return O(this,m,g);case"ascii":return V(this,m,g);case"latin1":case"binary":return F(this,m,g);case"base64":return E(this,m,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,m,g);default:if(B)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),B=!0}}c.prototype._isBuffer=!0;function S(T,m,g){var B=T[m];T[m]=T[g],T[g]=B}c.prototype.swap16=function(){var m=this.length;if(m%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var g=0;g<m;g+=2)S(this,g,g+1);return this},c.prototype.swap32=function(){var m=this.length;if(m%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var g=0;g<m;g+=4)S(this,g,g+3),S(this,g+1,g+2);return this},c.prototype.swap64=function(){var m=this.length;if(m%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var g=0;g<m;g+=8)S(this,g,g+7),S(this,g+1,g+6),S(this,g+2,g+5),S(this,g+3,g+4);return this},c.prototype.toString=function(){var m=this.length;return m===0?"":arguments.length===0?O(this,0,m):M.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(m){if(!c.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:c.compare(this,m)===0},c.prototype.inspect=function(){var m="",g=t.INSPECT_MAX_BYTES;return m=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(m+=" ... "),"<Buffer "+m+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(m,g,B,q,Y){if(te(m,Uint8Array)&&(m=c.from(m,m.offset,m.byteLength)),!c.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(g===void 0&&(g=0),B===void 0&&(B=m?m.length:0),q===void 0&&(q=0),Y===void 0&&(Y=this.length),g<0||B>m.length||q<0||Y>this.length)throw new RangeError("out of range index");if(q>=Y&&g>=B)return 0;if(q>=Y)return-1;if(g>=B)return 1;if(g>>>=0,B>>>=0,q>>>=0,Y>>>=0,this===m)return 0;for(var re=Y-q,fe=B-g,Ee=Math.min(re,fe),ve=this.slice(q,Y),Ce=m.slice(g,B),R=0;R<Ee;++R)if(ve[R]!==Ce[R]){re=ve[R],fe=Ce[R];break}return re<fe?-1:fe<re?1:0};function H(T,m,g,B,q){if(T.length===0)return-1;if(typeof g=="string"?(B=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,W(g)&&(g=q?0:T.length-1),g<0&&(g=T.length+g),g>=T.length){if(q)return-1;g=T.length-1}else if(g<0)if(q)g=0;else return-1;if(typeof m=="string"&&(m=c.from(m,B)),c.isBuffer(m))return m.length===0?-1:z(T,m,g,B,q);if(typeof m=="number")return m=m&255,typeof Uint8Array.prototype.indexOf=="function"?q?Uint8Array.prototype.indexOf.call(T,m,g):Uint8Array.prototype.lastIndexOf.call(T,m,g):z(T,[m],g,B,q);throw new TypeError("val must be string, number or Buffer")}function z(T,m,g,B,q){var Y=1,re=T.length,fe=m.length;if(B!==void 0&&(B=String(B).toLowerCase(),B==="ucs2"||B==="ucs-2"||B==="utf16le"||B==="utf-16le")){if(T.length<2||m.length<2)return-1;Y=2,re/=2,fe/=2,g/=2}function Ee(w,G){return Y===1?w[G]:w.readUInt16BE(G*Y)}var ve;if(q){var Ce=-1;for(ve=g;ve<re;ve++)if(Ee(T,ve)===Ee(m,Ce===-1?0:ve-Ce)){if(Ce===-1&&(Ce=ve),ve-Ce+1===fe)return Ce*Y}else Ce!==-1&&(ve-=ve-Ce),Ce=-1}else for(g+fe>re&&(g=re-fe),ve=g;ve>=0;ve--){for(var R=!0,b=0;b<fe;b++)if(Ee(T,ve+b)!==Ee(m,b)){R=!1;break}if(R)return ve}return-1}c.prototype.includes=function(m,g,B){return this.indexOf(m,g,B)!==-1},c.prototype.indexOf=function(m,g,B){return H(this,m,g,B,!0)},c.prototype.lastIndexOf=function(m,g,B){return H(this,m,g,B,!1)};function K(T,m,g,B){g=Number(g)||0;var q=T.length-g;B?(B=Number(B),B>q&&(B=q)):B=q;var Y=m.length;B>Y/2&&(B=Y/2);for(var re=0;re<B;++re){var fe=parseInt(m.substr(re*2,2),16);if(W(fe))return re;T[g+re]=fe}return re}function Z(T,m,g,B){return L(me(m,T.length-g),T,g,B)}function k(T,m,g,B){return L(ge(m),T,g,B)}function P(T,m,g,B){return L(D(m),T,g,B)}function X(T,m,g,B){return L(I(m,T.length-g),T,g,B)}c.prototype.write=function(m,g,B,q){if(g===void 0)q="utf8",B=this.length,g=0;else if(B===void 0&&typeof g=="string")q=g,B=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(B)?(B=B>>>0,q===void 0&&(q="utf8")):(q=B,B=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Y=this.length-g;if((B===void 0||B>Y)&&(B=Y),m.length>0&&(B<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");for(var re=!1;;)switch(q){case"hex":return K(this,m,g,B);case"utf8":case"utf-8":return Z(this,m,g,B);case"ascii":case"latin1":case"binary":return k(this,m,g,B);case"base64":return P(this,m,g,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,m,g,B);default:if(re)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),re=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(T,m,g){return m===0&&g===T.length?e.fromByteArray(T):e.fromByteArray(T.slice(m,g))}function O(T,m,g){g=Math.min(T.length,g);for(var B=[],q=m;q<g;){var Y=T[q],re=null,fe=Y>239?4:Y>223?3:Y>191?2:1;if(q+fe<=g){var Ee,ve,Ce,R;switch(fe){case 1:Y<128&&(re=Y);break;case 2:Ee=T[q+1],(Ee&192)===128&&(R=(Y&31)<<6|Ee&63,R>127&&(re=R));break;case 3:Ee=T[q+1],ve=T[q+2],(Ee&192)===128&&(ve&192)===128&&(R=(Y&15)<<12|(Ee&63)<<6|ve&63,R>2047&&(R<55296||R>57343)&&(re=R));break;case 4:Ee=T[q+1],ve=T[q+2],Ce=T[q+3],(Ee&192)===128&&(ve&192)===128&&(Ce&192)===128&&(R=(Y&15)<<18|(Ee&63)<<12|(ve&63)<<6|Ce&63,R>65535&&R<1114112&&(re=R))}}re===null?(re=65533,fe=1):re>65535&&(re-=65536,B.push(re>>>10&1023|55296),re=56320|re&1023),B.push(re),q+=fe}return C(B)}var j=4096;function C(T){var m=T.length;if(m<=j)return String.fromCharCode.apply(String,T);for(var g="",B=0;B<m;)g+=String.fromCharCode.apply(String,T.slice(B,B+=j));return g}function V(T,m,g){var B="";g=Math.min(T.length,g);for(var q=m;q<g;++q)B+=String.fromCharCode(T[q]&127);return B}function F(T,m,g){var B="";g=Math.min(T.length,g);for(var q=m;q<g;++q)B+=String.fromCharCode(T[q]);return B}function Q(T,m,g){var B=T.length;(!m||m<0)&&(m=0),(!g||g<0||g>B)&&(g=B);for(var q="",Y=m;Y<g;++Y)q+=ne[T[Y]];return q}function oe(T,m,g){for(var B=T.slice(m,g),q="",Y=0;Y<B.length-1;Y+=2)q+=String.fromCharCode(B[Y]+B[Y+1]*256);return q}c.prototype.slice=function(m,g){var B=this.length;m=~~m,g=g===void 0?B:~~g,m<0?(m+=B,m<0&&(m=0)):m>B&&(m=B),g<0?(g+=B,g<0&&(g=0)):g>B&&(g=B),g<m&&(g=m);var q=this.subarray(m,g);return Object.setPrototypeOf(q,c.prototype),q};function ae(T,m,g){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+m>g)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(m,g,B){m=m>>>0,g=g>>>0,B||ae(m,g,this.length);for(var q=this[m],Y=1,re=0;++re<g&&(Y*=256);)q+=this[m+re]*Y;return q},c.prototype.readUintBE=c.prototype.readUIntBE=function(m,g,B){m=m>>>0,g=g>>>0,B||ae(m,g,this.length);for(var q=this[m+--g],Y=1;g>0&&(Y*=256);)q+=this[m+--g]*Y;return q},c.prototype.readUint8=c.prototype.readUInt8=function(m,g){return m=m>>>0,g||ae(m,1,this.length),this[m]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(m,g){return m=m>>>0,g||ae(m,2,this.length),this[m]|this[m+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(m,g){return m=m>>>0,g||ae(m,2,this.length),this[m]<<8|this[m+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(m,g){return m=m>>>0,g||ae(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+this[m+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(m,g){return m=m>>>0,g||ae(m,4,this.length),this[m]*16777216+(this[m+1]<<16|this[m+2]<<8|this[m+3])},c.prototype.readIntLE=function(m,g,B){m=m>>>0,g=g>>>0,B||ae(m,g,this.length);for(var q=this[m],Y=1,re=0;++re<g&&(Y*=256);)q+=this[m+re]*Y;return Y*=128,q>=Y&&(q-=Math.pow(2,8*g)),q},c.prototype.readIntBE=function(m,g,B){m=m>>>0,g=g>>>0,B||ae(m,g,this.length);for(var q=g,Y=1,re=this[m+--q];q>0&&(Y*=256);)re+=this[m+--q]*Y;return Y*=128,re>=Y&&(re-=Math.pow(2,8*g)),re},c.prototype.readInt8=function(m,g){return m=m>>>0,g||ae(m,1,this.length),this[m]&128?(255-this[m]+1)*-1:this[m]},c.prototype.readInt16LE=function(m,g){m=m>>>0,g||ae(m,2,this.length);var B=this[m]|this[m+1]<<8;return B&32768?B|4294901760:B},c.prototype.readInt16BE=function(m,g){m=m>>>0,g||ae(m,2,this.length);var B=this[m+1]|this[m]<<8;return B&32768?B|4294901760:B},c.prototype.readInt32LE=function(m,g){return m=m>>>0,g||ae(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},c.prototype.readInt32BE=function(m,g){return m=m>>>0,g||ae(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},c.prototype.readFloatLE=function(m,g){return m=m>>>0,g||ae(m,4,this.length),n.read(this,m,!0,23,4)},c.prototype.readFloatBE=function(m,g){return m=m>>>0,g||ae(m,4,this.length),n.read(this,m,!1,23,4)},c.prototype.readDoubleLE=function(m,g){return m=m>>>0,g||ae(m,8,this.length),n.read(this,m,!0,52,8)},c.prototype.readDoubleBE=function(m,g){return m=m>>>0,g||ae(m,8,this.length),n.read(this,m,!1,52,8)};function se(T,m,g,B,q,Y){if(!c.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>q||m<Y)throw new RangeError('"value" argument is out of bounds');if(g+B>T.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(m,g,B,q){if(m=+m,g=g>>>0,B=B>>>0,!q){var Y=Math.pow(2,8*B)-1;se(this,m,g,B,Y,0)}var re=1,fe=0;for(this[g]=m&255;++fe<B&&(re*=256);)this[g+fe]=m/re&255;return g+B},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(m,g,B,q){if(m=+m,g=g>>>0,B=B>>>0,!q){var Y=Math.pow(2,8*B)-1;se(this,m,g,B,Y,0)}var re=B-1,fe=1;for(this[g+re]=m&255;--re>=0&&(fe*=256);)this[g+re]=m/fe&255;return g+B},c.prototype.writeUint8=c.prototype.writeUInt8=function(m,g,B){return m=+m,g=g>>>0,B||se(this,m,g,1,255,0),this[g]=m&255,g+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(m,g,B){return m=+m,g=g>>>0,B||se(this,m,g,2,65535,0),this[g]=m&255,this[g+1]=m>>>8,g+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(m,g,B){return m=+m,g=g>>>0,B||se(this,m,g,2,65535,0),this[g]=m>>>8,this[g+1]=m&255,g+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(m,g,B){return m=+m,g=g>>>0,B||se(this,m,g,4,4294967295,0),this[g+3]=m>>>24,this[g+2]=m>>>16,this[g+1]=m>>>8,this[g]=m&255,g+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(m,g,B){return m=+m,g=g>>>0,B||se(this,m,g,4,4294967295,0),this[g]=m>>>24,this[g+1]=m>>>16,this[g+2]=m>>>8,this[g+3]=m&255,g+4},c.prototype.writeIntLE=function(m,g,B,q){if(m=+m,g=g>>>0,!q){var Y=Math.pow(2,8*B-1);se(this,m,g,B,Y-1,-Y)}var re=0,fe=1,Ee=0;for(this[g]=m&255;++re<B&&(fe*=256);)m<0&&Ee===0&&this[g+re-1]!==0&&(Ee=1),this[g+re]=(m/fe>>0)-Ee&255;return g+B},c.prototype.writeIntBE=function(m,g,B,q){if(m=+m,g=g>>>0,!q){var Y=Math.pow(2,8*B-1);se(this,m,g,B,Y-1,-Y)}var re=B-1,fe=1,Ee=0;for(this[g+re]=m&255;--re>=0&&(fe*=256);)m<0&&Ee===0&&this[g+re+1]!==0&&(Ee=1),this[g+re]=(m/fe>>0)-Ee&255;return g+B},c.prototype.writeInt8=function(m,g,B){return m=+m,g=g>>>0,B||se(this,m,g,1,127,-128),m<0&&(m=255+m+1),this[g]=m&255,g+1},c.prototype.writeInt16LE=function(m,g,B){return m=+m,g=g>>>0,B||se(this,m,g,2,32767,-32768),this[g]=m&255,this[g+1]=m>>>8,g+2},c.prototype.writeInt16BE=function(m,g,B){return m=+m,g=g>>>0,B||se(this,m,g,2,32767,-32768),this[g]=m>>>8,this[g+1]=m&255,g+2},c.prototype.writeInt32LE=function(m,g,B){return m=+m,g=g>>>0,B||se(this,m,g,4,2147483647,-2147483648),this[g]=m&255,this[g+1]=m>>>8,this[g+2]=m>>>16,this[g+3]=m>>>24,g+4},c.prototype.writeInt32BE=function(m,g,B){return m=+m,g=g>>>0,B||se(this,m,g,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[g]=m>>>24,this[g+1]=m>>>16,this[g+2]=m>>>8,this[g+3]=m&255,g+4};function le(T,m,g,B,q,Y){if(g+B>T.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function U(T,m,g,B,q){return m=+m,g=g>>>0,q||le(T,m,g,4),n.write(T,m,g,B,23,4),g+4}c.prototype.writeFloatLE=function(m,g,B){return U(this,m,g,!0,B)},c.prototype.writeFloatBE=function(m,g,B){return U(this,m,g,!1,B)};function de(T,m,g,B,q){return m=+m,g=g>>>0,q||le(T,m,g,8),n.write(T,m,g,B,52,8),g+8}c.prototype.writeDoubleLE=function(m,g,B){return de(this,m,g,!0,B)},c.prototype.writeDoubleBE=function(m,g,B){return de(this,m,g,!1,B)},c.prototype.copy=function(m,g,B,q){if(!c.isBuffer(m))throw new TypeError("argument should be a Buffer");if(B||(B=0),!q&&q!==0&&(q=this.length),g>=m.length&&(g=m.length),g||(g=0),q>0&&q<B&&(q=B),q===B||m.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),m.length-g<q-B&&(q=m.length-g+B);var Y=q-B;return this===m&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(g,B,q):Uint8Array.prototype.set.call(m,this.subarray(B,q),g),Y},c.prototype.fill=function(m,g,B,q){if(typeof m=="string"){if(typeof g=="string"?(q=g,g=0,B=this.length):typeof B=="string"&&(q=B,B=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!c.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(m.length===1){var Y=m.charCodeAt(0);(q==="utf8"&&Y<128||q==="latin1")&&(m=Y)}}else typeof m=="number"?m=m&255:typeof m=="boolean"&&(m=Number(m));if(g<0||this.length<g||this.length<B)throw new RangeError("Out of range index");if(B<=g)return this;g=g>>>0,B=B===void 0?this.length:B>>>0,m||(m=0);var re;if(typeof m=="number")for(re=g;re<B;++re)this[re]=m;else{var fe=c.isBuffer(m)?m:c.from(m,q),Ee=fe.length;if(Ee===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(re=0;re<B-g;++re)this[re+g]=fe[re%Ee]}return this};var pe=/[^+/0-9A-Za-z-_]/g;function xe(T){if(T=T.split("=")[0],T=T.trim().replace(pe,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function me(T,m){m=m||1/0;for(var g,B=T.length,q=null,Y=[],re=0;re<B;++re){if(g=T.charCodeAt(re),g>55295&&g<57344){if(!q){if(g>56319){(m-=3)>-1&&Y.push(239,191,189);continue}else if(re+1===B){(m-=3)>-1&&Y.push(239,191,189);continue}q=g;continue}if(g<56320){(m-=3)>-1&&Y.push(239,191,189),q=g;continue}g=(q-55296<<10|g-56320)+65536}else q&&(m-=3)>-1&&Y.push(239,191,189);if(q=null,g<128){if((m-=1)<0)break;Y.push(g)}else if(g<2048){if((m-=2)<0)break;Y.push(g>>6|192,g&63|128)}else if(g<65536){if((m-=3)<0)break;Y.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((m-=4)<0)break;Y.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return Y}function ge(T){for(var m=[],g=0;g<T.length;++g)m.push(T.charCodeAt(g)&255);return m}function I(T,m){for(var g,B,q,Y=[],re=0;re<T.length&&!((m-=2)<0);++re)g=T.charCodeAt(re),B=g>>8,q=g%256,Y.push(q),Y.push(B);return Y}function D(T){return e.toByteArray(xe(T))}function L(T,m,g,B){for(var q=0;q<B&&!(q+g>=m.length||q>=T.length);++q)m[q+g]=T[q];return q}function te(T,m){return T instanceof m||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===m.name}function W(T){return T!==T}var ne=function(){for(var T="0123456789abcdef",m=new Array(256),g=0;g<16;++g)for(var B=g*16,q=0;q<16;++q)m[B+q]=T[g]+T[q];return m}()})($d);var q5={exports:{}};(function(t){(function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,i=Math.floor,s="[BigNumber Error] ",c=s+"Number primitive has more than 15 significant digits: ",l=1e14,u=14,p=9007199254740991,y=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,d=1e9;function f(H){var z,K,Z,k=U.prototype={constructor:U,toString:null,valueOf:null},P=new U(1),X=20,E=4,O=-7,j=21,C=-1e7,V=1e7,F=!1,Q=1,oe=0,ae={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},se="0123456789abcdefghijklmnopqrstuvwxyz",le=!0;function U(I,D){var L,te,W,ne,T,m,g,B,q=this;if(!(q instanceof U))return new U(I,D);if(D==null){if(I&&I._isBigNumber===!0){q.s=I.s,!I.c||I.e>V?q.c=q.e=null:I.e<C?q.c=[q.e=0]:(q.e=I.e,q.c=I.c.slice());return}if((m=typeof I=="number")&&I*0==0){if(q.s=1/I<0?(I=-I,-1):1,I===~~I){for(ne=0,T=I;T>=10;T/=10,ne++);ne>V?q.c=q.e=null:(q.e=ne,q.c=[I]);return}B=String(I)}else{if(!r.test(B=String(I)))return Z(q,B,m);q.s=B.charCodeAt(0)==45?(B=B.slice(1),-1):1}(ne=B.indexOf("."))>-1&&(B=B.replace(".","")),(T=B.search(/e/i))>0?(ne<0&&(ne=T),ne+=+B.slice(T+1),B=B.substring(0,T)):ne<0&&(ne=B.length)}else{if(x(D,2,se.length,"Base"),D==10&&le)return q=new U(I),me(q,X+q.e+1,E);if(B=String(I),m=typeof I=="number"){if(I*0!=0)return Z(q,B,m,D);if(q.s=1/I<0?(B=B.slice(1),-1):1,U.DEBUG&&B.replace(/^0\.0*|\./,"").length>15)throw Error(c+I)}else q.s=B.charCodeAt(0)===45?(B=B.slice(1),-1):1;for(L=se.slice(0,D),ne=T=0,g=B.length;T<g;T++)if(L.indexOf(te=B.charAt(T))<0){if(te=="."){if(T>ne){ne=g;continue}}else if(!W&&(B==B.toUpperCase()&&(B=B.toLowerCase())||B==B.toLowerCase()&&(B=B.toUpperCase()))){W=!0,T=-1,ne=0;continue}return Z(q,String(I),m,D)}m=!1,B=K(B,D,10,q.s),(ne=B.indexOf("."))>-1?B=B.replace(".",""):ne=B.length}for(T=0;B.charCodeAt(T)===48;T++);for(g=B.length;B.charCodeAt(--g)===48;);if(B=B.slice(T,++g)){if(g-=T,m&&U.DEBUG&&g>15&&(I>p||I!==i(I)))throw Error(c+q.s*I);if((ne=ne-T-1)>V)q.c=q.e=null;else if(ne<C)q.c=[q.e=0];else{if(q.e=ne,q.c=[],T=(ne+1)%u,ne<0&&(T+=u),T<g){for(T&&q.c.push(+B.slice(0,T)),g-=u;T<g;)q.c.push(+B.slice(T,T+=u));T=u-(B=B.slice(T)).length}else T-=g;for(;T--;B+="0");q.c.push(+B)}}else q.c=[q.e=0]}U.clone=f,U.ROUND_UP=0,U.ROUND_DOWN=1,U.ROUND_CEIL=2,U.ROUND_FLOOR=3,U.ROUND_HALF_UP=4,U.ROUND_HALF_DOWN=5,U.ROUND_HALF_EVEN=6,U.ROUND_HALF_CEIL=7,U.ROUND_HALF_FLOOR=8,U.EUCLID=9,U.config=U.set=function(I){var D,L;if(I!=null)if(typeof I=="object"){if(I.hasOwnProperty(D="DECIMAL_PLACES")&&(L=I[D],x(L,0,d,D),X=L),I.hasOwnProperty(D="ROUNDING_MODE")&&(L=I[D],x(L,0,8,D),E=L),I.hasOwnProperty(D="EXPONENTIAL_AT")&&(L=I[D],L&&L.pop?(x(L[0],-d,0,D),x(L[1],0,d,D),O=L[0],j=L[1]):(x(L,-d,d,D),O=-(j=L<0?-L:L))),I.hasOwnProperty(D="RANGE"))if(L=I[D],L&&L.pop)x(L[0],-d,-1,D),x(L[1],1,d,D),C=L[0],V=L[1];else if(x(L,-d,d,D),L)C=-(V=L<0?-L:L);else throw Error(s+D+" cannot be zero: "+L);if(I.hasOwnProperty(D="CRYPTO"))if(L=I[D],L===!!L)if(L)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))F=L;else throw F=!L,Error(s+"crypto unavailable");else F=L;else throw Error(s+D+" not true or false: "+L);if(I.hasOwnProperty(D="MODULO_MODE")&&(L=I[D],x(L,0,9,D),Q=L),I.hasOwnProperty(D="POW_PRECISION")&&(L=I[D],x(L,0,d,D),oe=L),I.hasOwnProperty(D="FORMAT"))if(L=I[D],typeof L=="object")ae=L;else throw Error(s+D+" not an object: "+L);if(I.hasOwnProperty(D="ALPHABET"))if(L=I[D],typeof L=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(L))le=L.slice(0,10)=="0123456789",se=L;else throw Error(s+D+" invalid: "+L)}else throw Error(s+"Object expected: "+I);return{DECIMAL_PLACES:X,ROUNDING_MODE:E,EXPONENTIAL_AT:[O,j],RANGE:[C,V],CRYPTO:F,MODULO_MODE:Q,POW_PRECISION:oe,FORMAT:ae,ALPHABET:se}},U.isBigNumber=function(I){if(!I||I._isBigNumber!==!0)return!1;if(!U.DEBUG)return!0;var D,L,te=I.c,W=I.e,ne=I.s;e:if({}.toString.call(te)=="[object Array]"){if((ne===1||ne===-1)&&W>=-d&&W<=d&&W===i(W)){if(te[0]===0){if(W===0&&te.length===1)return!0;break e}if(D=(W+1)%u,D<1&&(D+=u),String(te[0]).length==D){for(D=0;D<te.length;D++)if(L=te[D],L<0||L>=l||L!==i(L))break e;if(L!==0)return!0}}}else if(te===null&&W===null&&(ne===null||ne===1||ne===-1))return!0;throw Error(s+"Invalid BigNumber: "+I)},U.maximum=U.max=function(){return pe(arguments,-1)},U.minimum=U.min=function(){return pe(arguments,1)},U.random=function(){var I=9007199254740992,D=Math.random()*I&2097151?function(){return i(Math.random()*I)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(L){var te,W,ne,T,m,g=0,B=[],q=new U(P);if(L==null?L=X:x(L,0,d),T=a(L/u),F)if(crypto.getRandomValues){for(te=crypto.getRandomValues(new Uint32Array(T*=2));g<T;)m=te[g]*131072+(te[g+1]>>>11),m>=9e15?(W=crypto.getRandomValues(new Uint32Array(2)),te[g]=W[0],te[g+1]=W[1]):(B.push(m%1e14),g+=2);g=T/2}else if(crypto.randomBytes){for(te=crypto.randomBytes(T*=7);g<T;)m=(te[g]&31)*281474976710656+te[g+1]*1099511627776+te[g+2]*4294967296+te[g+3]*16777216+(te[g+4]<<16)+(te[g+5]<<8)+te[g+6],m>=9e15?crypto.randomBytes(7).copy(te,g):(B.push(m%1e14),g+=7);g=T/7}else throw F=!1,Error(s+"crypto unavailable");if(!F)for(;g<T;)m=D(),m<9e15&&(B[g++]=m%1e14);for(T=B[--g],L%=u,T&&L&&(m=y[u-L],B[g]=i(T/m)*m);B[g]===0;B.pop(),g--);if(g<0)B=[ne=0];else{for(ne=-1;B[0]===0;B.splice(0,1),ne-=u);for(g=1,m=B[0];m>=10;m/=10,g++);g<u&&(ne-=u-g)}return q.e=ne,q.c=B,q}}(),U.sum=function(){for(var I=1,D=arguments,L=new U(D[0]);I<D.length;)L=L.plus(D[I++]);return L},K=function(){var I="0123456789";function D(L,te,W,ne){for(var T,m=[0],g,B=0,q=L.length;B<q;){for(g=m.length;g--;m[g]*=te);for(m[0]+=ne.indexOf(L.charAt(B++)),T=0;T<m.length;T++)m[T]>W-1&&(m[T+1]==null&&(m[T+1]=0),m[T+1]+=m[T]/W|0,m[T]%=W)}return m.reverse()}return function(L,te,W,ne,T){var m,g,B,q,Y,re,fe,Ee,ve=L.indexOf("."),Ce=X,R=E;for(ve>=0&&(q=oe,oe=0,L=L.replace(".",""),Ee=new U(te),re=Ee.pow(L.length-ve),oe=q,Ee.c=D(S(N(re.c),re.e,"0"),10,W,I),Ee.e=Ee.c.length),fe=D(L,te,W,T?(m=se,I):(m=I,se)),B=q=fe.length;fe[--q]==0;fe.pop());if(!fe[0])return m.charAt(0);if(ve<0?--B:(re.c=fe,re.e=B,re.s=ne,re=z(re,Ee,Ce,R,W),fe=re.c,Y=re.r,B=re.e),g=B+Ce+1,ve=fe[g],q=W/2,Y=Y||g<0||fe[g+1]!=null,Y=R<4?(ve!=null||Y)&&(R==0||R==(re.s<0?3:2)):ve>q||ve==q&&(R==4||Y||R==6&&fe[g-1]&1||R==(re.s<0?8:7)),g<1||!fe[0])L=Y?S(m.charAt(1),-Ce,m.charAt(0)):m.charAt(0);else{if(fe.length=g,Y)for(--W;++fe[--g]>W;)fe[g]=0,g||(++B,fe=[1].concat(fe));for(q=fe.length;!fe[--q];);for(ve=0,L="";ve<=q;L+=m.charAt(fe[ve++]));L=S(L,B,m.charAt(0))}return L}}(),z=function(){function I(te,W,ne){var T,m,g,B,q=0,Y=te.length,re=W%h,fe=W/h|0;for(te=te.slice();Y--;)g=te[Y]%h,B=te[Y]/h|0,T=fe*g+B*re,m=re*g+T%h*h+q,q=(m/ne|0)+(T/h|0)+fe*B,te[Y]=m%ne;return q&&(te=[q].concat(te)),te}function D(te,W,ne,T){var m,g;if(ne!=T)g=ne>T?1:-1;else for(m=g=0;m<ne;m++)if(te[m]!=W[m]){g=te[m]>W[m]?1:-1;break}return g}function L(te,W,ne,T){for(var m=0;ne--;)te[ne]-=m,m=te[ne]<W[ne]?1:0,te[ne]=m*T+te[ne]-W[ne];for(;!te[0]&&te.length>1;te.splice(0,1));}return function(te,W,ne,T,m){var g,B,q,Y,re,fe,Ee,ve,Ce,R,b,w,G,ee,ce,ie,Ue,$e=te.s==W.s?1:-1,Me=te.c,Re=W.c;if(!Me||!Me[0]||!Re||!Re[0])return new U(!te.s||!W.s||(Me?Re&&Me[0]==Re[0]:!Re)?NaN:Me&&Me[0]==0||!Re?$e*0:$e/0);for(ve=new U($e),Ce=ve.c=[],B=te.e-W.e,$e=ne+B+1,m||(m=l,B=A(te.e/u)-A(W.e/u),$e=$e/u|0),q=0;Re[q]==(Me[q]||0);q++);if(Re[q]>(Me[q]||0)&&B--,$e<0)Ce.push(1),Y=!0;else{for(ee=Me.length,ie=Re.length,q=0,$e+=2,re=i(m/(Re[0]+1)),re>1&&(Re=I(Re,re,m),Me=I(Me,re,m),ie=Re.length,ee=Me.length),G=ie,R=Me.slice(0,ie),b=R.length;b<ie;R[b++]=0);Ue=Re.slice(),Ue=[0].concat(Ue),ce=Re[0],Re[1]>=m/2&&ce++;do{if(re=0,g=D(Re,R,ie,b),g<0){if(w=R[0],ie!=b&&(w=w*m+(R[1]||0)),re=i(w/ce),re>1)for(re>=m&&(re=m-1),fe=I(Re,re,m),Ee=fe.length,b=R.length;D(fe,R,Ee,b)==1;)re--,L(fe,ie<Ee?Ue:Re,Ee,m),Ee=fe.length,g=1;else re==0&&(g=re=1),fe=Re.slice(),Ee=fe.length;if(Ee<b&&(fe=[0].concat(fe)),L(R,fe,b,m),b=R.length,g==-1)for(;D(Re,R,ie,b)<1;)re++,L(R,ie<b?Ue:Re,b,m),b=R.length}else g===0&&(re++,R=[0]);Ce[q++]=re,R[0]?R[b++]=Me[G]||0:(R=[Me[G]],b=1)}while((G++<ee||R[0]!=null)&&$e--);Y=R[0]!=null,Ce[0]||Ce.splice(0,1)}if(m==l){for(q=1,$e=Ce[0];$e>=10;$e/=10,q++);me(ve,ne+(ve.e=q+B*u-1)+1,T,Y)}else ve.e=B,ve.r=+Y;return ve}}();function de(I,D,L,te){var W,ne,T,m,g;if(L==null?L=E:x(L,0,8),!I.c)return I.toString();if(W=I.c[0],T=I.e,D==null)g=N(I.c),g=te==1||te==2&&(T<=O||T>=j)?M(g,T):S(g,T,"0");else if(I=me(new U(I),D,L),ne=I.e,g=N(I.c),m=g.length,te==1||te==2&&(D<=ne||ne<=O)){for(;m<D;g+="0",m++);g=M(g,ne)}else if(D-=T,g=S(g,ne,"0"),ne+1>m){if(--D>0)for(g+=".";D--;g+="0");}else if(D+=ne-m,D>0)for(ne+1==m&&(g+=".");D--;g+="0");return I.s<0&&W?"-"+g:g}function pe(I,D){for(var L,te,W=1,ne=new U(I[0]);W<I.length;W++)te=new U(I[W]),(!te.s||(L=v(ne,te))===D||L===0&&ne.s===D)&&(ne=te);return ne}function xe(I,D,L){for(var te=1,W=D.length;!D[--W];D.pop());for(W=D[0];W>=10;W/=10,te++);return(L=te+L*u-1)>V?I.c=I.e=null:L<C?I.c=[I.e=0]:(I.e=L,I.c=D),I}Z=function(){var I=/^(-?)0([xbo])(?=\w[\w.]*$)/i,D=/^([^.]+)\.$/,L=/^\.([^.]+)$/,te=/^-?(Infinity|NaN)$/,W=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(ne,T,m,g){var B,q=m?T:T.replace(W,"");if(te.test(q))ne.s=isNaN(q)?null:q<0?-1:1;else{if(!m&&(q=q.replace(I,function(Y,re,fe){return B=(fe=fe.toLowerCase())=="x"?16:fe=="b"?2:8,!g||g==B?re:Y}),g&&(B=g,q=q.replace(D,"$1").replace(L,"0.$1")),T!=q))return new U(q,B);if(U.DEBUG)throw Error(s+"Not a"+(g?" base "+g:"")+" number: "+T);ne.s=null}ne.c=ne.e=null}}();function me(I,D,L,te){var W,ne,T,m,g,B,q,Y=I.c,re=y;if(Y){e:{for(W=1,m=Y[0];m>=10;m/=10,W++);if(ne=D-W,ne<0)ne+=u,T=D,g=Y[B=0],q=i(g/re[W-T-1]%10);else if(B=a((ne+1)/u),B>=Y.length)if(te){for(;Y.length<=B;Y.push(0));g=q=0,W=1,ne%=u,T=ne-u+1}else break e;else{for(g=m=Y[B],W=1;m>=10;m/=10,W++);ne%=u,T=ne-u+W,q=T<0?0:i(g/re[W-T-1]%10)}if(te=te||D<0||Y[B+1]!=null||(T<0?g:g%re[W-T-1]),te=L<4?(q||te)&&(L==0||L==(I.s<0?3:2)):q>5||q==5&&(L==4||te||L==6&&(ne>0?T>0?g/re[W-T]:0:Y[B-1])%10&1||L==(I.s<0?8:7)),D<1||!Y[0])return Y.length=0,te?(D-=I.e+1,Y[0]=re[(u-D%u)%u],I.e=-D||0):Y[0]=I.e=0,I;if(ne==0?(Y.length=B,m=1,B--):(Y.length=B+1,m=re[u-ne],Y[B]=T>0?i(g/re[W-T]%re[T])*m:0),te)for(;;)if(B==0){for(ne=1,T=Y[0];T>=10;T/=10,ne++);for(T=Y[0]+=m,m=1;T>=10;T/=10,m++);ne!=m&&(I.e++,Y[0]==l&&(Y[0]=1));break}else{if(Y[B]+=m,Y[B]!=l)break;Y[B--]=0,m=1}for(ne=Y.length;Y[--ne]===0;Y.pop());}I.e>V?I.c=I.e=null:I.e<C&&(I.c=[I.e=0])}return I}function ge(I){var D,L=I.e;return L===null?I.toString():(D=N(I.c),D=L<=O||L>=j?M(D,L):S(D,L,"0"),I.s<0?"-"+D:D)}return k.absoluteValue=k.abs=function(){var I=new U(this);return I.s<0&&(I.s=1),I},k.comparedTo=function(I,D){return v(this,new U(I,D))},k.decimalPlaces=k.dp=function(I,D){var L,te,W,ne=this;if(I!=null)return x(I,0,d),D==null?D=E:x(D,0,8),me(new U(ne),I+ne.e+1,D);if(!(L=ne.c))return null;if(te=((W=L.length-1)-A(this.e/u))*u,W=L[W])for(;W%10==0;W/=10,te--);return te<0&&(te=0),te},k.dividedBy=k.div=function(I,D){return z(this,new U(I,D),X,E)},k.dividedToIntegerBy=k.idiv=function(I,D){return z(this,new U(I,D),0,1)},k.exponentiatedBy=k.pow=function(I,D){var L,te,W,ne,T,m,g,B,q,Y=this;if(I=new U(I),I.c&&!I.isInteger())throw Error(s+"Exponent not an integer: "+ge(I));if(D!=null&&(D=new U(D)),m=I.e>14,!Y.c||!Y.c[0]||Y.c[0]==1&&!Y.e&&Y.c.length==1||!I.c||!I.c[0])return q=new U(Math.pow(+ge(Y),m?I.s*(2-_(I)):+ge(I))),D?q.mod(D):q;if(g=I.s<0,D){if(D.c?!D.c[0]:!D.s)return new U(NaN);te=!g&&Y.isInteger()&&D.isInteger(),te&&(Y=Y.mod(D))}else{if(I.e>9&&(Y.e>0||Y.e<-1||(Y.e==0?Y.c[0]>1||m&&Y.c[1]>=24e7:Y.c[0]<8e13||m&&Y.c[0]<=9999975e7)))return ne=Y.s<0&&_(I)?-0:0,Y.e>-1&&(ne=1/ne),new U(g?1/ne:ne);oe&&(ne=a(oe/u+2))}for(m?(L=new U(.5),g&&(I.s=1),B=_(I)):(W=Math.abs(+ge(I)),B=W%2),q=new U(P);;){if(B){if(q=q.times(Y),!q.c)break;ne?q.c.length>ne&&(q.c.length=ne):te&&(q=q.mod(D))}if(W){if(W=i(W/2),W===0)break;B=W%2}else if(I=I.times(L),me(I,I.e+1,1),I.e>14)B=_(I);else{if(W=+ge(I),W===0)break;B=W%2}Y=Y.times(Y),ne?Y.c&&Y.c.length>ne&&(Y.c.length=ne):te&&(Y=Y.mod(D))}return te?q:(g&&(q=P.div(q)),D?q.mod(D):ne?me(q,oe,E,T):q)},k.integerValue=function(I){var D=new U(this);return I==null?I=E:x(I,0,8),me(D,D.e+1,I)},k.isEqualTo=k.eq=function(I,D){return v(this,new U(I,D))===0},k.isFinite=function(){return!!this.c},k.isGreaterThan=k.gt=function(I,D){return v(this,new U(I,D))>0},k.isGreaterThanOrEqualTo=k.gte=function(I,D){return(D=v(this,new U(I,D)))===1||D===0},k.isInteger=function(){return!!this.c&&A(this.e/u)>this.c.length-2},k.isLessThan=k.lt=function(I,D){return v(this,new U(I,D))<0},k.isLessThanOrEqualTo=k.lte=function(I,D){return(D=v(this,new U(I,D)))===-1||D===0},k.isNaN=function(){return!this.s},k.isNegative=function(){return this.s<0},k.isPositive=function(){return this.s>0},k.isZero=function(){return!!this.c&&this.c[0]==0},k.minus=function(I,D){var L,te,W,ne,T=this,m=T.s;if(I=new U(I,D),D=I.s,!m||!D)return new U(NaN);if(m!=D)return I.s=-D,T.plus(I);var g=T.e/u,B=I.e/u,q=T.c,Y=I.c;if(!g||!B){if(!q||!Y)return q?(I.s=-D,I):new U(Y?T:NaN);if(!q[0]||!Y[0])return Y[0]?(I.s=-D,I):new U(q[0]?T:E==3?-0:0)}if(g=A(g),B=A(B),q=q.slice(),m=g-B){for((ne=m<0)?(m=-m,W=q):(B=g,W=Y),W.reverse(),D=m;D--;W.push(0));W.reverse()}else for(te=(ne=(m=q.length)<(D=Y.length))?m:D,m=D=0;D<te;D++)if(q[D]!=Y[D]){ne=q[D]<Y[D];break}if(ne&&(W=q,q=Y,Y=W,I.s=-I.s),D=(te=Y.length)-(L=q.length),D>0)for(;D--;q[L++]=0);for(D=l-1;te>m;){if(q[--te]<Y[te]){for(L=te;L&&!q[--L];q[L]=D);--q[L],q[te]+=l}q[te]-=Y[te]}for(;q[0]==0;q.splice(0,1),--B);return q[0]?xe(I,q,B):(I.s=E==3?-1:1,I.c=[I.e=0],I)},k.modulo=k.mod=function(I,D){var L,te,W=this;return I=new U(I,D),!W.c||!I.s||I.c&&!I.c[0]?new U(NaN):!I.c||W.c&&!W.c[0]?new U(W):(Q==9?(te=I.s,I.s=1,L=z(W,I,0,3),I.s=te,L.s*=te):L=z(W,I,0,Q),I=W.minus(L.times(I)),!I.c[0]&&Q==1&&(I.s=W.s),I)},k.multipliedBy=k.times=function(I,D){var L,te,W,ne,T,m,g,B,q,Y,re,fe,Ee,ve,Ce,R=this,b=R.c,w=(I=new U(I,D)).c;if(!b||!w||!b[0]||!w[0])return!R.s||!I.s||b&&!b[0]&&!w||w&&!w[0]&&!b?I.c=I.e=I.s=null:(I.s*=R.s,!b||!w?I.c=I.e=null:(I.c=[0],I.e=0)),I;for(te=A(R.e/u)+A(I.e/u),I.s*=R.s,g=b.length,Y=w.length,g<Y&&(Ee=b,b=w,w=Ee,W=g,g=Y,Y=W),W=g+Y,Ee=[];W--;Ee.push(0));for(ve=l,Ce=h,W=Y;--W>=0;){for(L=0,re=w[W]%Ce,fe=w[W]/Ce|0,T=g,ne=W+T;ne>W;)B=b[--T]%Ce,q=b[T]/Ce|0,m=fe*B+q*re,B=re*B+m%Ce*Ce+Ee[ne]+L,L=(B/ve|0)+(m/Ce|0)+fe*q,Ee[ne--]=B%ve;Ee[ne]=L}return L?++te:Ee.splice(0,1),xe(I,Ee,te)},k.negated=function(){var I=new U(this);return I.s=-I.s||null,I},k.plus=function(I,D){var L,te=this,W=te.s;if(I=new U(I,D),D=I.s,!W||!D)return new U(NaN);if(W!=D)return I.s=-D,te.minus(I);var ne=te.e/u,T=I.e/u,m=te.c,g=I.c;if(!ne||!T){if(!m||!g)return new U(W/0);if(!m[0]||!g[0])return g[0]?I:new U(m[0]?te:W*0)}if(ne=A(ne),T=A(T),m=m.slice(),W=ne-T){for(W>0?(T=ne,L=g):(W=-W,L=m),L.reverse();W--;L.push(0));L.reverse()}for(W=m.length,D=g.length,W-D<0&&(L=g,g=m,m=L,D=W),W=0;D;)W=(m[--D]=m[D]+g[D]+W)/l|0,m[D]=l===m[D]?0:m[D]%l;return W&&(m=[W].concat(m),++T),xe(I,m,T)},k.precision=k.sd=function(I,D){var L,te,W,ne=this;if(I!=null&&I!==!!I)return x(I,1,d),D==null?D=E:x(D,0,8),me(new U(ne),I,D);if(!(L=ne.c))return null;if(W=L.length-1,te=W*u+1,W=L[W]){for(;W%10==0;W/=10,te--);for(W=L[0];W>=10;W/=10,te++);}return I&&ne.e+1>te&&(te=ne.e+1),te},k.shiftedBy=function(I){return x(I,-p,p),this.times("1e"+I)},k.squareRoot=k.sqrt=function(){var I,D,L,te,W,ne=this,T=ne.c,m=ne.s,g=ne.e,B=X+4,q=new U("0.5");if(m!==1||!T||!T[0])return new U(!m||m<0&&(!T||T[0])?NaN:T?ne:1/0);if(m=Math.sqrt(+ge(ne)),m==0||m==1/0?(D=N(T),(D.length+g)%2==0&&(D+="0"),m=Math.sqrt(+D),g=A((g+1)/2)-(g<0||g%2),m==1/0?D="5e"+g:(D=m.toExponential(),D=D.slice(0,D.indexOf("e")+1)+g),L=new U(D)):L=new U(m+""),L.c[0]){for(g=L.e,m=g+B,m<3&&(m=0);;)if(W=L,L=q.times(W.plus(z(ne,W,B,1))),N(W.c).slice(0,m)===(D=N(L.c)).slice(0,m))if(L.e<g&&--m,D=D.slice(m-3,m+1),D=="9999"||!te&&D=="4999"){if(!te&&(me(W,W.e+X+2,0),W.times(W).eq(ne))){L=W;break}B+=4,m+=4,te=1}else{(!+D||!+D.slice(1)&&D.charAt(0)=="5")&&(me(L,L.e+X+2,1),I=!L.times(L).eq(ne));break}}return me(L,L.e+X+1,E,I)},k.toExponential=function(I,D){return I!=null&&(x(I,0,d),I++),de(this,I,D,1)},k.toFixed=function(I,D){return I!=null&&(x(I,0,d),I=I+this.e+1),de(this,I,D)},k.toFormat=function(I,D,L){var te,W=this;if(L==null)I!=null&&D&&typeof D=="object"?(L=D,D=null):I&&typeof I=="object"?(L=I,I=D=null):L=ae;else if(typeof L!="object")throw Error(s+"Argument not an object: "+L);if(te=W.toFixed(I,D),W.c){var ne,T=te.split("."),m=+L.groupSize,g=+L.secondaryGroupSize,B=L.groupSeparator||"",q=T[0],Y=T[1],re=W.s<0,fe=re?q.slice(1):q,Ee=fe.length;if(g&&(ne=m,m=g,g=ne,Ee-=ne),m>0&&Ee>0){for(ne=Ee%m||m,q=fe.substr(0,ne);ne<Ee;ne+=m)q+=B+fe.substr(ne,m);g>0&&(q+=B+fe.slice(ne)),re&&(q="-"+q)}te=Y?q+(L.decimalSeparator||"")+((g=+L.fractionGroupSize)?Y.replace(new RegExp("\\d{"+g+"}\\B","g"),"$&"+(L.fractionGroupSeparator||"")):Y):q}return(L.prefix||"")+te+(L.suffix||"")},k.toFraction=function(I){var D,L,te,W,ne,T,m,g,B,q,Y,re,fe=this,Ee=fe.c;if(I!=null&&(m=new U(I),!m.isInteger()&&(m.c||m.s!==1)||m.lt(P)))throw Error(s+"Argument "+(m.isInteger()?"out of range: ":"not an integer: ")+ge(m));if(!Ee)return new U(fe);for(D=new U(P),B=L=new U(P),te=g=new U(P),re=N(Ee),ne=D.e=re.length-fe.e-1,D.c[0]=y[(T=ne%u)<0?u+T:T],I=!I||m.comparedTo(D)>0?ne>0?D:B:m,T=V,V=1/0,m=new U(re),g.c[0]=0;q=z(m,D,0,1),W=L.plus(q.times(te)),W.comparedTo(I)!=1;)L=te,te=W,B=g.plus(q.times(W=B)),g=W,D=m.minus(q.times(W=D)),m=W;return W=z(I.minus(L),te,0,1),g=g.plus(W.times(B)),L=L.plus(W.times(te)),g.s=B.s=fe.s,ne=ne*2,Y=z(B,te,ne,E).minus(fe).abs().comparedTo(z(g,L,ne,E).minus(fe).abs())<1?[B,te]:[g,L],V=T,Y},k.toNumber=function(){return+ge(this)},k.toPrecision=function(I,D){return I!=null&&x(I,1,d),de(this,I,D,2)},k.toString=function(I){var D,L=this,te=L.s,W=L.e;return W===null?te?(D="Infinity",te<0&&(D="-"+D)):D="NaN":(I==null?D=W<=O||W>=j?M(N(L.c),W):S(N(L.c),W,"0"):I===10&&le?(L=me(new U(L),X+W+1,E),D=S(N(L.c),L.e,"0")):(x(I,2,se.length,"Base"),D=K(S(N(L.c),W,"0"),10,I,te,!0)),te<0&&L.c[0]&&(D="-"+D)),D},k.valueOf=k.toJSON=function(){return ge(this)},k._isBigNumber=!0,H!=null&&U.set(H),U}function A(H){var z=H|0;return H>0||H===z?z:z-1}function N(H){for(var z,K,Z=1,k=H.length,P=H[0]+"";Z<k;){for(z=H[Z++]+"",K=u-z.length;K--;z="0"+z);P+=z}for(k=P.length;P.charCodeAt(--k)===48;);return P.slice(0,k+1||1)}function v(H,z){var K,Z,k=H.c,P=z.c,X=H.s,E=z.s,O=H.e,j=z.e;if(!X||!E)return null;if(K=k&&!k[0],Z=P&&!P[0],K||Z)return K?Z?0:-E:X;if(X!=E)return X;if(K=X<0,Z=O==j,!k||!P)return Z?0:!k^K?1:-1;if(!Z)return O>j^K?1:-1;for(E=(O=k.length)<(j=P.length)?O:j,X=0;X<E;X++)if(k[X]!=P[X])return k[X]>P[X]^K?1:-1;return O==j?0:O>j^K?1:-1}function x(H,z,K,Z){if(H<z||H>K||H!==i(H))throw Error(s+(Z||"Argument")+(typeof H=="number"?H<z||H>K?" out of range: ":" not an integer: ":" not a primitive number: ")+String(H))}function _(H){var z=H.c.length-1;return A(H.e/u)==z&&H.c[z]%2!=0}function M(H,z){return(H.length>1?H.charAt(0)+"."+H.slice(1):H)+(z<0?"e":"e+")+z}function S(H,z,K){var Z,k;if(z<0){for(k=K+".";++z;k+=K);H=k+H}else if(Z=H.length,++z>Z){for(k=K,z-=Z;--z;k+=K);H+=k}else z<Z&&(H=H.slice(0,z)+"."+H.slice(z));return H}n=f(),n.default=n.BigNumber=n,t.exports?t.exports=n:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=n)})(Il)})(q5);var hp=q5.exports,gC=function(e,n,r){var a=new e.Uint8Array(r),i=n.pushInt,s=n.pushInt32,c=n.pushInt32Neg,l=n.pushInt64,u=n.pushInt64Neg,p=n.pushFloat,y=n.pushFloatSingle,h=n.pushFloatDouble,d=n.pushTrue,f=n.pushFalse,A=n.pushUndefined,N=n.pushNull,v=n.pushInfinity,x=n.pushInfinityNeg,_=n.pushNaN,M=n.pushNaNNeg,S=n.pushArrayStart,H=n.pushArrayStartFixed,z=n.pushArrayStartFixed32,K=n.pushArrayStartFixed64,Z=n.pushObjectStart,k=n.pushObjectStartFixed,P=n.pushObjectStartFixed32,X=n.pushObjectStartFixed64,E=n.pushByteString,O=n.pushByteStringStart,j=n.pushUtf8String,C=n.pushUtf8StringStart,V=n.pushSimpleUnassigned,F=n.pushTagStart,Q=n.pushTagStart4,oe=n.pushTagStart8,ae=n.pushTagUnassigned,se=n.pushBreak,le=e.Math.pow,U=0,de=0,pe=0;function xe(J){for(J=J|0,U=0,de=J;(U|0)<(de|0)&&(pe=JN[a[U]&255](a[U]|0)|0,!((pe|0)>0)););return pe|0}function me(J){return J=J|0,((U|0)+(J|0)|0)<(de|0)?0:1}function ge(J){return J=J|0,a[J|0]<<8|a[J+1|0]|0}function I(J){return J=J|0,a[J|0]<<24|a[J+1|0]<<16|a[J+2|0]<<8|a[J+3|0]|0}function D(J){return J=J|0,i(J|0),U=U+1|0,0}function L(J){return J=J|0,me(1)|0?1:(i(a[U+1|0]|0),U=U+2|0,0)}function te(J){return J=J|0,me(2)|0?1:(i(ge(U+1|0)|0),U=U+3|0,0)}function W(J){return J=J|0,me(4)|0?1:(s(ge(U+1|0)|0,ge(U+3|0)|0),U=U+5|0,0)}function ne(J){return J=J|0,me(8)|0?1:(l(ge(U+1|0)|0,ge(U+3|0)|0,ge(U+5|0)|0,ge(U+7|0)|0),U=U+9|0,0)}function T(J){return J=J|0,i(-1-(J-32|0)|0),U=U+1|0,0}function m(J){return J=J|0,me(1)|0?1:(i(-1-(a[U+1|0]|0)|0),U=U+2|0,0)}function g(J){J=J|0;var Ge=0;return me(2)|0?1:(Ge=ge(U+1|0)|0,i(-1-(Ge|0)|0),U=U+3|0,0)}function B(J){return J=J|0,me(4)|0?1:(c(ge(U+1|0)|0,ge(U+3|0)|0),U=U+5|0,0)}function q(J){return J=J|0,me(8)|0?1:(u(ge(U+1|0)|0,ge(U+3|0)|0,ge(U+5|0)|0,ge(U+7|0)|0),U=U+9|0,0)}function Y(J){J=J|0;var Ge=0,Ke=0,De=0;return De=J-64|0,me(De|0)|0?1:(Ge=U+1|0,Ke=(U+1|0)+(De|0)|0,E(Ge|0,Ke|0),U=Ke|0,0)}function re(J){J=J|0;var Ge=0,Ke=0,De=0;return me(1)|0||(De=a[U+1|0]|0,Ge=U+2|0,Ke=(U+2|0)+(De|0)|0,me(De+1|0)|0)?1:(E(Ge|0,Ke|0),U=Ke|0,0)}function fe(J){J=J|0;var Ge=0,Ke=0,De=0;return me(2)|0||(De=ge(U+1|0)|0,Ge=U+3|0,Ke=(U+3|0)+(De|0)|0,me(De+2|0)|0)?1:(E(Ge|0,Ke|0),U=Ke|0,0)}function Ee(J){J=J|0;var Ge=0,Ke=0,De=0;return me(4)|0||(De=I(U+1|0)|0,Ge=U+5|0,Ke=(U+5|0)+(De|0)|0,me(De+4|0)|0)?1:(E(Ge|0,Ke|0),U=Ke|0,0)}function ve(J){return J=J|0,1}function Ce(J){return J=J|0,O(),U=U+1|0,0}function R(J){J=J|0;var Ge=0,Ke=0,De=0;return De=J-96|0,me(De|0)|0?1:(Ge=U+1|0,Ke=(U+1|0)+(De|0)|0,j(Ge|0,Ke|0),U=Ke|0,0)}function b(J){J=J|0;var Ge=0,Ke=0,De=0;return me(1)|0||(De=a[U+1|0]|0,Ge=U+2|0,Ke=(U+2|0)+(De|0)|0,me(De+1|0)|0)?1:(j(Ge|0,Ke|0),U=Ke|0,0)}function w(J){J=J|0;var Ge=0,Ke=0,De=0;return me(2)|0||(De=ge(U+1|0)|0,Ge=U+3|0,Ke=(U+3|0)+(De|0)|0,me(De+2|0)|0)?1:(j(Ge|0,Ke|0),U=Ke|0,0)}function G(J){J=J|0;var Ge=0,Ke=0,De=0;return me(4)|0||(De=I(U+1|0)|0,Ge=U+5|0,Ke=(U+5|0)+(De|0)|0,me(De+4|0)|0)?1:(j(Ge|0,Ke|0),U=Ke|0,0)}function ee(J){return J=J|0,1}function ce(J){return J=J|0,C(),U=U+1|0,0}function ie(J){return J=J|0,H(J-128|0),U=U+1|0,0}function Ue(J){return J=J|0,me(1)|0?1:(H(a[U+1|0]|0),U=U+2|0,0)}function $e(J){return J=J|0,me(2)|0?1:(H(ge(U+1|0)|0),U=U+3|0,0)}function Me(J){return J=J|0,me(4)|0?1:(z(ge(U+1|0)|0,ge(U+3|0)|0),U=U+5|0,0)}function Re(J){return J=J|0,me(8)|0?1:(K(ge(U+1|0)|0,ge(U+3|0)|0,ge(U+5|0)|0,ge(U+7|0)|0),U=U+9|0,0)}function Je(J){return J=J|0,S(),U=U+1|0,0}function ht(J){J=J|0;var Ge=0;return Ge=J-160|0,me(Ge|0)|0?1:(k(Ge|0),U=U+1|0,0)}function wp(J){return J=J|0,me(1)|0?1:(k(a[U+1|0]|0),U=U+2|0,0)}function Ep(J){return J=J|0,me(2)|0?1:(k(ge(U+1|0)|0),U=U+3|0,0)}function vp(J){return J=J|0,me(4)|0?1:(P(ge(U+1|0)|0,ge(U+3|0)|0),U=U+5|0,0)}function _p(J){return J=J|0,me(8)|0?1:(X(ge(U+1|0)|0,ge(U+3|0)|0,ge(U+5|0)|0,ge(U+7|0)|0),U=U+9|0,0)}function Np(J){return J=J|0,Z(),U=U+1|0,0}function Oi(J){return J=J|0,F(J-192|0|0),U=U+1|0,0}function II(J){return J=J|0,F(J|0),U=U+1|0,0}function $I(J){return J=J|0,F(J|0),U=U+1|0,0}function kI(J){return J=J|0,F(J|0),U=U+1|0,0}function FI(J){return J=J|0,F(J|0),U=U+1|0,0}function en(J){return J=J|0,F(J-192|0|0),U=U+1|0,0}function jI(J){return J=J|0,F(J|0),U=U+1|0,0}function VI(J){return J=J|0,F(J|0),U=U+1|0,0}function HI(J){return J=J|0,F(J|0),U=U+1|0,0}function jN(J){return J=J|0,me(1)|0?1:(F(a[U+1|0]|0),U=U+2|0,0)}function VN(J){return J=J|0,me(2)|0?1:(F(ge(U+1|0)|0),U=U+3|0,0)}function HN(J){return J=J|0,me(4)|0?1:(Q(ge(U+1|0)|0,ge(U+3|0)|0),U=U+5|0,0)}function DN(J){return J=J|0,me(8)|0?1:(oe(ge(U+1|0)|0,ge(U+3|0)|0,ge(U+5|0)|0,ge(U+7|0)|0),U=U+9|0,0)}function jt(J){return J=J|0,V((J|0)-224|0),U=U+1|0,0}function zN(J){return J=J|0,f(),U=U+1|0,0}function PN(J){return J=J|0,d(),U=U+1|0,0}function GN(J){return J=J|0,N(),U=U+1|0,0}function YN(J){return J=J|0,A(),U=U+1|0,0}function KN(J){return J=J|0,me(1)|0?1:(V(a[U+1|0]|0),U=U+2|0,0)}function LN(J){J=J|0;var Ge=0,Ke=0,De=1,Vd=0,pu=0,DI=0;return me(2)|0?1:(Ge=a[U+1|0]|0,Ke=a[U+2|0]|0,(Ge|0)&128&&(De=-1),Vd=+(((Ge|0)&124)>>2),pu=+(((Ge|0)&3)<<8|Ke),+Vd==0?p(+(+De*5960464477539063e-23*+pu)):+Vd==31?+De==1?+pu>0?_():v():+pu>0?M():x():p(+(+De*le(2,+(+Vd-25))*+(1024+pu))),U=U+3|0,0)}function ZN(J){return J=J|0,me(4)|0?1:(y(a[U+1|0]|0,a[U+2|0]|0,a[U+3|0]|0,a[U+4|0]|0),U=U+5|0,0)}function XN(J){return J=J|0,me(8)|0?1:(h(a[U+1|0]|0,a[U+2|0]|0,a[U+3|0]|0,a[U+4|0]|0,a[U+5|0]|0,a[U+6|0]|0,a[U+7|0]|0,a[U+8|0]|0),U=U+9|0,0)}function ut(J){return J=J|0,1}function QN(J){return J=J|0,se(),U=U+1|0,0}var JN=[D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,L,te,W,ne,ut,ut,ut,ut,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,m,g,B,q,ut,ut,ut,ut,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,re,fe,Ee,ve,ut,ut,ut,Ce,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,b,w,G,ee,ut,ut,ut,ce,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,ie,Ue,$e,Me,Re,ut,ut,ut,Je,ht,ht,ht,ht,ht,ht,ht,ht,ht,ht,ht,ht,ht,ht,ht,ht,ht,ht,ht,ht,ht,ht,ht,ht,wp,Ep,vp,_p,ut,ut,ut,Np,Oi,Oi,Oi,Oi,Oi,Oi,en,en,en,en,en,en,en,en,en,en,en,en,en,en,en,en,en,en,jN,VN,HN,DN,ut,ut,ut,ut,jt,jt,jt,jt,jt,jt,jt,jt,jt,jt,jt,jt,jt,jt,jt,jt,jt,jt,jt,jt,zN,PN,GN,YN,KN,LN,ZN,XN,ut,ut,ut,QN];return{parse:xe}},mp={},Un={};const j2=hp.BigNumber;Un.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};Un.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36};Un.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};Un.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};Un.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")};Un.SHIFT32=Math.pow(2,32);Un.SHIFT16=Math.pow(2,16);Un.MAX_SAFE_HIGH=2097151;Un.NEG_ONE=new j2(-1);Un.TEN=new j2(10);Un.TWO=new j2(2);Un.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5};(function(t){const{Buffer:e}=$d,n=hp.BigNumber,r=Un,a=r.SHIFT32,i=r.SHIFT16,s=2097151;t.parseHalf=function(u){var p,y,h;return h=u[0]&128?-1:1,p=(u[0]&124)>>2,y=(u[0]&3)<<8|u[1],p?p===31?h*(y?NaN:1/0):h*Math.pow(2,p-25)*(1024+y):h*5960464477539063e-23*y};function c(l){return l<16?"0"+l.toString(16):l.toString(16)}t.arrayBufferToBignumber=function(l){const u=l.byteLength;let p="";for(let y=0;y<u;y++)p+=c(l[y]);return new n(p,16)},t.buildMap=l=>{const u=new Map,p=Object.keys(l),y=p.length;for(let h=0;h<y;h++)u.set(p[h],l[p[h]]);return u},t.buildInt32=(l,u)=>l*i+u,t.buildInt64=(l,u,p,y)=>{const h=t.buildInt32(l,u),d=t.buildInt32(p,y);return h>s?new n(h).times(a).plus(d):h*a+d},t.writeHalf=function(u,p){const y=e.allocUnsafe(4);y.writeFloatBE(p,0);const h=y.readUInt32BE(0);if(h&8191)return!1;var d=h>>16&32768;const f=h>>23&255,A=h&8388607;if(f>=113&&f<=142)d+=(f-112<<10)+(A>>13);else if(f>=103&&f<113){if(A&(1<<126-f)-1)return!1;d+=A+8388608>>126-f}else return!1;return u.writeUInt16BE(d,0),!0},t.keySorter=function(l,u){var p=l[0].byteLength,y=u[0].byteLength;return p>y?1:y>p?-1:l[0].compare(u[0])},t.isNegativeZero=l=>l===0&&1/l<0,t.nextPowerOf2=l=>{let u=0;if(l&&!(l&l-1))return l;for(;l!==0;)l>>=1,u+=1;return 1<<u}})(mp);const V2=Un,bC=V2.MT,d0=V2.SIMPLE,Hy=V2.SYMS;let xC=class Ug{constructor(e){if(typeof e!="number")throw new Error("Invalid Simple type: "+typeof e);if(e<0||e>255||(e|0)!==e)throw new Error("value must be a small positive integer: "+e);this.value=e}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(e){return e._pushInt(this.value,bC.SIMPLE_FLOAT)}static isSimple(e){return e instanceof Ug}static decode(e,n){switch(n==null&&(n=!0),e){case d0.FALSE:return!1;case d0.TRUE:return!0;case d0.NULL:return n?null:Hy.NULL;case d0.UNDEFINED:return n?void 0:Hy.UNDEFINED;case-1:if(!n)throw new Error("Invalid BREAK");return Hy.BREAK;default:return new Ug(e)}}};var I5=xC;let wC=class Cg{constructor(e,n,r){if(this.tag=e,this.value=n,this.err=r,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){var n,r;if(r=e!=null?e[this.tag]:void 0,typeof r!="function"&&(r=Cg["_tag"+this.tag],typeof r!="function"))return this;try{return r.call(Cg,this.value)}catch(a){return n=a,this.err=n,this}}};var $5=wC;const k5=self.location?self.location.protocol+"//"+self.location.host:"",Mg=self.URL;let EC=class{constructor(e="",n=k5){this.super=new Mg(e,n),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set origin(e){this.super.origin=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set searchParams(e){this.super.searchParams=e}set username(e){this.super.username=e}createObjectURL(e){return this.super.createObjectURL(e)}revokeObjectURL(e){this.super.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function vC(t){if(typeof t=="string")return new Mg(t).toString();if(!(t instanceof Mg)){const e=t.username&&t.password?`${t.username}:${t.password}@`:"",n=t.auth?t.auth+"@":"",r=t.port?":"+t.port:"",a=t.protocol?t.protocol+"//":"",i=t.host||"",s=t.hostname||"",c=t.search||(t.query?"?"+t.query:""),l=t.hash||"",u=t.pathname||"",p=t.path||u+c;return`${a}${e||n}${i||s+r}${p}${l}`}}var F5={URLWithLegacySupport:EC,URLSearchParams:self.URLSearchParams,defaultBase:k5,format:vC};const{URLWithLegacySupport:kE,format:_C}=F5;var NC=(t,e={},n={},r)=>{let a=e.protocol?e.protocol.replace(":",""):"http";a=(n[a]||r||a)+":";let i;try{i=new kE(t)}catch{i={}}const s=Object.assign({},e,{protocol:a||i.protocol,host:e.host||i.host});return new kE(t,_C(s)).toString()};const{URLWithLegacySupport:SC,format:TC,URLSearchParams:AC,defaultBase:BC}=F5,RC=NC;var j5={URL:SC,URLSearchParams:AC,format:TC,relative:RC,defaultBase:BC};const{Buffer:Eo}=$d,FE=qd,OC=hp.BigNumber,UC=gC,Cn=mp,ct=Un,CC=I5,MC=$5,{URL:qC}=j5;let qg=class Ig{constructor(e){e=e||{},!e.size||e.size<65536?e.size=65536:e.size=Cn.nextPowerOf2(e.size),this._heap=new ArrayBuffer(e.size),this._heap8=new Uint8Array(this._heap),this._buffer=Eo.from(this._heap),this._reset(),this._knownTags=Object.assign({0:n=>new Date(n),1:n=>new Date(n*1e3),2:n=>Cn.arrayBufferToBignumber(n),3:n=>ct.NEG_ONE.minus(Cn.arrayBufferToBignumber(n)),4:n=>ct.TEN.pow(n[0]).times(n[1]),5:n=>ct.TWO.pow(n[0]).times(n[1]),32:n=>new qC(n),35:n=>new RegExp(n)},e.tags),this.parser=UC(Il,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var e=this._parents.pop();if(e.length>0)throw new Error(`Missing ${e.length} elements`);switch(e.type){case ct.PARENT.TAG:this._push(this.createTag(e.ref[0],e.ref[1]));break;case ct.PARENT.BYTE_STRING:this._push(this.createByteString(e.ref,e.length));break;case ct.PARENT.UTF8_STRING:this._push(this.createUtf8String(e.ref,e.length));break;case ct.PARENT.MAP:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(e.ref,e.length));break;case ct.PARENT.OBJECT:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(e.ref,e.length));break;case ct.PARENT.ARRAY:this._push(this.createArray(e.ref,e.length));break}this._currentParent&&this._currentParent.type===ct.PARENT.TAG&&this._dec()}_dec(){const e=this._currentParent;e.length<0||(e.length--,e.length===0&&this._closeParent())}_push(e,n){const r=this._currentParent;switch(r.values++,r.type){case ct.PARENT.ARRAY:case ct.PARENT.BYTE_STRING:case ct.PARENT.UTF8_STRING:r.length>-1?this._ref[this._ref.length-r.length]=e:this._ref.push(e),this._dec();break;case ct.PARENT.OBJECT:r.tmpKey!=null?(this._ref[r.tmpKey]=e,r.tmpKey=null,this._dec()):(r.tmpKey=e,typeof r.tmpKey!="string"&&(r.type=ct.PARENT.MAP,r.ref=Cn.buildMap(r.ref)));break;case ct.PARENT.MAP:r.tmpKey!=null?(this._ref.set(r.tmpKey,e),r.tmpKey=null,this._dec()):r.tmpKey=e;break;case ct.PARENT.TAG:this._ref.push(e),n||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(e,n,r){this._parents[this._depth]={type:n,length:r,ref:e,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:ct.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(e,n){const r=this._knownTags[e];return r?r(n):new MC(e,n)}createMap(e,n){return e}createObject(e,n){return e}createArray(e,n){return e}createByteString(e,n){return Eo.concat(e)}createByteStringFromHeap(e,n){return e===n?Eo.alloc(0):Eo.from(this._heap.slice(e,n))}createInt(e){return e}createInt32(e,n){return Cn.buildInt32(e,n)}createInt64(e,n,r,a){return Cn.buildInt64(e,n,r,a)}createFloat(e){return e}createFloatSingle(e,n,r,a){return FE.read([e,n,r,a],0,!1,23,4)}createFloatDouble(e,n,r,a,i,s,c,l){return FE.read([e,n,r,a,i,s,c,l],0,!1,52,8)}createInt32Neg(e,n){return-1-Cn.buildInt32(e,n)}createInt64Neg(e,n,r,a){const i=Cn.buildInt32(e,n),s=Cn.buildInt32(r,a);return i>ct.MAX_SAFE_HIGH?ct.NEG_ONE.minus(new OC(i).times(ct.SHIFT32).plus(s)):-1-(i*ct.SHIFT32+s)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(e,n){return e.join("")}createUtf8StringFromHeap(e,n){return e===n?"":this._buffer.toString("utf8",e,n)}createSimpleUnassigned(e){return new CC(e)}pushInt(e){this._push(this.createInt(e))}pushInt32(e,n){this._push(this.createInt32(e,n))}pushInt64(e,n,r,a){this._push(this.createInt64(e,n,r,a))}pushFloat(e){this._push(this.createFloat(e))}pushFloatSingle(e,n,r,a){this._push(this.createFloatSingle(e,n,r,a))}pushFloatDouble(e,n,r,a,i,s,c,l){this._push(this.createFloatDouble(e,n,r,a,i,s,c,l))}pushInt32Neg(e,n){this._push(this.createInt32Neg(e,n))}pushInt64Neg(e,n,r,a){this._push(this.createInt64Neg(e,n,r,a))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],ct.PARENT.ARRAY,-1)}pushArrayStartFixed(e){this._createArrayStartFixed(e)}pushArrayStartFixed32(e,n){const r=Cn.buildInt32(e,n);this._createArrayStartFixed(r)}pushArrayStartFixed64(e,n,r,a){const i=Cn.buildInt64(e,n,r,a);this._createArrayStartFixed(i)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(e){this._createObjectStartFixed(e)}pushObjectStartFixed32(e,n){const r=Cn.buildInt32(e,n);this._createObjectStartFixed(r)}pushObjectStartFixed64(e,n,r,a){const i=Cn.buildInt64(e,n,r,a);this._createObjectStartFixed(i)}pushByteStringStart(){this._parents[this._depth]={type:ct.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(e,n){this._push(this.createByteStringFromHeap(e,n))}pushUtf8StringStart(){this._parents[this._depth]={type:ct.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(e,n){this._push(this.createUtf8StringFromHeap(e,n))}pushSimpleUnassigned(e){this._push(this.createSimpleUnassigned(e))}pushTagStart(e){this._parents[this._depth]={type:ct.PARENT.TAG,length:1,ref:[e]}}pushTagStart4(e,n){this.pushTagStart(Cn.buildInt32(e,n))}pushTagStart8(e,n,r,a){this.pushTagStart(Cn.buildInt64(e,n,r,a))}pushTagUnassigned(e){this._push(this.createTag(e))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(e){if(e===0){this._push(this.createObject({}));return}this._createParent({},ct.PARENT.OBJECT,e)}_createArrayStartFixed(e){if(e===0){this._push(this.createArray([]));return}this._createParent(new Array(e),ct.PARENT.ARRAY,e)}_decode(e){if(e.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(e);const n=this.parser.parse(e.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(n>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(e){return this._decode(e),this._res[0]}decodeAll(e){return this._decode(e),this._res}static decode(e,n){return typeof e=="string"&&(e=Eo.from(e,n||"hex")),new Ig({size:e.length}).decodeFirst(e)}static decodeAll(e,n){return typeof e=="string"&&(e=Eo.from(e,n||"hex")),new Ig({size:e.length}).decodeAll(e)}};qg.decodeFirst=qg.decode;var V5=qg;const{Buffer:Dy}=$d,IC=V5,$C=mp;class H2 extends IC{createTag(e,n){return`${e}(${n})`}createInt(e){return super.createInt(e).toString()}createInt32(e,n){return super.createInt32(e,n).toString()}createInt64(e,n,r,a){return super.createInt64(e,n,r,a).toString()}createInt32Neg(e,n){return super.createInt32Neg(e,n).toString()}createInt64Neg(e,n,r,a){return super.createInt64Neg(e,n,r,a).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(e){const n=super.createFloat(e);return $C.isNegativeZero(e)?"-0_1":`${n}_1`}createFloatSingle(e,n,r,a){return`${super.createFloatSingle(e,n,r,a)}_2`}createFloatDouble(e,n,r,a,i,s,c,l){return`${super.createFloatDouble(e,n,r,a,i,s,c,l)}_3`}createByteString(e,n){const r=e.join(", ");return n===-1?`(_ ${r})`:`h'${r}`}createByteStringFromHeap(e,n){return`h'${Dy.from(super.createByteStringFromHeap(e,n)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(e){return`simple(${e})`}createArray(e,n){const r=super.createArray(e,n);return n===-1?`[_ ${r.join(", ")}]`:`[${r.join(", ")}]`}createMap(e,n){const r=super.createMap(e),a=Array.from(r.keys()).reduce(jE(r),"");return n===-1?`{_ ${a}}`:`{${a}}`}createObject(e,n){const r=super.createObject(e),a=Object.keys(r).reduce(jE(r),"");return n===-1?`{_ ${a}}`:`{${a}}`}createUtf8String(e,n){const r=e.join(", ");return n===-1?`(_ ${r})`:`"${r}"`}createUtf8StringFromHeap(e,n){return`"${Dy.from(super.createUtf8StringFromHeap(e,n)).toString("utf8")}"`}static diagnose(e,n){return typeof e=="string"&&(e=Dy.from(e,n||"hex")),new H2().decodeFirst(e)}}var kC=H2;function jE(t){return(e,n)=>e?`${e}, ${n}: ${t[n]}`:`${n}: ${t[n]}`}const{Buffer:fa}=$d,{URL:FC}=j5,$g=hp.BigNumber,zy=mp,Wt=Un,kr=Wt.MT,h0=Wt.NUMBYTES,VE=Wt.SHIFT32,HE=Wt.SYMS,vo=Wt.TAG,jC=Wt.MT.SIMPLE_FLOAT<<5|Wt.NUMBYTES.TWO,VC=Wt.MT.SIMPLE_FLOAT<<5|Wt.NUMBYTES.FOUR,HC=Wt.MT.SIMPLE_FLOAT<<5|Wt.NUMBYTES.EIGHT,DC=Wt.MT.SIMPLE_FLOAT<<5|Wt.SIMPLE.TRUE,zC=Wt.MT.SIMPLE_FLOAT<<5|Wt.SIMPLE.FALSE,PC=Wt.MT.SIMPLE_FLOAT<<5|Wt.SIMPLE.UNDEFINED,DE=Wt.MT.SIMPLE_FLOAT<<5|Wt.SIMPLE.NULL,GC=new $g("0x20000000000000"),YC=fa.from("f97e00","hex"),KC=fa.from("f9fc00","hex"),LC=fa.from("f97c00","hex");function ZC(t){return{}.toString.call(t).slice(8,-1)}class Nm{constructor(e){e=e||{},this.streaming=typeof e.stream=="function",this.onData=e.stream,this.semanticTypes=[[FC,this._pushUrl],[$g,this._pushBigNumber]];const n=e.genTypes||[],r=n.length;for(let a=0;a<r;a++)this.addSemanticType(n[a][0],n[a][1]);this._reset()}addSemanticType(e,n){const r=this.semanticTypes.length;for(let a=0;a<r;a++)if(this.semanticTypes[a][0]===e){const s=this.semanticTypes[a][1];return this.semanticTypes[a][1]=n,s}return this.semanticTypes.push([e,n]),null}push(e){return e&&(this.result[this.offset]=e,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=e.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(e,n,r){return this.result[this.offset]=e,this.resultMethod[this.offset]=n,this.resultLength[this.offset]=r,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(e){return this.pushWrite(e,1,1)}_pushUInt16BE(e){return this.pushWrite(e,2,2)}_pushUInt32BE(e){return this.pushWrite(e,3,4)}_pushDoubleBE(e){return this.pushWrite(e,4,8)}_pushNaN(){return this.push(YC)}_pushInfinity(e){const n=e<0?KC:LC;return this.push(n)}_pushFloat(e){const n=fa.allocUnsafe(2);if(zy.writeHalf(n,e)&&zy.parseHalf(n)===e)return this._pushUInt8(jC)&&this.push(n);const r=fa.allocUnsafe(4);return r.writeFloatBE(e,0),r.readFloatBE(0)===e?this._pushUInt8(VC)&&this.push(r):this._pushUInt8(HC)&&this._pushDoubleBE(e)}_pushInt(e,n,r){const a=n<<5;return e<24?this._pushUInt8(a|e):e<=255?this._pushUInt8(a|h0.ONE)&&this._pushUInt8(e):e<=65535?this._pushUInt8(a|h0.TWO)&&this._pushUInt16BE(e):e<=4294967295?this._pushUInt8(a|h0.FOUR)&&this._pushUInt32BE(e):e<=Number.MAX_SAFE_INTEGER?this._pushUInt8(a|h0.EIGHT)&&this._pushUInt32BE(Math.floor(e/VE))&&this._pushUInt32BE(e%VE):n===kr.NEG_INT?this._pushFloat(r):this._pushFloat(e)}_pushIntNum(e){return e<0?this._pushInt(-e-1,kr.NEG_INT,e):this._pushInt(e,kr.POS_INT)}_pushNumber(e){switch(!1){case e===e:return this._pushNaN(e);case isFinite(e):return this._pushInfinity(e);case e%1!==0:return this._pushIntNum(e);default:return this._pushFloat(e)}}_pushString(e){const n=fa.byteLength(e,"utf8");return this._pushInt(n,kr.UTF8_STRING)&&this.pushWrite(e,5,n)}_pushBoolean(e){return this._pushUInt8(e?DC:zC)}_pushUndefined(e){return this._pushUInt8(PC)}_pushArray(e,n){const r=n.length;if(!e._pushInt(r,kr.ARRAY))return!1;for(let a=0;a<r;a++)if(!e.pushAny(n[a]))return!1;return!0}_pushTag(e){return this._pushInt(e,kr.TAG)}_pushDate(e,n){return e._pushTag(vo.DATE_EPOCH)&&e.pushAny(Math.round(n/1e3))}_pushBuffer(e,n){return e._pushInt(n.length,kr.BYTE_STRING)&&e.push(n)}_pushNoFilter(e,n){return e._pushBuffer(e,n.slice())}_pushRegexp(e,n){return e._pushTag(vo.REGEXP)&&e.pushAny(n.source)}_pushSet(e,n){if(!e._pushInt(n.size,kr.ARRAY))return!1;for(const r of n)if(!e.pushAny(r))return!1;return!0}_pushUrl(e,n){return e._pushTag(vo.URI)&&e.pushAny(n.format())}_pushBigint(e){let n=vo.POS_BIGINT;e.isNegative()&&(e=e.negated().minus(1),n=vo.NEG_BIGINT);let r=e.toString(16);r.length%2&&(r="0"+r);const a=fa.from(r,"hex");return this._pushTag(n)&&this._pushBuffer(this,a)}_pushBigNumber(e,n){if(n.isNaN())return e._pushNaN();if(!n.isFinite())return e._pushInfinity(n.isNegative()?-1/0:1/0);if(n.isInteger())return e._pushBigint(n);if(!(e._pushTag(vo.DECIMAL_FRAC)&&e._pushInt(2,kr.ARRAY)))return!1;const r=n.decimalPlaces(),a=n.multipliedBy(new $g(10).pow(r));return e._pushIntNum(-r)?a.abs().isLessThan(GC)?e._pushIntNum(a.toNumber()):e._pushBigint(a):!1}_pushMap(e,n){return e._pushInt(n.size,kr.MAP)?this._pushRawMap(n.size,Array.from(n)):!1}_pushObject(e){if(!e)return this._pushUInt8(DE);for(var n=this.semanticTypes.length,r=0;r<n;r++)if(e instanceof this.semanticTypes[r][0])return this.semanticTypes[r][1].call(e,this,e);var a=e.encodeCBOR;if(typeof a=="function")return a.call(e,this);var i=Object.keys(e),s=i.length;return this._pushInt(s,kr.MAP)?this._pushRawMap(s,i.map(c=>[c,e[c]])):!1}_pushRawMap(e,n){n=n.map(function(a){return a[0]=Nm.encode(a[0]),a}).sort(zy.keySorter);for(var r=0;r<e;r++)if(!this.push(n[r][0])||!this.pushAny(n[r][1]))return!1;return!0}write(e){return this.pushAny(e)}pushAny(e){var n=ZC(e);switch(n){case"Number":return this._pushNumber(e);case"String":return this._pushString(e);case"Boolean":return this._pushBoolean(e);case"Object":return this._pushObject(e);case"Array":return this._pushArray(this,e);case"Uint8Array":return this._pushBuffer(this,fa.isBuffer(e)?e:fa.from(e));case"Null":return this._pushUInt8(DE);case"Undefined":return this._pushUndefined(e);case"Map":return this._pushMap(this,e);case"Set":return this._pushSet(this,e);case"URL":return this._pushUrl(this,e);case"BigNumber":return this._pushBigNumber(this,e);case"Date":return this._pushDate(this,e);case"RegExp":return this._pushRegexp(this,e);case"Symbol":switch(e){case HE.NULL:return this._pushObject(null);case HE.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+e.toString())}default:throw new Error("Unknown type: "+typeof e+", "+(e?e.toString():""))}}finalize(){if(this.offset===0)return null;for(var e=this.result,n=this.resultLength,r=this.resultMethod,a=this.offset,i=0,s=0;s<a;s++)i+=n[s];var c=fa.allocUnsafe(i),l=0,u=0;for(s=0;s<a;s++){switch(u=n[s],r[s]){case 0:e[s].copy(c,l);break;case 1:c.writeUInt8(e[s],l,!0);break;case 2:c.writeUInt16BE(e[s],l,!0);break;case 3:c.writeUInt32BE(e[s],l,!0);break;case 4:c.writeDoubleBE(e[s],l,!0);break;case 5:c.write(e[s],l,u,"utf8");break;default:throw new Error("unkown method")}l+=u}var p=c;return this._reset(),p}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(e){const n=new Nm;if(!n.pushAny(e))throw new Error("Failed to encode input");return n.finalize()}}var XC=Nm;(function(t){t.Diagnose=kC,t.Decoder=V5,t.Encoder=XC,t.Simple=I5,t.Tagged=$5,t.decodeAll=t.Decoder.decodeAll,t.decodeFirst=t.Decoder.decodeFirst,t.diagnose=t.Diagnose.diagnose,t.encode=t.Encoder.encode,t.decode=t.Decoder.decode,t.leveldb={decode:t.Decoder.decodeAll,encode:t.Encoder.encode,buffer:!0,name:"cbor"}})(M5);const H5=Kg(M5);function Jr(t){return Z0(I2.create().update(new Uint8Array(t)).digest())}function Q0(t){if(t instanceof H5.Tagged)return Q0(t.value);if(typeof t=="string")return D5(t);if(typeof t=="number")return Jr(Ot(t));if(t instanceof ArrayBuffer||ArrayBuffer.isView(t))return Jr(t);if(Array.isArray(t)){const e=t.map(Q0);return Jr(qa(...e))}else{if(t&&typeof t=="object"&&t._isPrincipal)return Jr(t.toUint8Array());if(typeof t=="object"&&t!==null&&typeof t.toHash=="function")return Q0(t.toHash());if(typeof t=="object")return Sm(t);if(typeof t=="bigint")return Jr(Ot(t))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${t}`),{value:t})}const D5=t=>{const e=new TextEncoder().encode(t);return Jr(e)};function zE(t){return Sm(t)}function Sm(t){const r=Object.entries(t).filter(([,s])=>s!==void 0).map(([s,c])=>{const l=D5(s),u=Q0(c);return[l,u]}).sort(([s],[c])=>K4(s,c)),a=qa(...r.map(s=>qa(...s)));return Jr(a)}new TextEncoder().encode(`
ic-request`);class PE{getPrincipal(){return je.anonymous()}async transformRequest(e){return Object.assign(Object.assign({},e),{body:{content:e.body}})}}var hi={},mu={},dt={};Object.defineProperty(dt,"__esModule",{value:!0});const QC=9007199254740992;function Ti(t,...e){const n=new Uint8Array(t.byteLength+e.reduce((a,i)=>a+i.byteLength,0));n.set(new Uint8Array(t),0);let r=t.byteLength;for(const a of e)n.set(new Uint8Array(a),r),r+=a.byteLength;return n.buffer}function ea(t,e,n){n=n.replace(/[^0-9a-fA-F]/g,"");const r=2**(e-24);n=n.slice(-r*2).padStart(r*2,"0");const a=[(t<<5)+e].concat(n.match(/../g).map(i=>parseInt(i,16)));return new Uint8Array(a).buffer}function pp(t,e){if(e<24)return new Uint8Array([(t<<5)+e]).buffer;{const n=e<=255?24:e<=65535?25:e<=4294967295?26:27;return ea(t,n,e.toString(16))}}function z5(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e.push(r):r<2048?e.push(192|r>>6,128|r&63):r<55296||r>=57344?e.push(224|r>>12,128|r>>6&63,128|r&63):(n++,r=(r&1023)<<10|t.charCodeAt(n)&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63))}return Ti(new Uint8Array(pp(3,t.length)),new Uint8Array(e))}function JC(t,e){if(t==14277111)return Ti(new Uint8Array([217,217,247]),e);if(t<24)return Ti(new Uint8Array([192+t]),e);{const n=t<=255?24:t<=65535?25:t<=4294967295?26:27,r=2**(n-24),a=t.toString(16).slice(-r*2).padStart(r*2,"0"),i=[192+n].concat(a.match(/../g).map(s=>parseInt(s,16)));return new Uint8Array(i).buffer}}dt.tagged=JC;function kd(t){return new Uint8Array(t).buffer}dt.raw=kd;function D2(t){if(isNaN(t))throw new RangeError("Invalid number.");t=Math.min(Math.max(0,t),23);const e=[0+t];return new Uint8Array(e).buffer}dt.uSmall=D2;function P5(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,t),255),t=t.toString(16),ea(0,24,t)}dt.u8=P5;function G5(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,t),65535),t=t.toString(16),ea(0,25,t)}dt.u16=G5;function Y5(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,t),4294967295),t=t.toString(16),ea(0,26,t)}dt.u32=Y5;function z2(t,e){if(typeof t=="string"&&e==16){if(t.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return ea(0,27,t)}if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,t),QC),t=t.toString(16),ea(0,27,t)}dt.u64=z2;function K5(t){if(isNaN(t))throw new RangeError("Invalid number.");if(t===0)return D2(0);t=Math.min(Math.max(0,-t),24)-1;const e=[32+t];return new Uint8Array(e).buffer}dt.iSmall=K5;function L5(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,-t-1),255),t=t.toString(16),ea(1,24,t)}dt.i8=L5;function Z5(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,-t-1),65535),t=t.toString(16),ea(1,25,t)}dt.i16=Z5;function X5(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,-t-1),4294967295),t=t.toString(16),ea(1,26,t)}dt.i32=X5;function Q5(t,e){if(typeof t=="string"&&e==16){if(t.startsWith("-")?t=t.slice(1):t="0",t.match(/[^0-9a-fA-F]/)||t.length>16)throw new RangeError("Invalid number.");let n=!1,r=t.split("").reduceRight((a,i)=>{if(n)return i+a;let s=parseInt(i,16)-1;return s>=0?(n=!0,s.toString(16)+a):"f"+a},"");return n?ea(1,27,r):z2(0)}if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,-t-1),9007199254740992),t=t.toString(16),ea(1,27,t)}dt.i64=Q5;function WC(t){return t>=0?t<24?D2(t):t<=255?P5(t):t<=65535?G5(t):t<=4294967295?Y5(t):z2(t):t>=-24?K5(t):t>=-255?L5(t):t>=-65535?Z5(t):t>=-4294967295?X5(t):Q5(t)}dt.number=WC;function eM(t){return Ti(pp(2,t.byteLength),t)}dt.bytes=eM;function tM(t){return z5(t)}dt.string=tM;function nM(t){return Ti(pp(4,t.length),...t)}dt.array=nM;function rM(t,e=!1){t instanceof Map||(t=new Map(Object.entries(t)));let n=Array.from(t.entries());return e&&(n=n.sort(([r],[a])=>r.localeCompare(a))),Ti(pp(5,t.size),...n.map(([r,a])=>Ti(z5(r),a)))}dt.map=rM;function aM(t){const e=new Float32Array([t]);return Ti(new Uint8Array([250]),new Uint8Array(e.buffer))}dt.singleFloat=aM;function iM(t){const e=new Float64Array([t]);return Ti(new Uint8Array([251]),new Uint8Array(e.buffer))}dt.doubleFloat=iM;function sM(t){return t?J5():W5()}dt.bool=sM;function J5(){return kd(new Uint8Array([245]))}dt.true_=J5;function W5(){return kd(new Uint8Array([244]))}dt.false_=W5;function cM(){return kd(new Uint8Array([246]))}dt.null_=cM;function oM(){return kd(new Uint8Array([247]))}dt.undefined_=oM;var lM=Il&&Il.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(mu,"__esModule",{value:!0});const jr=lM(dt),uM=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class eN{constructor(e,n=!1){this._serializer=e,this._stable=n,this.name="jsonDefault",this.priority=-100}match(e){return["undefined","boolean","number","string","object"].indexOf(typeof e)!=-1}encode(e){switch(typeof e){case"undefined":return jr.undefined_();case"boolean":return jr.bool(e);case"number":return Math.floor(e)===e?jr.number(e):jr.doubleFloat(e);case"string":return jr.string(e);case"object":if(e===null)return jr.null_();if(Array.isArray(e))return jr.array(e.map(n=>this._serializer.serializeValue(n)));if(uM.find(n=>e instanceof n))return jr.bytes(e.buffer);if(Object.getOwnPropertyNames(e).indexOf("toJSON")!==-1)return this.encode(e.toJSON());if(e instanceof Map){const n=new Map;for(const[r,a]of e.entries())n.set(r,this._serializer.serializeValue(a));return jr.map(n,this._stable)}else{const n=new Map;for(const[r,a]of Object.entries(e))n.set(r,this._serializer.serializeValue(a));return jr.map(n,this._stable)}default:throw new Error("Invalid value.")}}}mu.JsonDefaultCborEncoder=eN;class tN{constructor(){this.name="cborEncoder",this.priority=-90}match(e){return typeof e=="object"&&typeof e.toCBOR=="function"}encode(e){return e.toCBOR()}}mu.ToCborEncoder=tN;class nN{constructor(){this._encoders=new Set}static withDefaultEncoders(e=!1){const n=new this;return n.addEncoder(new eN(n,e)),n.addEncoder(new tN),n}removeEncoder(e){for(const n of this._encoders.values())n.name==e&&this._encoders.delete(n)}addEncoder(e){this._encoders.add(e)}getEncoderFor(e){let n=null;for(const r of this._encoders)(!n||r.priority>n.priority)&&r.match(e)&&(n=r);if(n===null)throw new Error("Could not find an encoder for value.");return n}serializeValue(e){return this.getEncoderFor(e).encode(e)}serialize(e){return this.serializeValue(e)}}mu.CborSerializer=nN;class fM extends nN{serialize(e){return jr.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(e))]))}}mu.SelfDescribeCborSerializer=fM;(function(t){function e(a){for(var i in a)t.hasOwnProperty(i)||(t[i]=a[i])}var n=Il&&Il.__importStar||function(a){if(a&&a.__esModule)return a;var i={};if(a!=null)for(var s in a)Object.hasOwnProperty.call(a,s)&&(i[s]=a[s]);return i.default=a,i};Object.defineProperty(t,"__esModule",{value:!0}),e(mu);const r=n(dt);t.value=r})(hi);class dM{get name(){return"Principal"}get priority(){return 0}match(e){return e&&e._isPrincipal===!0}encode(e){return hi.value.bytes(e.toUint8Array())}}class hM{get name(){return"Buffer"}get priority(){return 1}match(e){return e instanceof ArrayBuffer||ArrayBuffer.isView(e)}encode(e){return hi.value.bytes(new Uint8Array(e))}}class mM{get name(){return"BigInt"}get priority(){return 1}match(e){return typeof e=="bigint"}encode(e){return e>BigInt(0)?hi.value.tagged(2,hi.value.bytes(Em(e.toString(16)))):hi.value.tagged(3,hi.value.bytes(Em((BigInt("-1")*e).toString(16))))}}const yp=hi.SelfDescribeCborSerializer.withDefaultEncoders(!0);yp.addEncoder(new dM);yp.addEncoder(new hM);yp.addEncoder(new mM);var kg;(function(t){t[t.Uint64LittleEndian=71]="Uint64LittleEndian",t[t.Semantic=55799]="Semantic"})(kg||(kg={}));function Py(t){return yp.serialize(t)}function GE(t){const e=t.byteLength;let n=BigInt(0);for(let r=0;r<e;r++)n=n*BigInt(256)+BigInt(t[r]);return n}class pM extends H5.Decoder{createByteString(e){return qa(...e)}createByteStringFromHeap(e,n){return e===n?new ArrayBuffer(0):new Uint8Array(this._heap.slice(e,n))}}function mi(t){const e=new Uint8Array(t),n=new pM({size:e.byteLength,tags:{2:r=>GE(r),3:r=>-GE(r),[kg.Semantic]:r=>r}});try{return n.decodeFirst(e)}catch(r){throw new Error(`Failed to decode CBOR: ${r}, input: ${sn(e)}`)}}const m0=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){const t=new Uint32Array(1);return window.crypto.getRandomValues(t),t[0]}if(typeof crypto<"u"&&crypto.getRandomValues){const t=new Uint32Array(1);return crypto.getRandomValues(t),t[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)};var Fg;(function(t){t.Call="call"})(Fg||(Fg={}));function jg(){const t=new ArrayBuffer(16),e=new DataView(t),n=m0(),r=m0(),a=m0(),i=m0();return e.setUint32(0,n),e.setUint32(4,r),e.setUint32(8,a),e.setUint32(12,i),t}const YE=BigInt(1e6),yM=60*1e3;class p0{constructor(e){if(e<90*1e3){const c=BigInt(Date.now()+e)*YE/BigInt(1e9);this._value=c*BigInt(1e9);return}const i=BigInt(Math.floor(Date.now()+e-yM))*YE/BigInt(1e9)/BigInt(60)*BigInt(60)*BigInt(1e9);this._value=i}toCBOR(){return hi.value.u64(this._value.toString(16),16)}toHash(){return Ot(this._value)}}function KE(t=jg){return async e=>{const n=e.request.headers;e.request.headers=n,e.endpoint==="call"&&(e.body.nonce=t())}}function ku(t){const e=[];return t.forEach((n,r)=>{e.push([r,n])}),e}class Gy extends Rt{constructor(e,n){super(e),this.response=n,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}class gM extends Rt{constructor(e,n,r,a,i,s){super(e),this.response=n,this.requestId=r,this.senderPubkey=a,this.senderSig=i,this.ingressExpiry=s,this.name="AgentCallError",Object.setPrototypeOf(this,new.target.prototype)}}class bM extends Rt{constructor(e,n,r,a,i,s){super(e),this.response=n,this.requestId=r,this.senderPubkey=a,this.senderSig=i,this.ingressExpiry=s,this.name="AgentQueryError",Object.setPrototypeOf(this,new.target.prototype)}}class xM extends Rt{constructor(e,n,r,a,i,s){super(e),this.response=n,this.requestId=r,this.senderPubkey=a,this.senderSig=i,this.ingressExpiry=s,this.name="AgentReadStateError",Object.setPrototypeOf(this,new.target.prototype)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const P2=BigInt(0),G2=BigInt(1),wM=BigInt(2);function gp(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Zs(t){if(!gp(t))throw new Error("Uint8Array expected")}function of(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const EM=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function io(t){Zs(t);let e="";for(let n=0;n<t.length;n++)e+=EM[t[n]];return e}function rN(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?P2:BigInt("0x"+t)}const Pa={_0:48,_9:57,A:65,F:70,a:97,f:102};function LE(t){if(t>=Pa._0&&t<=Pa._9)return t-Pa._0;if(t>=Pa.A&&t<=Pa.F)return t-(Pa.A-10);if(t>=Pa.a&&t<=Pa.f)return t-(Pa.a-10)}function aN(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let a=0,i=0;a<n;a++,i+=2){const s=LE(t.charCodeAt(i)),c=LE(t.charCodeAt(i+1));if(s===void 0||c===void 0){const l=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+i)}r[a]=s*16+c}return r}function Lr(t){return rN(io(t))}function lf(t){return Zs(t),rN(io(Uint8Array.from(t).reverse()))}function yn(t,e){return aN(t.toString(16).padStart(e*2,"0"))}function Tm(t,e){return yn(t,e).reverse()}function Fn(t,e,n){let r;if(typeof e=="string")try{r=aN(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(gp(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const a=r.length;if(typeof n=="number"&&a!==n)throw new Error(t+" of length "+n+" expected, got "+a);return r}function Ht(...t){let e=0;for(let r=0;r<t.length;r++){const a=t[r];Zs(a),e+=a.length}const n=new Uint8Array(e);for(let r=0,a=0;r<t.length;r++){const i=t[r];n.set(i,a),a+=i.length}return n}function Y2(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const Yy=t=>typeof t=="bigint"&&P2<=t;function iN(t,e,n){return Yy(t)&&Yy(e)&&Yy(n)&&e<=t&&t<n}function cs(t,e,n,r){if(!iN(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function uf(t){let e;for(e=0;t>P2;t>>=G2,e+=1);return e}function vM(t,e){return t>>BigInt(e)&G2}const J0=t=>(wM<<BigInt(t-1))-G2,_M={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||gp(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Fd(t,e,n={}){const r=(a,i,s)=>{const c=_M[i];if(typeof c!="function")throw new Error("invalid validator function");const l=t[a];if(!(s&&l===void 0)&&!c(l,t))throw new Error("param "+String(a)+" is invalid. Expected "+i+", got "+l)};for(const[a,i]of Object.entries(e))r(a,i,!1);for(const[a,i]of Object.entries(n))r(a,i,!0);return t}const ZE=()=>{throw new Error("not implemented")};function Gf(t){const e=new WeakMap;return(n,...r)=>{const a=e.get(n);if(a!==void 0)return a;const i=t(n,...r);return e.set(n,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const un=BigInt(0),xt=BigInt(1),os=BigInt(2),NM=BigInt(3),Vg=BigInt(4),XE=BigInt(5),QE=BigInt(8);function Tt(t,e){const n=t%e;return n>=un?n:e+n}function SM(t,e,n){if(e<un)throw new Error("invalid exponent, negatives unsupported");if(n<=un)throw new Error("invalid modulus");if(n===xt)return un;let r=xt;for(;e>un;)e&xt&&(r=r*t%n),t=t*t%n,e>>=xt;return r}function sa(t,e,n){let r=t;for(;e-- >un;)r*=r,r%=n;return r}function JE(t,e){if(t===un)throw new Error("invert: expected non-zero number");if(e<=un)throw new Error("invert: expected positive modulus, got "+e);let n=Tt(t,e),r=e,a=un,i=xt;for(;n!==un;){const c=r/n,l=r%n,u=a-i*c;r=n,n=l,a=i,i=u}if(r!==xt)throw new Error("invert: does not exist");return Tt(a,e)}function TM(t){const e=(t-xt)/os;let n,r,a;for(n=t-xt,r=0;n%os===un;n/=os,r++);for(a=os;a<t&&SM(a,e,t)!==t-xt;a++)if(a>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const s=(t+xt)/Vg;return function(l,u){const p=l.pow(u,s);if(!l.eql(l.sqr(p),u))throw new Error("Cannot find square root");return p}}const i=(n+xt)/os;return function(c,l){if(c.pow(l,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let u=r,p=c.pow(c.mul(c.ONE,a),n),y=c.pow(l,i),h=c.pow(l,n);for(;!c.eql(h,c.ONE);){if(c.eql(h,c.ZERO))return c.ZERO;let d=1;for(let A=c.sqr(h);d<u&&!c.eql(A,c.ONE);d++)A=c.sqr(A);const f=c.pow(p,xt<<BigInt(u-d-1));p=c.sqr(f),y=c.mul(y,f),h=c.mul(h,p),u=d}return y}}function AM(t){if(t%Vg===NM){const e=(t+xt)/Vg;return function(r,a){const i=r.pow(a,e);if(!r.eql(r.sqr(i),a))throw new Error("Cannot find square root");return i}}if(t%QE===XE){const e=(t-XE)/QE;return function(r,a){const i=r.mul(a,os),s=r.pow(i,e),c=r.mul(a,s),l=r.mul(r.mul(c,os),s),u=r.mul(c,r.sub(l,r.ONE));if(!r.eql(r.sqr(u),a))throw new Error("Cannot find square root");return u}}return TM(t)}const BM=(t,e)=>(Tt(t,e)&xt)===xt,RM=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sN(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=RM.reduce((r,a)=>(r[a]="function",r),e);return Fd(t,n)}function W0(t,e,n){if(n<un)throw new Error("invalid exponent, negatives unsupported");if(n===un)return t.ONE;if(n===xt)return e;let r=t.ONE,a=e;for(;n>un;)n&xt&&(r=t.mul(r,a)),a=t.sqr(a),n>>=xt;return r}function eh(t,e){const n=new Array(e.length),r=e.reduce((i,s,c)=>t.is0(s)?i:(n[c]=i,t.mul(i,s)),t.ONE),a=t.inv(r);return e.reduceRight((i,s,c)=>t.is0(s)?i:(n[c]=t.mul(i,n[c]),t.mul(i,s)),a),n}function OM(t){const e=(t-xt)/os;return(n,r)=>n.pow(r,e)}function cN(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function jd(t,e,n=!1,r={}){if(t<=un)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:a,nByteLength:i}=cN(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const c=Object.freeze({ORDER:t,isLE:n,BITS:a,BYTES:i,MASK:J0(a),ZERO:un,ONE:xt,create:l=>Tt(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return un<=l&&l<t},is0:l=>l===un,isOdd:l=>(l&xt)===xt,neg:l=>Tt(-l,t),eql:(l,u)=>l===u,sqr:l=>Tt(l*l,t),add:(l,u)=>Tt(l+u,t),sub:(l,u)=>Tt(l-u,t),mul:(l,u)=>Tt(l*u,t),pow:(l,u)=>W0(c,l,u),div:(l,u)=>Tt(l*JE(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>JE(l,t),sqrt:r.sqrt||(l=>(s||(s=AM(t)),s(c,l))),invertBatch:l=>eh(c,l),cmov:(l,u,p)=>p?u:l,toBytes:l=>n?Tm(l,i):yn(l,i),fromBytes:l=>{if(l.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+l.length);return n?lf(l):Lr(l)}});return Object.freeze(c)}function oN(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function lN(t){const e=oN(t);return e+Math.ceil(e/2)}function UM(t,e,n=!1){const r=t.length,a=oN(e),i=lN(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const s=n?lf(t):Lr(t),c=Tt(s,e-xt)+xt;return n?Tm(c,a):yn(c,a)}const CM=Lr;function Ji(t,e){if(Yf(t),Yf(e),t<0||t>=1<<8*e)throw new Error("invalid I2OSP input: "+t);const n=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)n[r]=t&255,t>>>=8;return new Uint8Array(n)}function MM(t,e){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r]^e[r];return n}function Yf(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function qM(t,e,n,r){Zs(t),Zs(e),Yf(n),e.length>255&&(e=r(Ht(Y2("H2C-OVERSIZE-DST-"),e)));const{outputLen:a,blockLen:i}=r,s=Math.ceil(n/a);if(n>65535||s>255)throw new Error("expand_message_xmd: invalid lenInBytes");const c=Ht(e,Ji(e.length,1)),l=Ji(0,i),u=Ji(n,2),p=new Array(s),y=r(Ht(l,t,u,Ji(0,1),c));p[0]=r(Ht(y,Ji(1,1),c));for(let d=1;d<=s;d++){const f=[MM(y,p[d-1]),Ji(d+1,1),c];p[d]=r(Ht(...f))}return Ht(...p).slice(0,n)}function IM(t,e,n,r,a){if(Zs(t),Zs(e),Yf(n),e.length>255){const i=Math.ceil(2*r/8);e=a.create({dkLen:i}).update(Y2("H2C-OVERSIZE-DST-")).update(e).digest()}if(n>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return a.create({dkLen:n}).update(t).update(Ji(n,2)).update(e).update(Ji(e.length,1)).digest()}function WE(t,e,n){Fd(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:a,m:i,hash:s,expand:c,DST:l}=n;Zs(t),Yf(e);const u=typeof l=="string"?Y2(l):l,p=r.toString(2).length,y=Math.ceil((p+a)/8),h=e*i*y;let d;if(c==="xmd")d=qM(t,u,h,s);else if(c==="xof")d=IM(t,u,h,a,s);else if(c==="_internal_pass")d=t;else throw new Error('expand must be "xmd" or "xof"');const f=new Array(e);for(let A=0;A<e;A++){const N=new Array(i);for(let v=0;v<i;v++){const x=y*(v+A*i),_=d.subarray(x,x+y);N[v]=Tt(CM(_),r)}f[A]=N}return f}function uN(t,e){const n=e.map(r=>Array.from(r).reverse());return(r,a)=>{const[i,s,c,l]=n.map(u=>u.reduce((p,y)=>t.add(t.mul(p,r),y)));return r=t.div(i,s),a=t.mul(a,t.div(c,l)),{x:r,y:a}}}function ev(t,e,n){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,a){const i=WE(r,2,{...n,DST:n.DST,...a}),s=t.fromAffine(e(i[0])),c=t.fromAffine(e(i[1])),l=s.add(c).clearCofactor();return l.assertValidity(),l},encodeToCurve(r,a){const i=WE(r,1,{...n,DST:n.encodeDST,...a}),s=t.fromAffine(e(i[0])).clearCofactor();return s.assertValidity(),s},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const i of r)if(typeof i!="bigint")throw new Error("mapToCurve: expected array of bigints");const a=t.fromAffine(e(r)).clearCofactor();return a.assertValidity(),a}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tv=BigInt(0),y0=BigInt(1);function Ky(t,e){const n=e.negate();return t?n:e}function fN(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Ly(t,e){fN(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function $M(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function kM(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Zy=new WeakMap,dN=new WeakMap;function Xy(t){return dN.get(t)||1}function hN(t,e){return{constTimeNegate:Ky,hasPrecomputes(n){return Xy(n)!==1},unsafeLadder(n,r,a=t.ZERO){let i=n;for(;r>tv;)r&y0&&(a=a.add(i)),i=i.double(),r>>=y0;return a},precomputeWindow(n,r){const{windows:a,windowSize:i}=Ly(r,e),s=[];let c=n,l=c;for(let u=0;u<a;u++){l=c,s.push(l);for(let p=1;p<i;p++)l=l.add(c),s.push(l);c=l.double()}return s},wNAF(n,r,a){const{windows:i,windowSize:s}=Ly(n,e);let c=t.ZERO,l=t.BASE;const u=BigInt(2**n-1),p=2**n,y=BigInt(n);for(let h=0;h<i;h++){const d=h*s;let f=Number(a&u);a>>=y,f>s&&(f-=p,a+=y0);const A=d,N=d+Math.abs(f)-1,v=h%2!==0,x=f<0;f===0?l=l.add(Ky(v,r[A])):c=c.add(Ky(x,r[N]))}return{p:c,f:l}},wNAFUnsafe(n,r,a,i=t.ZERO){const{windows:s,windowSize:c}=Ly(n,e),l=BigInt(2**n-1),u=2**n,p=BigInt(n);for(let y=0;y<s;y++){const h=y*c;if(a===tv)break;let d=Number(a&l);if(a>>=p,d>c&&(d-=u,a+=y0),d===0)continue;let f=r[h+Math.abs(d)-1];d<0&&(f=f.negate()),i=i.add(f)}return i},getPrecomputes(n,r,a){let i=Zy.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&Zy.set(r,a(i))),i},wNAFCached(n,r,a){const i=Xy(n);return this.wNAF(i,this.getPrecomputes(i,n,a),r)},wNAFCachedUnsafe(n,r,a,i){const s=Xy(n);return s===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(s,this.getPrecomputes(s,n,a),r,i)},setWindowSize(n,r){fN(r,e),dN.set(n,r),Zy.delete(n)}}}function mN(t,e,n,r){if($M(n,t),kM(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,i=uf(BigInt(n.length)),s=i>12?i-3:i>4?i-2:i?2:1,c=(1<<s)-1,l=new Array(c+1).fill(a),u=Math.floor((e.BITS-1)/s)*s;let p=a;for(let y=u;y>=0;y-=s){l.fill(a);for(let d=0;d<r.length;d++){const f=r[d],A=Number(f>>BigInt(y)&BigInt(c));l[A]=l[A].add(n[d])}let h=a;for(let d=l.length-1,f=a;d>0;d--)f=f.add(l[d]),h=h.add(f);if(p=p.add(h),y!==0)for(let d=0;d<s;d++)p=p.double()}return p}function pN(t){return sN(t.Fp),Fd(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...cN(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function FM(t){const e=pN(t);Fd(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a}=e;if(n){if(!r.eql(a,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const dc=BigInt(0),Mt=BigInt(1),Vi=BigInt(2),Am=BigInt(3),nv=BigInt(4);function rv(t){const e=FM(t),{Fp:n}=e,r=jd(e.n,e.nBitLength),a=e.toBytes||((A,N,v)=>{const x=N.toAffine();return Ht(Uint8Array.from([4]),n.toBytes(x.x),n.toBytes(x.y))}),i=e.fromBytes||(A=>{const N=A.subarray(1),v=n.fromBytes(N.subarray(0,n.BYTES)),x=n.fromBytes(N.subarray(n.BYTES,2*n.BYTES));return{x:v,y:x}});function s(A){const{a:N,b:v}=e,x=n.sqr(A),_=n.mul(x,A);return n.add(n.add(_,n.mul(A,N)),v)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function c(A){return iN(A,Mt,e.n)}function l(A){const{allowedPrivateKeyLengths:N,nByteLength:v,wrapPrivateKey:x,n:_}=e;if(N&&typeof A!="bigint"){if(gp(A)&&(A=io(A)),typeof A!="string"||!N.includes(A.length))throw new Error("invalid private key");A=A.padStart(v*2,"0")}let M;try{M=typeof A=="bigint"?A:Lr(Fn("private key",A,v))}catch{throw new Error("invalid private key, expected hex or "+v+" bytes, got "+typeof A)}return x&&(M=Tt(M,_)),cs("private key",M,Mt,_),M}function u(A){if(!(A instanceof h))throw new Error("ProjectivePoint expected")}const p=Gf((A,N)=>{const{px:v,py:x,pz:_}=A;if(n.eql(_,n.ONE))return{x:v,y:x};const M=A.is0();N==null&&(N=M?n.ONE:n.inv(_));const S=n.mul(v,N),H=n.mul(x,N),z=n.mul(_,N);if(M)return{x:n.ZERO,y:n.ZERO};if(!n.eql(z,n.ONE))throw new Error("invZ was invalid");return{x:S,y:H}}),y=Gf(A=>{if(A.is0()){if(e.allowInfinityPoint&&!n.is0(A.py))return;throw new Error("bad point: ZERO")}const{x:N,y:v}=A.toAffine();if(!n.isValid(N)||!n.isValid(v))throw new Error("bad point: x or y not FE");const x=n.sqr(v),_=s(N);if(!n.eql(x,_))throw new Error("bad point: equation left != right");if(!A.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(N,v,x){if(this.px=N,this.py=v,this.pz=x,N==null||!n.isValid(N))throw new Error("x required");if(v==null||!n.isValid(v))throw new Error("y required");if(x==null||!n.isValid(x))throw new Error("z required");Object.freeze(this)}static fromAffine(N){const{x:v,y:x}=N||{};if(!N||!n.isValid(v)||!n.isValid(x))throw new Error("invalid affine point");if(N instanceof h)throw new Error("projective point not allowed");const _=M=>n.eql(M,n.ZERO);return _(v)&&_(x)?h.ZERO:new h(v,x,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){const v=n.invertBatch(N.map(x=>x.pz));return N.map((x,_)=>x.toAffine(v[_])).map(h.fromAffine)}static fromHex(N){const v=h.fromAffine(i(Fn("pointHex",N)));return v.assertValidity(),v}static fromPrivateKey(N){return h.BASE.multiply(l(N))}static msm(N,v){return mN(h,r,N,v)}_setWindowSize(N){f.setWindowSize(this,N)}assertValidity(){y(this)}hasEvenY(){const{y:N}=this.toAffine();if(n.isOdd)return!n.isOdd(N);throw new Error("Field doesn't support isOdd")}equals(N){u(N);const{px:v,py:x,pz:_}=this,{px:M,py:S,pz:H}=N,z=n.eql(n.mul(v,H),n.mul(M,_)),K=n.eql(n.mul(x,H),n.mul(S,_));return z&&K}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:N,b:v}=e,x=n.mul(v,Am),{px:_,py:M,pz:S}=this;let H=n.ZERO,z=n.ZERO,K=n.ZERO,Z=n.mul(_,_),k=n.mul(M,M),P=n.mul(S,S),X=n.mul(_,M);return X=n.add(X,X),K=n.mul(_,S),K=n.add(K,K),H=n.mul(N,K),z=n.mul(x,P),z=n.add(H,z),H=n.sub(k,z),z=n.add(k,z),z=n.mul(H,z),H=n.mul(X,H),K=n.mul(x,K),P=n.mul(N,P),X=n.sub(Z,P),X=n.mul(N,X),X=n.add(X,K),K=n.add(Z,Z),Z=n.add(K,Z),Z=n.add(Z,P),Z=n.mul(Z,X),z=n.add(z,Z),P=n.mul(M,S),P=n.add(P,P),Z=n.mul(P,X),H=n.sub(H,Z),K=n.mul(P,k),K=n.add(K,K),K=n.add(K,K),new h(H,z,K)}add(N){u(N);const{px:v,py:x,pz:_}=this,{px:M,py:S,pz:H}=N;let z=n.ZERO,K=n.ZERO,Z=n.ZERO;const k=e.a,P=n.mul(e.b,Am);let X=n.mul(v,M),E=n.mul(x,S),O=n.mul(_,H),j=n.add(v,x),C=n.add(M,S);j=n.mul(j,C),C=n.add(X,E),j=n.sub(j,C),C=n.add(v,_);let V=n.add(M,H);return C=n.mul(C,V),V=n.add(X,O),C=n.sub(C,V),V=n.add(x,_),z=n.add(S,H),V=n.mul(V,z),z=n.add(E,O),V=n.sub(V,z),Z=n.mul(k,C),z=n.mul(P,O),Z=n.add(z,Z),z=n.sub(E,Z),Z=n.add(E,Z),K=n.mul(z,Z),E=n.add(X,X),E=n.add(E,X),O=n.mul(k,O),C=n.mul(P,C),E=n.add(E,O),O=n.sub(X,O),O=n.mul(k,O),C=n.add(C,O),X=n.mul(E,C),K=n.add(K,X),X=n.mul(V,C),z=n.mul(j,z),z=n.sub(z,X),X=n.mul(j,E),Z=n.mul(V,Z),Z=n.add(Z,X),new h(z,K,Z)}subtract(N){return this.add(N.negate())}is0(){return this.equals(h.ZERO)}wNAF(N){return f.wNAFCached(this,N,h.normalizeZ)}multiplyUnsafe(N){const{endo:v,n:x}=e;cs("scalar",N,dc,x);const _=h.ZERO;if(N===dc)return _;if(this.is0()||N===Mt)return this;if(!v||f.hasPrecomputes(this))return f.wNAFCachedUnsafe(this,N,h.normalizeZ);let{k1neg:M,k1:S,k2neg:H,k2:z}=v.splitScalar(N),K=_,Z=_,k=this;for(;S>dc||z>dc;)S&Mt&&(K=K.add(k)),z&Mt&&(Z=Z.add(k)),k=k.double(),S>>=Mt,z>>=Mt;return M&&(K=K.negate()),H&&(Z=Z.negate()),Z=new h(n.mul(Z.px,v.beta),Z.py,Z.pz),K.add(Z)}multiply(N){const{endo:v,n:x}=e;cs("scalar",N,Mt,x);let _,M;if(v){const{k1neg:S,k1:H,k2neg:z,k2:K}=v.splitScalar(N);let{p:Z,f:k}=this.wNAF(H),{p:P,f:X}=this.wNAF(K);Z=f.constTimeNegate(S,Z),P=f.constTimeNegate(z,P),P=new h(n.mul(P.px,v.beta),P.py,P.pz),_=Z.add(P),M=k.add(X)}else{const{p:S,f:H}=this.wNAF(N);_=S,M=H}return h.normalizeZ([_,M])[0]}multiplyAndAddUnsafe(N,v,x){const _=h.BASE,M=(H,z)=>z===dc||z===Mt||!H.equals(_)?H.multiplyUnsafe(z):H.multiply(z),S=M(this,v).add(M(N,x));return S.is0()?void 0:S}toAffine(N){return p(this,N)}isTorsionFree(){const{h:N,isTorsionFree:v}=e;if(N===Mt)return!0;if(v)return v(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:N,clearCofactor:v}=e;return N===Mt?this:v?v(h,this):this.multiplyUnsafe(e.h)}toRawBytes(N=!0){return of("isCompressed",N),this.assertValidity(),a(h,this,N)}toHex(N=!0){return of("isCompressed",N),io(this.toRawBytes(N))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const d=e.nBitLength,f=hN(h,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:c}}function jM(t,e){const n=t.ORDER;let r=dc;for(let f=n-Mt;f%Vi===dc;f/=Vi)r+=Mt;const a=r,i=Vi<<a-Mt-Mt,s=i*Vi,c=(n-Mt)/s,l=(c-Mt)/Vi,u=s-Mt,p=i,y=t.pow(e,c),h=t.pow(e,(c+Mt)/Vi);let d=(f,A)=>{let N=y,v=t.pow(A,u),x=t.sqr(v);x=t.mul(x,A);let _=t.mul(f,x);_=t.pow(_,l),_=t.mul(_,v),v=t.mul(_,A),x=t.mul(_,f);let M=t.mul(x,v);_=t.pow(M,p);let S=t.eql(_,t.ONE);v=t.mul(x,h),_=t.mul(M,N),x=t.cmov(v,x,S),M=t.cmov(_,M,S);for(let H=a;H>Mt;H--){let z=H-Vi;z=Vi<<z-Mt;let K=t.pow(M,z);const Z=t.eql(K,t.ONE);v=t.mul(x,N),N=t.mul(N,N),K=t.mul(M,N),x=t.cmov(v,x,Z),M=t.cmov(K,M,Z)}return{isValid:S,value:x}};if(t.ORDER%nv===Am){const f=(t.ORDER-Am)/nv,A=t.sqrt(t.neg(e));d=(N,v)=>{let x=t.sqr(v);const _=t.mul(N,v);x=t.mul(x,_);let M=t.pow(x,f);M=t.mul(M,_);const S=t.mul(M,A),H=t.mul(t.sqr(M),v),z=t.eql(H,N);let K=t.cmov(S,M,z);return{isValid:z,value:K}}}return d}function yN(t,e){if(sN(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=jM(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let a,i,s,c,l,u,p,y;a=t.sqr(r),a=t.mul(a,e.Z),i=t.sqr(a),i=t.add(i,a),s=t.add(i,t.ONE),s=t.mul(s,e.B),c=t.cmov(e.Z,t.neg(i),!t.eql(i,t.ZERO)),c=t.mul(c,e.A),i=t.sqr(s),u=t.sqr(c),l=t.mul(u,e.A),i=t.add(i,l),i=t.mul(i,s),u=t.mul(u,c),l=t.mul(u,e.B),i=t.add(i,l),p=t.mul(a,s);const{isValid:h,value:d}=n(i,u);y=t.mul(a,r),y=t.mul(y,d),p=t.cmov(p,s,h),y=t.cmov(y,d,h);const f=t.isOdd(r)===t.isOdd(y);return y=t.cmov(t.neg(y),y,f),p=t.div(p,c),{x:p,y}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const VM=BigInt(0),g0=BigInt(1),av=BigInt(2),Jo=BigInt(3);function HM(t){const e=[];for(;t>g0;t>>=g0)(t&g0)===VM?e.unshift(0):(t&Jo)===Jo?(e.unshift(-1),t+=g0):e.unshift(1);return e}function DM(t){const{Fp:e,Fr:n,Fp2:r,Fp6:a,Fp12:i}=t.fields,s=t.params.xNegative,c=t.params.twistType,l=rv({n:n.ORDER,...t.G1}),u=Object.assign(l,ev(l.ProjectivePoint,t.G1.mapToCurve,{...t.htfDefaults,...t.G1.htfDefaults})),p=rv({n:n.ORDER,...t.G2}),y=Object.assign(p,ev(p.ProjectivePoint,t.G2.mapToCurve,{...t.htfDefaults,...t.G2.htfDefaults}));let h;if(c==="multiplicative")h=(le,U,de,pe,xe,me)=>i.mul014(pe,le,r.mul(U,xe),r.mul(de,me));else if(c==="divisive")h=(le,U,de,pe,xe,me)=>i.mul034(pe,r.mul(de,me),r.mul(U,xe),le);else throw new Error("bls: unknown twist type");const d=r.div(r.ONE,r.mul(r.ONE,av));function f(le,U,de,pe){const xe=r.sqr(de),me=r.sqr(pe),ge=r.mulByB(r.mul(me,Jo)),I=r.mul(ge,Jo),D=r.sub(r.sub(r.sqr(r.add(de,pe)),me),xe),L=r.sub(ge,xe),te=r.mul(r.sqr(U),Jo),W=r.neg(D);return le.push([L,te,W]),U=r.mul(r.mul(r.mul(r.sub(xe,I),U),de),d),de=r.sub(r.sqr(r.mul(r.add(xe,I),d)),r.mul(r.sqr(ge),Jo)),pe=r.mul(xe,D),{Rx:U,Ry:de,Rz:pe}}function A(le,U,de,pe,xe,me){const ge=r.sub(de,r.mul(me,pe)),I=r.sub(U,r.mul(xe,pe)),D=r.sub(r.mul(ge,xe),r.mul(I,me)),L=r.neg(ge),te=I;le.push([D,L,te]);const W=r.sqr(I),ne=r.mul(W,I),T=r.mul(W,U),m=r.add(r.sub(ne,r.mul(T,av)),r.mul(r.sqr(ge),pe));return U=r.mul(I,m),de=r.sub(r.mul(r.sub(T,m),ge),r.mul(ne,de)),pe=r.mul(pe,ne),{Rx:U,Ry:de,Rz:pe}}const N=HM(t.params.ateLoopSize),v=Gf(le=>{const U=le,{x:de,y:pe}=U.toAffine(),xe=de,me=pe,ge=r.neg(pe);let I=xe,D=me,L=r.ONE;const te=[];for(const W of N){const ne=[];({Rx:I,Ry:D,Rz:L}=f(ne,I,D,L)),W&&({Rx:I,Ry:D,Rz:L}=A(ne,I,D,L,xe,W===-1?ge:me)),te.push(ne)}if(t.postPrecompute){const W=te[te.length-1];t.postPrecompute(I,D,L,xe,me,A.bind(null,W))}return te});function x(le,U=!1){let de=i.ONE;if(le.length){const pe=le[0][0].length;for(let xe=0;xe<pe;xe++){de=i.sqr(de);for(const[me,ge,I]of le)for(const[D,L,te]of me[xe])de=h(D,L,te,de,ge,I)}}return s&&(de=i.conjugate(de)),U?i.finalExponentiate(de):de}function _(le,U=!0){const de=[];u.ProjectivePoint.normalizeZ(le.map(({g1:pe})=>pe)),y.ProjectivePoint.normalizeZ(le.map(({g2:pe})=>pe));for(const{g1:pe,g2:xe}of le){if(pe.equals(u.ProjectivePoint.ZERO)||xe.equals(y.ProjectivePoint.ZERO))throw new Error("pairing is not available for ZERO point");pe.assertValidity(),xe.assertValidity();const me=pe.toAffine();de.push([v(xe),me.x,me.y])}return x(de,U)}function M(le,U,de=!0){return _([{g1:le,g2:U}],de)}const S={randomPrivateKey:()=>{const le=lN(n.ORDER);return UM(t.randomBytes(le),n.ORDER)},calcPairingPrecomputes:v},{ShortSignature:H}=t.G1,{Signature:z}=t.G2;function K(le){return le instanceof u.ProjectivePoint?le:u.ProjectivePoint.fromHex(le)}function Z(le,U){return le instanceof u.ProjectivePoint?le:u.hashToCurve(Fn("point",le),U)}function k(le){return le instanceof y.ProjectivePoint?le:z.fromHex(le)}function P(le,U){return le instanceof y.ProjectivePoint?le:y.hashToCurve(Fn("point",le),U)}function X(le){return u.ProjectivePoint.fromPrivateKey(le).toRawBytes(!0)}function E(le){return y.ProjectivePoint.fromPrivateKey(le).toRawBytes(!0)}function O(le,U,de){const pe=P(le,de);pe.assertValidity();const xe=pe.multiply(u.normPrivateKeyToScalar(U));return le instanceof y.ProjectivePoint?xe:z.toRawBytes(xe)}function j(le,U,de){const pe=Z(le,de);pe.assertValidity();const xe=pe.multiply(u.normPrivateKeyToScalar(U));return le instanceof u.ProjectivePoint?xe:H.toRawBytes(xe)}function C(le,U,de,pe){const xe=K(de),me=P(U,pe),ge=u.ProjectivePoint.BASE,I=k(le),D=_([{g1:xe.negate(),g2:me},{g1:ge,g2:I}]);return i.eql(D,i.ONE)}function V(le,U,de,pe){const xe=k(de),me=Z(U,pe),ge=y.ProjectivePoint.BASE,I=K(le),D=_([{g1:me,g2:xe},{g1:I,g2:ge.negate()}]);return i.eql(D,i.ONE)}function F(le){if(!Array.isArray(le)||le.length===0)throw new Error("expected non-empty array")}function Q(le){F(le);const de=le.map(K).reduce((pe,xe)=>pe.add(xe),u.ProjectivePoint.ZERO);return le[0]instanceof u.ProjectivePoint?(de.assertValidity(),de):de.toRawBytes(!0)}function oe(le){F(le);const de=le.map(k).reduce((pe,xe)=>pe.add(xe),y.ProjectivePoint.ZERO);return le[0]instanceof y.ProjectivePoint?(de.assertValidity(),de):z.toRawBytes(de)}function ae(le){F(le);const de=le.map(K).reduce((pe,xe)=>pe.add(xe),u.ProjectivePoint.ZERO);return le[0]instanceof u.ProjectivePoint?(de.assertValidity(),de):H.toRawBytes(de)}function se(le,U,de,pe){if(F(U),de.length!==U.length)throw new Error("amount of public keys and messages should be equal");const xe=k(le),me=U.map(L=>P(L,pe)),ge=de.map(K),I=new Map;for(let L=0;L<ge.length;L++){const te=ge[L],W=me[L];let ne=I.get(W);ne===void 0&&(ne=[],I.set(W,ne)),ne.push(te)}const D=[];try{for(const[L,te]of I){const W=te.reduce((ne,T)=>ne.add(T));D.push({g1:W,g2:L})}return D.push({g1:u.ProjectivePoint.BASE.negate(),g2:xe}),i.eql(_(D),i.ONE)}catch{return!1}}return u.ProjectivePoint.BASE._setWindowSize(4),{getPublicKey:X,getPublicKeyForShortSignatures:E,sign:O,signShortSignature:j,verify:C,verifyBatch:se,verifyShortSignature:V,aggregatePublicKeys:Q,aggregateSignatures:oe,aggregateShortSignatures:ae,millerLoopBatch:x,pairing:M,pairingBatch:_,G1:u,G2:y,Signature:z,ShortSignature:H,fields:{Fr:n,Fp:e,Fp2:r,Fp6:a,Fp12:i},params:{ateLoopSize:t.params.ateLoopSize,r:t.params.r,G1b:t.G1.b,G2b:t.G2.b},utils:S}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zM=BigInt(0),Wo=BigInt(1),ai=BigInt(2),iv=BigInt(3);function Qy(t,e,n,r,a=1,i){const s=BigInt(i===void 0?r:i),c=n**BigInt(r),l=[];for(let u=0;u<a;u++){const p=BigInt(u+1),y=[];for(let h=0,d=Wo;h<r;h++){const f=(p*d-p)/s%c;y.push(t.pow(e,f)),d*=n}l.push(y)}return l}function PM(t,e,n){const r=e.pow(n,(t.ORDER-Wo)/iv),a=e.pow(n,(t.ORDER-Wo)/ai);function i(h,d){const f=e.mul(e.frobeniusMap(h,1),r),A=e.mul(e.frobeniusMap(d,1),a);return[f,A]}const s=e.pow(n,(t.ORDER**ai-Wo)/iv),c=e.pow(n,(t.ORDER**ai-Wo)/ai);if(!e.eql(c,e.neg(e.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function l(h,d){return[e.mul(h,s),e.neg(d)]}const u=h=>(d,f)=>{const A=f.toAffine(),N=h(A.x,A.y);return d.fromAffine({x:N[0],y:N[1]})},p=u(i),y=u(l);return{psi:i,psi2:l,G2psi:p,G2psi2:y,PSI_X:r,PSI_Y:a,PSI2_X:s,PSI2_Y:c}}function GM(t){const{ORDER:e}=t,n=jd(e),r=n.create(t.NONRESIDUE||BigInt(-1)),a=OM(e),i=n.div(n.ONE,ai),s=Qy(n,r,n.ORDER,2)[0],c=({c0:E,c1:O},{c0:j,c1:C})=>({c0:n.add(E,j),c1:n.add(O,C)}),l=({c0:E,c1:O},{c0:j,c1:C})=>({c0:n.sub(E,j),c1:n.sub(O,C)}),u=({c0:E,c1:O},j)=>{if(typeof j=="bigint")return{c0:n.mul(E,j),c1:n.mul(O,j)};const{c0:C,c1:V}=j;let F=n.mul(E,C),Q=n.mul(O,V);const oe=n.sub(F,Q),ae=n.sub(n.mul(n.add(E,O),n.add(C,V)),n.add(F,Q));return{c0:oe,c1:ae}},p=({c0:E,c1:O})=>{const j=n.add(E,O),C=n.sub(E,O),V=n.add(E,E);return{c0:n.mul(j,C),c1:n.mul(V,O)}},y=E=>{if(E.length!==2)throw new Error("invalid tuple");const O=E.map(j=>n.create(j));return{c0:O[0],c1:O[1]}},h=e*e,d=y(t.FP2_NONRESIDUE),f={ORDER:h,isLE:n.isLE,NONRESIDUE:d,BITS:uf(h),BYTES:Math.ceil(uf(h)/8),MASK:J0(uf(h)),ZERO:{c0:n.ZERO,c1:n.ZERO},ONE:{c0:n.ONE,c1:n.ZERO},create:E=>E,isValid:({c0:E,c1:O})=>typeof E=="bigint"&&typeof O=="bigint",is0:({c0:E,c1:O})=>n.is0(E)&&n.is0(O),eql:({c0:E,c1:O},{c0:j,c1:C})=>n.eql(E,j)&&n.eql(O,C),neg:({c0:E,c1:O})=>({c0:n.neg(E),c1:n.neg(O)}),pow:(E,O)=>W0(f,E,O),invertBatch:E=>eh(f,E),add:c,sub:l,mul:u,sqr:p,addN:c,subN:l,mulN:u,sqrN:p,div:(E,O)=>f.mul(E,typeof O=="bigint"?n.inv(n.create(O)):f.inv(O)),inv:({c0:E,c1:O})=>{const j=n.inv(n.create(E*E+O*O));return{c0:n.mul(j,n.create(E)),c1:n.mul(j,n.create(-O))}},sqrt:E=>{if(t.Fp2sqrt)return t.Fp2sqrt(E);const{c0:O,c1:j}=E;if(n.is0(j))return n.eql(a(n,O),n.ONE)?f.create({c0:n.sqrt(O),c1:n.ZERO}):f.create({c0:n.ZERO,c1:n.sqrt(n.div(O,r))});const C=n.sqrt(n.sub(n.sqr(O),n.mul(n.sqr(j),r)));let V=n.mul(n.add(C,O),i);const F=a(n,V);!n.is0(F)&&!n.eql(F,n.ONE)&&(V=n.sub(V,C));const Q=n.sqrt(V),oe=f.create({c0:Q,c1:n.div(n.mul(j,i),Q)});if(!f.eql(f.sqr(oe),E))throw new Error("Cannot find square root");const ae=oe,se=f.neg(ae),{re:le,im:U}=f.reim(ae),{re:de,im:pe}=f.reim(se);return U>pe||U===pe&&le>de?ae:se},isOdd:E=>{const{re:O,im:j}=f.reim(E),C=O%ai,V=O===zM,F=j%ai;return BigInt(C||V&&F)==Wo},fromBytes(E){if(E.length!==f.BYTES)throw new Error("fromBytes invalid length="+E.length);return{c0:n.fromBytes(E.subarray(0,n.BYTES)),c1:n.fromBytes(E.subarray(n.BYTES))}},toBytes:({c0:E,c1:O})=>Ht(n.toBytes(E),n.toBytes(O)),cmov:({c0:E,c1:O},{c0:j,c1:C},V)=>({c0:n.cmov(E,j,V),c1:n.cmov(O,C,V)}),reim:({c0:E,c1:O})=>({re:E,im:O}),mulByNonresidue:({c0:E,c1:O})=>f.mul({c0:E,c1:O},d),mulByB:t.Fp2mulByB,fromBigTuple:y,frobeniusMap:({c0:E,c1:O},j)=>({c0:E,c1:n.mul(O,s[j%2])})},A=({c0:E,c1:O,c2:j},{c0:C,c1:V,c2:F})=>({c0:f.add(E,C),c1:f.add(O,V),c2:f.add(j,F)}),N=({c0:E,c1:O,c2:j},{c0:C,c1:V,c2:F})=>({c0:f.sub(E,C),c1:f.sub(O,V),c2:f.sub(j,F)}),v=({c0:E,c1:O,c2:j},C)=>{if(typeof C=="bigint")return{c0:f.mul(E,C),c1:f.mul(O,C),c2:f.mul(j,C)};const{c0:V,c1:F,c2:Q}=C,oe=f.mul(E,V),ae=f.mul(O,F),se=f.mul(j,Q);return{c0:f.add(oe,f.mulByNonresidue(f.sub(f.mul(f.add(O,j),f.add(F,Q)),f.add(ae,se)))),c1:f.add(f.sub(f.mul(f.add(E,O),f.add(V,F)),f.add(oe,ae)),f.mulByNonresidue(se)),c2:f.sub(f.add(ae,f.mul(f.add(E,j),f.add(V,Q))),f.add(oe,se))}},x=({c0:E,c1:O,c2:j})=>{let C=f.sqr(E),V=f.mul(f.mul(E,O),ai),F=f.mul(f.mul(O,j),ai),Q=f.sqr(j);return{c0:f.add(f.mulByNonresidue(F),C),c1:f.add(f.mulByNonresidue(Q),V),c2:f.sub(f.sub(f.add(f.add(V,f.sqr(f.add(f.sub(E,O),j))),F),C),Q)}},[_,M]=Qy(f,d,n.ORDER,6,2,3),S={ORDER:f.ORDER,isLE:f.isLE,BITS:3*f.BITS,BYTES:3*f.BYTES,MASK:J0(3*f.BITS),ZERO:{c0:f.ZERO,c1:f.ZERO,c2:f.ZERO},ONE:{c0:f.ONE,c1:f.ZERO,c2:f.ZERO},create:E=>E,isValid:({c0:E,c1:O,c2:j})=>f.isValid(E)&&f.isValid(O)&&f.isValid(j),is0:({c0:E,c1:O,c2:j})=>f.is0(E)&&f.is0(O)&&f.is0(j),neg:({c0:E,c1:O,c2:j})=>({c0:f.neg(E),c1:f.neg(O),c2:f.neg(j)}),eql:({c0:E,c1:O,c2:j},{c0:C,c1:V,c2:F})=>f.eql(E,C)&&f.eql(O,V)&&f.eql(j,F),sqrt:ZE,div:(E,O)=>S.mul(E,typeof O=="bigint"?n.inv(n.create(O)):S.inv(O)),pow:(E,O)=>W0(S,E,O),invertBatch:E=>eh(S,E),add:A,sub:N,mul:v,sqr:x,addN:A,subN:N,mulN:v,sqrN:x,inv:({c0:E,c1:O,c2:j})=>{let C=f.sub(f.sqr(E),f.mulByNonresidue(f.mul(j,O))),V=f.sub(f.mulByNonresidue(f.sqr(j)),f.mul(E,O)),F=f.sub(f.sqr(O),f.mul(E,j)),Q=f.inv(f.add(f.mulByNonresidue(f.add(f.mul(j,V),f.mul(O,F))),f.mul(E,C)));return{c0:f.mul(Q,C),c1:f.mul(Q,V),c2:f.mul(Q,F)}},fromBytes:E=>{if(E.length!==S.BYTES)throw new Error("fromBytes invalid length="+E.length);return{c0:f.fromBytes(E.subarray(0,f.BYTES)),c1:f.fromBytes(E.subarray(f.BYTES,2*f.BYTES)),c2:f.fromBytes(E.subarray(2*f.BYTES))}},toBytes:({c0:E,c1:O,c2:j})=>Ht(f.toBytes(E),f.toBytes(O),f.toBytes(j)),cmov:({c0:E,c1:O,c2:j},{c0:C,c1:V,c2:F},Q)=>({c0:f.cmov(E,C,Q),c1:f.cmov(O,V,Q),c2:f.cmov(j,F,Q)}),fromBigSix:E=>{if(!Array.isArray(E)||E.length!==6)throw new Error("invalid Fp6 usage");return{c0:f.fromBigTuple(E.slice(0,2)),c1:f.fromBigTuple(E.slice(2,4)),c2:f.fromBigTuple(E.slice(4,6))}},frobeniusMap:({c0:E,c1:O,c2:j},C)=>({c0:f.frobeniusMap(E,C),c1:f.mul(f.frobeniusMap(O,C),_[C%6]),c2:f.mul(f.frobeniusMap(j,C),M[C%6])}),mulByFp2:({c0:E,c1:O,c2:j},C)=>({c0:f.mul(E,C),c1:f.mul(O,C),c2:f.mul(j,C)}),mulByNonresidue:({c0:E,c1:O,c2:j})=>({c0:f.mulByNonresidue(j),c1:E,c2:O}),mul1:({c0:E,c1:O,c2:j},C)=>({c0:f.mulByNonresidue(f.mul(j,C)),c1:f.mul(E,C),c2:f.mul(O,C)}),mul01({c0:E,c1:O,c2:j},C,V){let F=f.mul(E,C),Q=f.mul(O,V);return{c0:f.add(f.mulByNonresidue(f.sub(f.mul(f.add(O,j),V),Q)),F),c1:f.sub(f.sub(f.mul(f.add(C,V),f.add(E,O)),F),Q),c2:f.add(f.sub(f.mul(f.add(E,j),C),F),Q)}}},H=Qy(f,d,n.ORDER,12,1,6)[0],z=({c0:E,c1:O},{c0:j,c1:C})=>({c0:S.add(E,j),c1:S.add(O,C)}),K=({c0:E,c1:O},{c0:j,c1:C})=>({c0:S.sub(E,j),c1:S.sub(O,C)}),Z=({c0:E,c1:O},j)=>{if(typeof j=="bigint")return{c0:S.mul(E,j),c1:S.mul(O,j)};let{c0:C,c1:V}=j,F=S.mul(E,C),Q=S.mul(O,V);return{c0:S.add(F,S.mulByNonresidue(Q)),c1:S.sub(S.mul(S.add(E,O),S.add(C,V)),S.add(F,Q))}},k=({c0:E,c1:O})=>{let j=S.mul(E,O);return{c0:S.sub(S.sub(S.mul(S.add(S.mulByNonresidue(O),E),S.add(E,O)),j),S.mulByNonresidue(j)),c1:S.add(j,j)}};function P(E,O){const j=f.sqr(E),C=f.sqr(O);return{first:f.add(f.mulByNonresidue(C),j),second:f.sub(f.sub(f.sqr(f.add(E,O)),j),C)}}const X={ORDER:f.ORDER,isLE:S.isLE,BITS:2*f.BITS,BYTES:2*f.BYTES,MASK:J0(2*f.BITS),ZERO:{c0:S.ZERO,c1:S.ZERO},ONE:{c0:S.ONE,c1:S.ZERO},create:E=>E,isValid:({c0:E,c1:O})=>S.isValid(E)&&S.isValid(O),is0:({c0:E,c1:O})=>S.is0(E)&&S.is0(O),neg:({c0:E,c1:O})=>({c0:S.neg(E),c1:S.neg(O)}),eql:({c0:E,c1:O},{c0:j,c1:C})=>S.eql(E,j)&&S.eql(O,C),sqrt:ZE,inv:({c0:E,c1:O})=>{let j=S.inv(S.sub(S.sqr(E),S.mulByNonresidue(S.sqr(O))));return{c0:S.mul(E,j),c1:S.neg(S.mul(O,j))}},div:(E,O)=>X.mul(E,typeof O=="bigint"?n.inv(n.create(O)):X.inv(O)),pow:(E,O)=>W0(X,E,O),invertBatch:E=>eh(X,E),add:z,sub:K,mul:Z,sqr:k,addN:z,subN:K,mulN:Z,sqrN:k,fromBytes:E=>{if(E.length!==X.BYTES)throw new Error("fromBytes invalid length="+E.length);return{c0:S.fromBytes(E.subarray(0,S.BYTES)),c1:S.fromBytes(E.subarray(S.BYTES))}},toBytes:({c0:E,c1:O})=>Ht(S.toBytes(E),S.toBytes(O)),cmov:({c0:E,c1:O},{c0:j,c1:C},V)=>({c0:S.cmov(E,j,V),c1:S.cmov(O,C,V)}),fromBigTwelve:E=>({c0:S.fromBigSix(E.slice(0,6)),c1:S.fromBigSix(E.slice(6,12))}),frobeniusMap(E,O){const{c0:j,c1:C,c2:V}=S.frobeniusMap(E.c1,O),F=H[O%12];return{c0:S.frobeniusMap(E.c0,O),c1:S.create({c0:f.mul(j,F),c1:f.mul(C,F),c2:f.mul(V,F)})}},mulByFp2:({c0:E,c1:O},j)=>({c0:S.mulByFp2(E,j),c1:S.mulByFp2(O,j)}),conjugate:({c0:E,c1:O})=>({c0:E,c1:S.neg(O)}),mul014:({c0:E,c1:O},j,C,V)=>{let F=S.mul01(E,j,C),Q=S.mul1(O,V);return{c0:S.add(S.mulByNonresidue(Q),F),c1:S.sub(S.sub(S.mul01(S.add(O,E),j,f.add(C,V)),F),Q)}},mul034:({c0:E,c1:O},j,C,V)=>{const F=S.create({c0:f.mul(E.c0,j),c1:f.mul(E.c1,j),c2:f.mul(E.c2,j)}),Q=S.mul01(O,C,V),oe=S.mul01(S.add(E,O),f.add(j,C),V);return{c0:S.add(S.mulByNonresidue(Q),F),c1:S.sub(oe,S.add(F,Q))}},_cyclotomicSquare:t.Fp12cyclotomicSquare,_cyclotomicExp:t.Fp12cyclotomicExp,finalExponentiate:t.Fp12finalExponentiate};return{Fp:n,Fp2:f,Fp6:S,Fp4Square:P,Fp12:X}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $n=BigInt(0),Bm=BigInt(1),rn=BigInt(2),b0=BigInt(3),ff=BigInt(4),Wi=BigInt("0xd201000000010000"),YM=uf(Wi),{Fp:_e,Fp2:Te,Fp6:Hg,Fp4Square:Jy,Fp12:Pe}=GM({ORDER:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),FP2_NONRESIDUE:[Bm,Bm],Fp2mulByB:({c0:t,c1:e})=>{const n=_e.mul(t,ff),r=_e.mul(e,ff);return{c0:_e.sub(n,r),c1:_e.add(n,r)}},Fp12cyclotomicSquare:({c0:t,c1:e})=>{const{c0:n,c1:r,c2:a}=t,{c0:i,c1:s,c2:c}=e,{first:l,second:u}=Jy(n,s),{first:p,second:y}=Jy(i,a),{first:h,second:d}=Jy(r,c),f=Te.mulByNonresidue(d);return{c0:Hg.create({c0:Te.add(Te.mul(Te.sub(l,n),rn),l),c1:Te.add(Te.mul(Te.sub(p,r),rn),p),c2:Te.add(Te.mul(Te.sub(h,a),rn),h)}),c1:Hg.create({c0:Te.add(Te.mul(Te.add(f,i),rn),f),c1:Te.add(Te.mul(Te.add(u,s),rn),u),c2:Te.add(Te.mul(Te.add(y,c),rn),y)})}},Fp12cyclotomicExp(t,e){let n=Pe.ONE;for(let r=YM-1;r>=0;r--)n=Pe._cyclotomicSquare(n),vM(e,r)&&(n=Pe.mul(n,t));return n},Fp12finalExponentiate:t=>{const e=Wi,n=Pe.div(Pe.frobeniusMap(t,6),t),r=Pe.mul(Pe.frobeniusMap(n,2),n),a=Pe.conjugate(Pe._cyclotomicExp(r,e)),i=Pe.mul(Pe.conjugate(Pe._cyclotomicSquare(r)),a),s=Pe.conjugate(Pe._cyclotomicExp(i,e)),c=Pe.conjugate(Pe._cyclotomicExp(s,e)),l=Pe.mul(Pe.conjugate(Pe._cyclotomicExp(c,e)),Pe._cyclotomicSquare(a)),u=Pe.conjugate(Pe._cyclotomicExp(l,e)),p=Pe.frobeniusMap(Pe.mul(a,c),2),y=Pe.frobeniusMap(Pe.mul(s,r),3),h=Pe.frobeniusMap(Pe.mul(l,Pe.conjugate(r)),1),d=Pe.mul(Pe.mul(u,Pe.conjugate(i)),r);return Pe.mul(Pe.mul(Pe.mul(p,y),h),d)}}),sv=jd(BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001")),KM=uN(Te,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(t=>t.map(e=>Te.fromBigTuple(e.map(BigInt))))),LM=uN(_e,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),ZM=yN(Te,{A:Te.create({c0:_e.create($n),c1:_e.create(BigInt(240))}),B:Te.create({c0:_e.create(BigInt(1012)),c1:_e.create(BigInt(1012))}),Z:Te.create({c0:_e.create(BigInt(-2)),c1:_e.create(BigInt(-1))})}),XM=yN(_e,{A:_e.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:_e.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:_e.create(BigInt(11))}),{G2psi:cv,G2psi2:QM}=PM(_e,Te,Te.div(Te.ONE,Te.NONRESIDUE)),Wy=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:_e.ORDER,m:2,k:128,expand:"xmd",hash:I2}),Rm=Kf(_e.toBytes($n),{infinity:!0,compressed:!0});function x0(t){t=t.slice();const e=t[0]&224,n=!!(e>>7&1),r=!!(e>>6&1),a=!!(e>>5&1);return t[0]&=31,{compressed:n,infinity:r,sort:a,value:t}}function Kf(t,e){if(t[0]&224)throw new Error("setMask: non-empty mask");return e.compressed&&(t[0]|=128),e.infinity&&(t[0]|=64),e.sort&&(t[0]|=32),t}function ov(t){t.assertValidity();const e=t.equals(yr.G1.ProjectivePoint.ZERO),{x:n,y:r}=t.toAffine();if(e)return Rm.slice();const a=_e.ORDER,i=!!(r*rn/a);return Kf(yn(n,_e.BYTES),{compressed:!0,sort:i})}function lv(t){t.assertValidity();const e=_e.BYTES;if(t.equals(yr.G2.ProjectivePoint.ZERO))return Ht(Rm,yn($n,e));const{x:n,y:r}=t.toAffine(),{re:a,im:i}=Te.reim(n),{re:s,im:c}=Te.reim(r),u=!!((c>$n?c*rn:s*rn)/_e.ORDER&Bm),p=a;return Ht(Kf(yn(i,e),{sort:u,compressed:!0}),yn(p,e))}const yr=DM({fields:{Fp:_e,Fp2:Te,Fp6:Hg,Fp12:Pe,Fr:sv},G1:{Fp:_e,h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1"),a:_e.ZERO,b:ff,htfDefaults:{...Wy,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(t,e)=>{const n=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),r=new t(_e.mul(e.px,n),e.py,e.pz);return e.multiplyUnsafe(Wi).negate().multiplyUnsafe(Wi).equals(r)},clearCofactor:(t,e)=>e.multiplyUnsafe(Wi).add(e),mapToCurve:t=>{const{x:e,y:n}=XM(_e.create(t[0]));return LM(e,n)},fromBytes:t=>{const{compressed:e,infinity:n,sort:r,value:a}=x0(t);if(a.length===48&&e){const i=_e.ORDER,s=Lr(a),c=_e.create(s&_e.MASK);if(n){if(c!==$n)throw new Error("G1: non-empty compressed point at infinity");return{x:$n,y:$n}}const l=_e.add(_e.pow(c,b0),_e.create(yr.params.G1b));let u=_e.sqrt(l);if(!u)throw new Error("invalid compressed G1 point");return u*rn/i!==BigInt(r)&&(u=_e.neg(u)),{x:_e.create(c),y:_e.create(u)}}else if(a.length===96&&!e){const i=Lr(a.subarray(0,_e.BYTES)),s=Lr(a.subarray(_e.BYTES));if(n){if(i!==$n||s!==$n)throw new Error("G1: non-empty point at infinity");return yr.G1.ProjectivePoint.ZERO.toAffine()}return{x:_e.create(i),y:_e.create(s)}}else throw new Error("invalid point G1, expected 48/96 bytes")},toBytes:(t,e,n)=>{const r=e.equals(t.ZERO),{x:a,y:i}=e.toAffine();if(n){if(r)return Rm.slice();const s=_e.ORDER,c=!!(i*rn/s);return Kf(yn(a,_e.BYTES),{compressed:!0,sort:c})}else return r?Ht(new Uint8Array([64]),new Uint8Array(2*_e.BYTES-1)):Ht(yn(a,_e.BYTES),yn(i,_e.BYTES))},ShortSignature:{fromHex(t){const{infinity:e,sort:n,value:r}=x0(Fn("signatureHex",t,48)),a=_e.ORDER,i=Lr(r);if(e)return yr.G1.ProjectivePoint.ZERO;const s=_e.create(i&_e.MASK),c=_e.add(_e.pow(s,b0),_e.create(yr.params.G1b));let l=_e.sqrt(c);if(!l)throw new Error("invalid compressed G1 point");const u=BigInt(n);l*rn/a!==u&&(l=_e.neg(l));const p=yr.G1.ProjectivePoint.fromAffine({x:s,y:l});return p.assertValidity(),p},toRawBytes(t){return ov(t)},toHex(t){return io(ov(t))}}},G2:{Fp:Te,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),Gx:Te.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:Te.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")]),a:Te.ZERO,b:Te.fromBigTuple([ff,ff]),hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...Wy},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:t=>{const{x:e,y:n}=ZM(Te.fromBigTuple(t));return KM(e,n)},isTorsionFree:(t,e)=>e.multiplyUnsafe(Wi).negate().equals(cv(t,e)),clearCofactor:(t,e)=>{const n=Wi;let r=e.multiplyUnsafe(n).negate(),a=cv(t,e),i=e.double();return i=QM(t,i),i=i.subtract(a),a=r.add(a),a=a.multiplyUnsafe(n).negate(),i=i.add(a),i=i.subtract(r),i.subtract(e)},fromBytes:t=>{const{compressed:e,infinity:n,sort:r,value:a}=x0(t);if(!e&&!n&&r||!e&&n&&r||r&&n&&e)throw new Error("invalid encoding flag: "+(t[0]&224));const i=_e.BYTES,s=(c,l,u)=>Lr(c.slice(l,u));if(a.length===96&&e){const c=yr.params.G2b,l=_e.ORDER;if(n){if(a.reduce((A,N)=>A!==0?N+1:N,0)>0)throw new Error("invalid compressed G2 point");return{x:Te.ZERO,y:Te.ZERO}}const u=s(a,0,i),p=s(a,i,2*i),y=Te.create({c0:_e.create(p),c1:_e.create(u)}),h=Te.add(Te.pow(y,b0),c);let d=Te.sqrt(h);const f=d.c1===$n?d.c0*rn/l:d.c1*rn/l?Bm:$n;return d=r&&f>0?d:Te.neg(d),{x:y,y:d}}else if(a.length===192&&!e){if(n){if(a.reduce((y,h)=>y!==0?h+1:h,0)>0)throw new Error("invalid uncompressed G2 point");return{x:Te.ZERO,y:Te.ZERO}}const c=s(a,0,i),l=s(a,i,2*i),u=s(a,2*i,3*i),p=s(a,3*i,4*i);return{x:Te.fromBigTuple([l,c]),y:Te.fromBigTuple([p,u])}}else throw new Error("invalid point G2, expected 96/192 bytes")},toBytes:(t,e,n)=>{const{BYTES:r,ORDER:a}=_e,i=e.equals(t.ZERO),{x:s,y:c}=e.toAffine();if(n){if(i)return Ht(Rm,yn($n,r));const l=!!(c.c1===$n?c.c0*rn/a:c.c1*rn/a);return Ht(Kf(yn(s.c1,r),{compressed:!0,sort:l}),yn(s.c0,r))}else{if(i)return Ht(new Uint8Array([64]),new Uint8Array(4*r-1));const{re:l,im:u}=Te.reim(s),{re:p,im:y}=Te.reim(c);return Ht(yn(u,r),yn(l,r),yn(y,r),yn(p,r))}},Signature:{fromHex(t){const{infinity:e,sort:n,value:r}=x0(Fn("signatureHex",t)),a=_e.ORDER,i=r.length/2;if(i!==48&&i!==96)throw new Error("invalid compressed signature length, must be 96 or 192");const s=Lr(r.slice(0,i)),c=Lr(r.slice(i));if(e)return yr.G2.ProjectivePoint.ZERO;const l=_e.create(s&_e.MASK),u=_e.create(c),p=Te.create({c0:u,c1:l}),y=Te.add(Te.pow(p,b0),yr.params.G2b);let h=Te.sqrt(y);if(!h)throw new Error("Failed to find a square root");const{re:d,im:f}=Te.reim(h),A=BigInt(n),N=f>$n&&f*rn/a!==A,v=f===$n&&d*rn/a!==A;(N||v)&&(h=Te.neg(h));const x=yr.G2.ProjectivePoint.fromAffine({x:p,y:h});return x.assertValidity(),x},toRawBytes(t){return lv(t)},toHex(t){return io(lv(t))}}},params:{ateLoopSize:Wi,r:sv.ORDER,xNegative:!0,twistType:"multiplicative"},htfDefaults:Wy,hash:I2,randomBytes:P4});function JM(t,e,n){const r=typeof t=="string"?t:sn(t),a=typeof e=="string"?e:sn(e),i=typeof n=="string"?n:sn(n);return yr.verifyShortSignature(a,i,r)}const gN=t=>nn(new hu(t)),K2=t=>{const e=gN(t);return new Date(Number(e)/1e6)};var WM=function(t,e,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(t,n):a?a.value=n:e.set(t,n),n},eq=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},th;class ba extends Rt{constructor(e){super(`Invalid certificate: ${e}`)}}var lr;(function(t){t[t.Empty=0]="Empty",t[t.Fork=1]="Fork",t[t.Labeled=2]="Labeled",t[t.Leaf=3]="Leaf",t[t.Pruned=4]="Pruned"})(lr||(lr={}));function tq(t,e){const n=new Uint8Array(t),r=new Uint8Array(e);for(let a=0;a<n.length;a++)if(n[a]>r[a])return!0;return!1}class Hc{constructor(e,n,r,a,i=5,s=!1){this._rootKey=n,this._canisterId=r,this._blsVerify=a,this._maxAgeInMinutes=i,th.set(this,!1),WM(this,th,s,"f"),this.cert=mi(new Uint8Array(e))}static async create(e){const n=Hc.createUnverified(e);return await n.verify(),n}static createUnverified(e){let n=e.blsVerify;return n||(n=JM),new Hc(e.certificate,e.rootKey,e.canisterId,n,e.maxAgeInMinutes,e.disableTimeVerification)}lookup(e){return eu(e,this.cert.tree)}lookup_label(e){return this.lookup([e])}async verify(){const e=await nh(this.cert.tree),n=await this._checkDelegationAndGetKey(this.cert.delegation),r=this.cert.signature,a=rq(n),i=qa(Fu("ic-state-root"),e);let s=!1;const c=Ur(this.lookup(["time"]));if(!c)throw new ba("Certificate does not contain a time");if(!eq(this,th,"f")){const u=this._maxAgeInMinutes*60*1e3,p=Date.now(),y=p-u,h=p+3e5,d=K2(c);if(d.getTime()<y)throw new ba(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+d.toISOString()+" Current time: "+new Date(p).toISOString());if(d.getTime()>h)throw new ba("Certificate is signed more than 5 minutes in the future. Certificate time: "+d.toISOString()+" Current time: "+new Date(p).toISOString())}try{s=await this._blsVerify(new Uint8Array(a),new Uint8Array(r),new Uint8Array(i))}catch{s=!1}if(!s)throw new ba("Signature verification failed")}async _checkDelegationAndGetKey(e){if(!e)return this._rootKey;const n=await Hc.createUnverified({certificate:e.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(n.cert.delegation)throw new ba("Delegation certificates cannot be nested");if(await n.verify(),this._canisterId.toString()!==Wq&&!bN({canisterId:this._canisterId,subnetId:je.fromUint8Array(new Uint8Array(e.subnet_id)),tree:n.cert.tree}))throw new ba(`Canister ${this._canisterId} not in range of delegations for subnet 0x${sn(e.subnet_id)}`);const r=Ur(n.lookup(["subnet",e.subnet_id,"public_key"]));if(!r)throw new Error(`Could not find subnet key for subnet 0x${sn(e.subnet_id)}`);return r}}th=new WeakMap;const Bu=Em("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),nq=96;function rq(t){const e=Bu.byteLength+nq;if(t.byteLength!==e)throw new TypeError(`BLS DER-encoded public key must be ${e} bytes long`);const n=t.slice(0,Bu.byteLength);if(!op(n,Bu))throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${Bu}, but get ${n}`);return t.slice(Bu.byteLength)}function Ur(t){if(t.status===Lt.Found){if(t.value instanceof ArrayBuffer)return t.value;if(t.value instanceof Uint8Array)return t.value.buffer}}async function nh(t){switch(t[0]){case lr.Empty:return Jr(Fu("ic-hashtree-empty"));case lr.Pruned:return t[1];case lr.Leaf:return Jr(qa(Fu("ic-hashtree-leaf"),t[1]));case lr.Labeled:return Jr(qa(Fu("ic-hashtree-labeled"),t[1],await nh(t[2])));case lr.Fork:return Jr(qa(Fu("ic-hashtree-fork"),await nh(t[1]),await nh(t[2])));default:throw new Error("unreachable")}}function Fu(t){const e=new Uint8Array([t.length]),n=new TextEncoder().encode(t);return qa(e,n)}var Lt;(function(t){t.Unknown="unknown",t.Absent="absent",t.Found="found"})(Lt||(Lt={}));var ii;(function(t){t.Less="less",t.Greater="greater"})(ii||(ii={}));function eu(t,e){if(t.length===0)switch(e[0]){case lr.Leaf:{if(!e[1])throw new Error("Invalid tree structure for leaf");return e[1]instanceof ArrayBuffer?{status:Lt.Found,value:e[1]}:e[1]instanceof Uint8Array?{status:Lt.Found,value:e[1].buffer}:{status:Lt.Found,value:e[1]}}default:return{status:Lt.Found,value:e}}const n=typeof t[0]=="string"?new TextEncoder().encode(t[0]):t[0],r=rh(n,e);switch(r.status){case Lt.Found:return eu(t.slice(1),r.value);case ii.Greater:case ii.Less:return{status:Lt.Absent};default:return r}}function Dg(t){switch(t[0]){case lr.Empty:return[];case lr.Fork:return Dg(t[1]).concat(Dg(t[2]));default:return[t]}}function rh(t,e){switch(e[0]){case lr.Labeled:return tq(t,e[1])?{status:ii.Greater}:op(t,e[1])?{status:Lt.Found,value:e[2]}:{status:ii.Less};case lr.Fork:const n=rh(t,e[1]);switch(n.status){case ii.Greater:{const r=rh(t,e[2]);return r.status===ii.Less?{status:Lt.Absent}:r}case Lt.Unknown:{let r=rh(t,e[2]);return r.status===ii.Less?{status:Lt.Unknown}:r}default:return n}case lr.Pruned:return{status:Lt.Unknown};default:return{status:Lt.Absent}}}function bN(t){const{canisterId:e,subnetId:n,tree:r}=t,a=eu(["subnet",n.toUint8Array(),"canister_ranges"],r);if(a.status!==Lt.Found||!(a.value instanceof ArrayBuffer))throw new Error(`Could not find canister ranges for subnet ${n}`);return mi(a.value).map(l=>[je.fromUint8Array(l[0]),je.fromUint8Array(l[1])]).some(l=>l[0].ltEq(e)&&l[1].gtEq(e))}class aq{constructor(e,n,r){this.key=e,this.path=n,this.decodeStrategy=r}}const xN=async t=>{const{agent:e,paths:n}=t,r=je.from(t.canisterId),a=[...new Set(n)],i=a.map(l=>zg(l,r)),s=new Map,c=a.map((l,u)=>(async()=>{var p;try{const y=await e.readState(r,{paths:[i[u]]});if(e.rootKey==null)throw new Error("Agent is missing root key");const h=await Hc.create({certificate:y.certificate,rootKey:e.rootKey,canisterId:r,disableTimeVerification:!0}),d=(N,v)=>{if(v==="subnet"){if(e.rootKey==null)throw new Error("Agent is missing root key");const x=wN(y.certificate,r,e.rootKey);return{path:v,data:x}}else return{path:v,data:Ur(N.lookup(zg(v,r)))}},{path:f,data:A}=d(h,a[u]);if(!A)console.warn(`Expected to find result for path ${f}, but instead found nothing.`),typeof f=="string"?s.set(f,null):s.set(f.key,null);else switch(f){case"time":{s.set(f,K2(A));break}case"controllers":{s.set(f,sq(A));break}case"module_hash":{s.set(f,uv(A));break}case"subnet":{s.set(f,A);break}case"candid":{s.set(f,new TextDecoder().decode(A));break}default:if(typeof f!="string"&&"key"in f&&"path"in f)switch(f.decodeStrategy){case"raw":s.set(f.key,A);break;case"leb128":{s.set(f.key,gN(A));break}case"cbor":{s.set(f.key,EN(A));break}case"hex":{s.set(f.key,uv(A));break}case"utf-8":s.set(f.key,iq(A))}}}catch(y){if(!((p=y==null?void 0:y.message)===null||p===void 0)&&p.includes("Invalid certificate"))throw new Rt(y.message);typeof l!="string"&&"key"in l&&"path"in l?s.set(l.key,null):s.set(l,null),console.group(),console.warn(`Expected to find result for path ${l}, but instead found nothing.`),console.warn(y),console.groupEnd()}})());return await Promise.all(c),s},wN=(t,e,n)=>{if(!e._isPrincipal)throw new Error("Invalid canisterId");const r=mi(new Uint8Array(t)),a=r.tree;let i=r.delegation,s;if(i&&i.subnet_id?s=je.fromUint8Array(new Uint8Array(i.subnet_id)):!i&&typeof n<"u"?(s=je.selfAuthenticating(new Uint8Array(n)),i={subnet_id:s.toUint8Array(),certificate:new ArrayBuffer(0)}):(s=je.selfAuthenticating(je.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),i={subnet_id:s.toUint8Array(),certificate:new ArrayBuffer(0)}),!bN({canisterId:e,subnetId:s,tree:a}))throw new Error("Canister not in range");const l=eu(["subnet",i.subnet_id,"node"],a);if(l.status!==Lt.Found)throw new Error("Node not found");if(l.value instanceof ArrayBuffer)throw new Error("Invalid node tree");const u=Dg(l.value),p=new Map;return u.forEach(y=>{const h=je.from(new Uint8Array(y[1])).toText(),d=eu(["public_key"],y[2]);if(d.status!==Lt.Found)throw new Error("Public key not found");const f=d.value;if(f.byteLength!==44)throw new Error("Invalid public key length");p.set(h,f)}),{subnetId:je.fromUint8Array(new Uint8Array(i.subnet_id)).toText(),nodeKeys:p}},zg=(t,e)=>{const n=new TextEncoder,r=i=>new DataView(n.encode(i).buffer).buffer,a=new DataView(e.toUint8Array().buffer).buffer;switch(t){case"time":return[r("time")];case"controllers":return[r("canister"),a,r("controllers")];case"module_hash":return[r("canister"),a,r("module_hash")];case"subnet":return[r("subnet")];case"candid":return[r("canister"),a,r("metadata"),r("candid:service")];default:if("key"in t&&"path"in t)if(typeof t.path=="string"||t.path instanceof ArrayBuffer){const i=t.path,s=typeof i=="string"?r(i):i;return[r("canister"),a,r("metadata"),s]}else return t.path}throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${t} was formatted correctly.`)},uv=t=>sn(t),EN=t=>mi(t),iq=t=>new TextDecoder().decode(t),sq=t=>EN(t).map(n=>je.fromUint8Array(new Uint8Array(n))),cq=Object.freeze(Object.defineProperty({__proto__:null,CustomPath:aq,encodePath:zg,fetchNodeKeys:wN,request:xN},Symbol.toStringTag,{value:"Module"})),w0=BigInt(2**32-1),Pg=BigInt(32);function vN(t,e=!1){return e?{h:Number(t&w0),l:Number(t>>Pg&w0)}:{h:Number(t>>Pg&w0)|0,l:Number(t&w0)|0}}function oq(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let a=0;a<t.length;a++){const{h:i,l:s}=vN(t[a],e);[n[a],r[a]]=[i,s]}return[n,r]}const lq=(t,e)=>BigInt(t>>>0)<<Pg|BigInt(e>>>0),uq=(t,e,n)=>t>>>n,fq=(t,e,n)=>t<<32-n|e>>>n,dq=(t,e,n)=>t>>>n|e<<32-n,hq=(t,e,n)=>t<<32-n|e>>>n,mq=(t,e,n)=>t<<64-n|e>>>n-32,pq=(t,e,n)=>t>>>n-32|e<<64-n,yq=(t,e)=>e,gq=(t,e)=>t,bq=(t,e,n)=>t<<n|e>>>32-n,xq=(t,e,n)=>e<<n|t>>>32-n,wq=(t,e,n)=>e<<n-32|t>>>64-n,Eq=(t,e,n)=>t<<n-32|e>>>64-n;function vq(t,e,n,r){const a=(e>>>0)+(r>>>0);return{h:t+n+(a/2**32|0)|0,l:a|0}}const _q=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Nq=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Sq=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Tq=(t,e,n,r,a)=>e+n+r+a+(t/2**32|0)|0,Aq=(t,e,n,r,a)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(a>>>0),Bq=(t,e,n,r,a,i)=>e+n+r+a+i+(t/2**32|0)|0,qe={fromBig:vN,split:oq,toBig:lq,shrSH:uq,shrSL:fq,rotrSH:dq,rotrSL:hq,rotrBH:mq,rotrBL:pq,rotr32H:yq,rotr32L:gq,rotlSH:bq,rotlSL:xq,rotlBH:wq,rotlBL:Eq,add:vq,add3L:_q,add3H:Nq,add4L:Sq,add4H:Tq,add5H:Bq,add5L:Aq},[Rq,Oq]=qe.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Hi=new Uint32Array(80),Di=new Uint32Array(80);class Uq extends G4{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:a,Ch:i,Cl:s,Dh:c,Dl:l,Eh:u,El:p,Fh:y,Fl:h,Gh:d,Gl:f,Hh:A,Hl:N}=this;return[e,n,r,a,i,s,c,l,u,p,y,h,d,f,A,N]}set(e,n,r,a,i,s,c,l,u,p,y,h,d,f,A,N){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=a|0,this.Ch=i|0,this.Cl=s|0,this.Dh=c|0,this.Dl=l|0,this.Eh=u|0,this.El=p|0,this.Fh=y|0,this.Fl=h|0,this.Gh=d|0,this.Gl=f|0,this.Hh=A|0,this.Hl=N|0}process(e,n){for(let _=0;_<16;_++,n+=4)Hi[_]=e.getUint32(n),Di[_]=e.getUint32(n+=4);for(let _=16;_<80;_++){const M=Hi[_-15]|0,S=Di[_-15]|0,H=qe.rotrSH(M,S,1)^qe.rotrSH(M,S,8)^qe.shrSH(M,S,7),z=qe.rotrSL(M,S,1)^qe.rotrSL(M,S,8)^qe.shrSL(M,S,7),K=Hi[_-2]|0,Z=Di[_-2]|0,k=qe.rotrSH(K,Z,19)^qe.rotrBH(K,Z,61)^qe.shrSH(K,Z,6),P=qe.rotrSL(K,Z,19)^qe.rotrBL(K,Z,61)^qe.shrSL(K,Z,6),X=qe.add4L(z,P,Di[_-7],Di[_-16]),E=qe.add4H(X,H,k,Hi[_-7],Hi[_-16]);Hi[_]=E|0,Di[_]=X|0}let{Ah:r,Al:a,Bh:i,Bl:s,Ch:c,Cl:l,Dh:u,Dl:p,Eh:y,El:h,Fh:d,Fl:f,Gh:A,Gl:N,Hh:v,Hl:x}=this;for(let _=0;_<80;_++){const M=qe.rotrSH(y,h,14)^qe.rotrSH(y,h,18)^qe.rotrBH(y,h,41),S=qe.rotrSL(y,h,14)^qe.rotrSL(y,h,18)^qe.rotrBL(y,h,41),H=y&d^~y&A,z=h&f^~h&N,K=qe.add5L(x,S,z,Oq[_],Di[_]),Z=qe.add5H(K,v,M,H,Rq[_],Hi[_]),k=K|0,P=qe.rotrSH(r,a,28)^qe.rotrBH(r,a,34)^qe.rotrBH(r,a,39),X=qe.rotrSL(r,a,28)^qe.rotrBL(r,a,34)^qe.rotrBL(r,a,39),E=r&i^r&c^i&c,O=a&s^a&l^s&l;v=A|0,x=N|0,A=d|0,N=f|0,d=y|0,f=h|0,{h:y,l:h}=qe.add(u|0,p|0,Z|0,k|0),u=c|0,p=l|0,c=i|0,l=s|0,i=r|0,s=a|0;const j=qe.add3L(k,X,O);r=qe.add3H(j,Z,P,E),a=j|0}({h:r,l:a}=qe.add(this.Ah|0,this.Al|0,r|0,a|0)),{h:i,l:s}=qe.add(this.Bh|0,this.Bl|0,i|0,s|0),{h:c,l}=qe.add(this.Ch|0,this.Cl|0,c|0,l|0),{h:u,l:p}=qe.add(this.Dh|0,this.Dl|0,u|0,p|0),{h:y,l:h}=qe.add(this.Eh|0,this.El|0,y|0,h|0),{h:d,l:f}=qe.add(this.Fh|0,this.Fl|0,d|0,f|0),{h:A,l:N}=qe.add(this.Gh|0,this.Gl|0,A|0,N|0),{h:v,l:x}=qe.add(this.Hh|0,this.Hl|0,v|0,x|0),this.set(r,a,i,s,c,l,u,p,y,h,d,f,A,N,v,x)}roundClean(){Hi.fill(0),Di.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Cq=q2(()=>new Uq);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fr=BigInt(0),Gn=BigInt(1),E0=BigInt(2),Mq=BigInt(8),qq={zip215:!0};function Iq(t){const e=pN(t);return Fd(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function $q(t){const e=Iq(t),{Fp:n,n:r,prehash:a,hash:i,randomBytes:s,nByteLength:c,h:l}=e,u=E0<<BigInt(c*8)-Gn,p=n.create,y=jd(e.n,e.nBitLength),h=e.uvRatio||((C,V)=>{try{return{isValid:!0,value:n.sqrt(C*n.inv(V))}}catch{return{isValid:!1,value:Fr}}}),d=e.adjustScalarBytes||(C=>C),f=e.domain||((C,V,F)=>{if(of("phflag",F),V.length||F)throw new Error("Contexts/pre-hash are not supported");return C});function A(C,V){cs("coordinate "+C,V,Fr,u)}function N(C){if(!(C instanceof _))throw new Error("ExtendedPoint expected")}const v=Gf((C,V)=>{const{ex:F,ey:Q,ez:oe}=C,ae=C.is0();V==null&&(V=ae?Mq:n.inv(oe));const se=p(F*V),le=p(Q*V),U=p(oe*V);if(ae)return{x:Fr,y:Gn};if(U!==Gn)throw new Error("invZ was invalid");return{x:se,y:le}}),x=Gf(C=>{const{a:V,d:F}=e;if(C.is0())throw new Error("bad point: ZERO");const{ex:Q,ey:oe,ez:ae,et:se}=C,le=p(Q*Q),U=p(oe*oe),de=p(ae*ae),pe=p(de*de),xe=p(le*V),me=p(de*p(xe+U)),ge=p(pe+p(F*p(le*U)));if(me!==ge)throw new Error("bad point: equation left != right (1)");const I=p(Q*oe),D=p(ae*se);if(I!==D)throw new Error("bad point: equation left != right (2)");return!0});class _{constructor(V,F,Q,oe){this.ex=V,this.ey=F,this.ez=Q,this.et=oe,A("x",V),A("y",F),A("z",Q),A("t",oe),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(V){if(V instanceof _)throw new Error("extended point not allowed");const{x:F,y:Q}=V||{};return A("x",F),A("y",Q),new _(F,Q,Gn,p(F*Q))}static normalizeZ(V){const F=n.invertBatch(V.map(Q=>Q.ez));return V.map((Q,oe)=>Q.toAffine(F[oe])).map(_.fromAffine)}static msm(V,F){return mN(_,y,V,F)}_setWindowSize(V){H.setWindowSize(this,V)}assertValidity(){x(this)}equals(V){N(V);const{ex:F,ey:Q,ez:oe}=this,{ex:ae,ey:se,ez:le}=V,U=p(F*le),de=p(ae*oe),pe=p(Q*le),xe=p(se*oe);return U===de&&pe===xe}is0(){return this.equals(_.ZERO)}negate(){return new _(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){const{a:V}=e,{ex:F,ey:Q,ez:oe}=this,ae=p(F*F),se=p(Q*Q),le=p(E0*p(oe*oe)),U=p(V*ae),de=F+Q,pe=p(p(de*de)-ae-se),xe=U+se,me=xe-le,ge=U-se,I=p(pe*me),D=p(xe*ge),L=p(pe*ge),te=p(me*xe);return new _(I,D,te,L)}add(V){N(V);const{a:F,d:Q}=e,{ex:oe,ey:ae,ez:se,et:le}=this,{ex:U,ey:de,ez:pe,et:xe}=V;if(F===BigInt(-1)){const q=p((ae-oe)*(de+U)),Y=p((ae+oe)*(de-U)),re=p(Y-q);if(re===Fr)return this.double();const fe=p(se*E0*xe),Ee=p(le*E0*pe),ve=Ee+fe,Ce=Y+q,R=Ee-fe,b=p(ve*re),w=p(Ce*R),G=p(ve*R),ee=p(re*Ce);return new _(b,w,ee,G)}const me=p(oe*U),ge=p(ae*de),I=p(le*Q*xe),D=p(se*pe),L=p((oe+ae)*(U+de)-me-ge),te=D-I,W=D+I,ne=p(ge-F*me),T=p(L*te),m=p(W*ne),g=p(L*ne),B=p(te*W);return new _(T,m,B,g)}subtract(V){return this.add(V.negate())}wNAF(V){return H.wNAFCached(this,V,_.normalizeZ)}multiply(V){const F=V;cs("scalar",F,Gn,r);const{p:Q,f:oe}=this.wNAF(F);return _.normalizeZ([Q,oe])[0]}multiplyUnsafe(V,F=_.ZERO){const Q=V;return cs("scalar",Q,Fr,r),Q===Fr?S:this.is0()||Q===Gn?this:H.wNAFCachedUnsafe(this,Q,_.normalizeZ,F)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return H.unsafeLadder(this,r).is0()}toAffine(V){return v(this,V)}clearCofactor(){const{h:V}=e;return V===Gn?this:this.multiplyUnsafe(V)}static fromHex(V,F=!1){const{d:Q,a:oe}=e,ae=n.BYTES;V=Fn("pointHex",V,ae),of("zip215",F);const se=V.slice(),le=V[ae-1];se[ae-1]=le&-129;const U=lf(se),de=F?u:n.ORDER;cs("pointHex.y",U,Fr,de);const pe=p(U*U),xe=p(pe-Gn),me=p(Q*pe-oe);let{isValid:ge,value:I}=h(xe,me);if(!ge)throw new Error("Point.fromHex: invalid y coordinate");const D=(I&Gn)===Gn,L=(le&128)!==0;if(!F&&I===Fr&&L)throw new Error("Point.fromHex: x=0 and x_0=1");return L!==D&&(I=p(-I)),_.fromAffine({x:I,y:U})}static fromPrivateKey(V){return Z(V).point}toRawBytes(){const{x:V,y:F}=this.toAffine(),Q=Tm(F,n.BYTES);return Q[Q.length-1]|=V&Gn?128:0,Q}toHex(){return io(this.toRawBytes())}}_.BASE=new _(e.Gx,e.Gy,Gn,p(e.Gx*e.Gy)),_.ZERO=new _(Fr,Gn,Gn,Fr);const{BASE:M,ZERO:S}=_,H=hN(_,c*8);function z(C){return Tt(C,r)}function K(C){return z(lf(C))}function Z(C){const V=n.BYTES;C=Fn("private key",C,V);const F=Fn("hashed private key",i(C),2*V),Q=d(F.slice(0,V)),oe=F.slice(V,2*V),ae=K(Q),se=M.multiply(ae),le=se.toRawBytes();return{head:Q,prefix:oe,scalar:ae,point:se,pointBytes:le}}function k(C){return Z(C).pointBytes}function P(C=new Uint8Array,...V){const F=Ht(...V);return K(i(f(F,Fn("context",C),!!a)))}function X(C,V,F={}){C=Fn("message",C),a&&(C=a(C));const{prefix:Q,scalar:oe,pointBytes:ae}=Z(V),se=P(F.context,Q,C),le=M.multiply(se).toRawBytes(),U=P(F.context,le,ae,C),de=z(se+U*oe);cs("signature.s",de,Fr,r);const pe=Ht(le,Tm(de,n.BYTES));return Fn("result",pe,n.BYTES*2)}const E=qq;function O(C,V,F,Q=E){const{context:oe,zip215:ae}=Q,se=n.BYTES;C=Fn("signature",C,2*se),V=Fn("message",V),F=Fn("publicKey",F,se),ae!==void 0&&of("zip215",ae),a&&(V=a(V));const le=lf(C.slice(se,2*se));let U,de,pe;try{U=_.fromHex(F,ae),de=_.fromHex(C.slice(0,se),ae),pe=M.multiplyUnsafe(le)}catch{return!1}if(!ae&&U.isSmallOrder())return!1;const xe=P(oe,de.toRawBytes(),U.toRawBytes(),V);return de.add(U.multiplyUnsafe(xe)).subtract(pe).clearCofactor().equals(_.ZERO)}return M._setWindowSize(8),{CURVE:e,getPublicKey:k,sign:X,verify:O,ExtendedPoint:_,utils:{getExtendedPublicKey:Z,randomPrivateKey:()=>s(n.BYTES),precompute(C=8,V=_.BASE){return V._setWindowSize(C),V.multiply(BigInt(3)),V}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const L2=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),fv=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const kq=BigInt(1),dv=BigInt(2);BigInt(3);const Fq=BigInt(5),jq=BigInt(8);function Vq(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),a=BigInt(80),i=L2,c=t*t%i*t%i,l=sa(c,dv,i)*c%i,u=sa(l,kq,i)*t%i,p=sa(u,Fq,i)*u%i,y=sa(p,e,i)*p%i,h=sa(y,n,i)*y%i,d=sa(h,r,i)*h%i,f=sa(d,a,i)*d%i,A=sa(f,a,i)*d%i,N=sa(A,e,i)*p%i;return{pow_p_5_8:sa(N,dv,i)*t%i,b2:c}}function Hq(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Dq(t,e){const n=L2,r=Tt(e*e*e,n),a=Tt(r*r*e,n),i=Vq(t*a).pow_p_5_8;let s=Tt(t*r*i,n);const c=Tt(e*s*s,n),l=s,u=Tt(s*fv,n),p=c===t,y=c===Tt(-t,n),h=c===Tt(-t*fv,n);return p&&(s=l),(y||h)&&(s=u),BM(s,n)&&(s=Tt(-s,n)),{isValid:p||y,value:s}}const zq=jd(L2,void 0,!0),Pq={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:zq,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:jq,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Cq,randomBytes:P4,adjustScalarBytes:Hq,uvRatio:Dq},Gq=$q(Pq);var hv=function(t,e,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(t,n):a?a.value=n:e.set(t,n),n},Mn=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Nn,ju,_N,NN;class Yq{constructor(e={}){Nn.set(this,void 0),ju.set(this,void 0),this[_N]=this.entries.bind(this),this[NN]="ExpirableMap";const{source:n=[],expirationTime:r=10*60*1e3}=e,a=Date.now();hv(this,Nn,new Map([...n].map(([i,s])=>[i,{value:s,timestamp:a}])),"f"),hv(this,ju,r,"f")}prune(){const e=Date.now();for(const[n,r]of Mn(this,Nn,"f").entries())e-r.timestamp>Mn(this,ju,"f")&&Mn(this,Nn,"f").delete(n);return this}set(e,n){this.prune();const r={value:n,timestamp:Date.now()};return Mn(this,Nn,"f").set(e,r),this}get(e){const n=Mn(this,Nn,"f").get(e);if(n!==void 0){if(Date.now()-n.timestamp>Mn(this,ju,"f")){Mn(this,Nn,"f").delete(e);return}return n.value}}clear(){Mn(this,Nn,"f").clear()}entries(){const e=Mn(this,Nn,"f").entries();return function*(){for(const[r,a]of e)yield[r,a.value]}()}values(){const e=Mn(this,Nn,"f").values();return function*(){for(const r of e)yield r.value}()}keys(){return Mn(this,Nn,"f").keys()}forEach(e,n){for(const[r,a]of Mn(this,Nn,"f").entries())e.call(n,a.value,r,this)}has(e){return Mn(this,Nn,"f").has(e)}delete(e){return Mn(this,Nn,"f").delete(e)}get size(){return Mn(this,Nn,"f").size}}Nn=new WeakMap,ju=new WeakMap,_N=Symbol.iterator,NN=Symbol.toStringTag;const mv=t=>{if(t<=127)return 1;if(t<=255)return 2;if(t<=65535)return 3;if(t<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},pv=(t,e,n)=>{if(n<=127)return t[e]=n,1;if(n<=255)return t[e]=129,t[e+1]=n,2;if(n<=65535)return t[e]=130,t[e+1]=n>>8,t[e+2]=n,3;if(n<=16777215)return t[e]=131,t[e+1]=n>>16,t[e+2]=n>>8,t[e+3]=n,4;throw new Error("Length too long (> 4 bytes)")},Gg=(t,e)=>{if(t[e]<128)return 1;if(t[e]===128)throw new Error("Invalid length 0");if(t[e]===129)return 2;if(t[e]===130)return 3;if(t[e]===131)return 4;throw new Error("Length too long (> 4 bytes)")},Kq=(t,e)=>{const n=Gg(t,e);if(n===1)return t[e];if(n===2)return t[e+1];if(n===3)return(t[e+1]<<8)+t[e+2];if(n===4)return(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const yv=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function Lq(t,e){const n=2+mv(t.byteLength+1),r=e.byteLength+n+t.byteLength;let a=0;const i=new Uint8Array(1+mv(r)+r);return i[a++]=48,a+=pv(i,a,r),i.set(e,a),a+=e.byteLength,i[a++]=3,a+=pv(i,a,t.byteLength+1),i[a++]=0,i.set(new Uint8Array(t),a),i}const Zq=(t,e)=>{let n=0;const r=(c,l)=>{if(a[n++]!==c)throw new Error("Expected: "+l)},a=new Uint8Array(t);if(r(48,"sequence"),n+=Gg(a,n),!op(a.slice(n,n+e.byteLength),e))throw new Error("Not the expected OID.");n+=e.byteLength,r(3,"bit string");const i=Kq(a,n)-1;n+=Gg(a,n),r(0,"0 padding");const s=a.slice(n);if(i!==s.length)throw new Error(`DER payload mismatch: Expected length ${i} actual length ${s.length}`);return s};var gv=function(t,e,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(t,n):a?a.value=n:e.set(t,n),n},bv=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ah,ih;class bc{constructor(e){if(ah.set(this,void 0),ih.set(this,void 0),e.byteLength!==bc.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");gv(this,ah,e,"f"),gv(this,ih,bc.derEncode(e),"f")}static from(e){return this.fromDer(e.toDer())}static fromRaw(e){return new bc(e)}static fromDer(e){return new bc(this.derDecode(e))}static derEncode(e){return Lq(e,yv).buffer}static derDecode(e){const n=Zq(e,yv);if(n.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return n}get rawKey(){return bv(this,ah,"f")}get derKey(){return bv(this,ih,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}ah=new WeakMap,ih=new WeakMap;bc.RAW_KEY_LENGTH=32;class Xq{constructor(){this.observers=[]}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter(n=>n!==e)}notify(e,...n){this.observers.forEach(r=>r(e,...n))}}class Qq extends Xq{constructor(){super()}print(e,...n){this.notify({message:e,level:"info"},...n)}warn(e,...n){this.notify({message:e,level:"warn"},...n)}error(e,n,...r){this.notify({message:e,level:"error",error:n},...r)}}var ca=function(t,e,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(t,n):a?a.value=n:e.set(t,n),n},_n=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},la,sh,ch,oh,lh,uh,fh,dh,Co;const SN=.5,TN=1.5,AN=500,BN=6e4,RN=9e5,ON=10;class bp{constructor(e=bp.default){la.set(this,void 0),sh.set(this,void 0),ch.set(this,void 0),oh.set(this,void 0),lh.set(this,void 0),uh.set(this,void 0),fh.set(this,void 0),dh.set(this,void 0),Co.set(this,0);const{initialInterval:n=AN,randomizationFactor:r=SN,multiplier:a=TN,maxInterval:i=BN,maxElapsedTime:s=RN,maxIterations:c=ON,date:l=Date}=e;ca(this,la,n,"f"),ca(this,sh,r,"f"),ca(this,ch,a,"f"),ca(this,oh,i,"f"),ca(this,dh,l,"f"),ca(this,lh,l.now(),"f"),ca(this,uh,s,"f"),ca(this,fh,c,"f")}get ellapsedTimeInMsec(){return _n(this,dh,"f").now()-_n(this,lh,"f")}get currentInterval(){return _n(this,la,"f")}get count(){return _n(this,Co,"f")}get randomValueFromInterval(){const e=_n(this,sh,"f")*_n(this,la,"f"),n=_n(this,la,"f")-e,r=_n(this,la,"f")+e;return Math.random()*(r-n)+n}incrementCurrentInterval(){var e;return ca(this,la,Math.min(_n(this,la,"f")*_n(this,ch,"f"),_n(this,oh,"f")),"f"),ca(this,Co,(e=_n(this,Co,"f"),e++,e),"f"),_n(this,la,"f")}next(){return this.ellapsedTimeInMsec>=_n(this,uh,"f")||_n(this,Co,"f")>=_n(this,fh,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}la=new WeakMap,sh=new WeakMap,ch=new WeakMap,oh=new WeakMap,lh=new WeakMap,uh=new WeakMap,fh=new WeakMap,dh=new WeakMap,Co=new WeakMap;bp.default={initialInterval:AN,randomizationFactor:SN,multiplier:TN,maxInterval:BN,maxElapsedTime:RN,maxIterations:ON,date:Date};var hn=function(t,e,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(t,n):a?a.value=n:e.set(t,n),n},we=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Tn,ic,gl,ua,Za,el,Vu,Mo,Vr,Dr,sc,cc,Hu,qo,Io,oc,hc,UN,hh,mh,lc,Xa;(function(t){t.Received="received",t.Processing="processing",t.Replied="replied",t.Rejected="rejected",t.Unknown="unknown",t.Done="done"})(Xa||(Xa={}));const v0=60*1e3,Jq="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",Wq="aaaaa-aa",eI="ic0.app",tI=".ic0.app",nI="icp0.io",rI=".icp0.io",aI="icp-api.io",iI=".icp-api.io";class e1 extends Rt{constructor(e){super(e),this.message=e}}class _0 extends Rt{constructor(e){super(e),this.message=e}}function sI(){let t;if(typeof window<"u")if(window.fetch)t=window.fetch.bind(window);else throw new e1("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.");else if(typeof global<"u")if(global.fetch)t=global.fetch.bind(global);else throw new e1("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.");else typeof self<"u"&&self.fetch&&(t=self.fetch.bind(self));if(t)return t;throw new e1("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.")}function cI(t){let e;if(t!==void 0)!t.match(/^[a-z]+:/)&&typeof window<"u"?e=new URL(window.location.protocol+"//"+t):e=new URL(t);else{const n=["ic0.app","icp0.io","127.0.0.1","localhost"],r=[".github.dev",".gitpod.io"],a=typeof window<"u"?window.location:void 0,i=a==null?void 0:a.hostname;let s;i&&typeof i=="string"&&(r.some(c=>i.endsWith(c))?s=i:s=n.find(c=>i.endsWith(c))),a&&s?e=new URL(`${a.protocol}//${s}${a.port?":"+a.port:""}`):e=new URL("https://icp-api.io")}return e.toString()}class tl{constructor(e={}){var n,r;Tn.add(this),ic.set(this,null),gl.set(this,!1),ua.set(this,void 0),Za.set(this,void 0),el.set(this,void 0),Vu.set(this,void 0),Mo.set(this,0),Vr.set(this,void 0),Dr.set(this,void 0),sc.set(this,void 0),cc.set(this,void 0),this._isAgent=!0,this.config={},Hu.set(this,0),this.log=new Qq,qo.set(this,[]),Io.set(this,[]),oc.set(this,new Yq({expirationTime:5*60*1e3})),hc.set(this,!0),mh.set(this,(s,c)=>{if(we(this,hc,"f")===!1)return s;if(!c)throw new ba("Invalid signature from replica signed query: no matching node key found.");const{status:l,signatures:u=[],requestId:p}=s,y=new TextEncoder().encode("\vic-response");for(const h of u){const{timestamp:d,identity:f}=h,A=je.fromUint8Array(f).toText();let N;if(l==="replied"){const{reply:S}=s;N=Sm({status:l,reply:S,timestamp:BigInt(d),request_id:p})}else if(l==="rejected"){const{reject_code:S,reject_message:H,error_code:z}=s;N=Sm({status:l,reject_code:S,reject_message:H,error_code:z,timestamp:BigInt(d),request_id:p})}else throw new Error(`Unknown status: ${l}`);const v=qa(y,new Uint8Array(N)),x=c==null?void 0:c.nodeKeys.get(A);if(!x)throw new ba("Invalid signature from replica signed query: no matching node key found.");const _=bc.fromDer(x).rawKey;if(Gq.verify(h.signature,new Uint8Array(v),new Uint8Array(_)))return s;throw new ba(`Invalid signature from replica ${A} signed query.`)}return s}),this.config=e,hn(this,Za,e.fetch||sI()||fetch.bind(global),"f"),hn(this,el,e.fetchOptions,"f"),hn(this,Vu,e.callOptions,"f"),hn(this,gl,(n=e.shouldFetchRootKey)!==null&&n!==void 0?n:!1,"f"),e.rootKey?this.rootKey=e.rootKey:we(this,gl,"f")?this.rootKey=null:this.rootKey=Em(Jq);const a=cI(e.host);this.host=new URL(a),e.verifyQuerySignatures!==void 0&&hn(this,hc,e.verifyQuerySignatures,"f"),hn(this,Dr,(r=e.retryTimes)!==null&&r!==void 0?r:3,"f");const i=()=>new bp({maxIterations:we(this,Dr,"f")});if(hn(this,sc,e.backoffStrategy||i,"f"),this.host.hostname.endsWith(tI)?this.host.hostname=eI:this.host.hostname.endsWith(rI)?this.host.hostname=nI:this.host.hostname.endsWith(iI)&&(this.host.hostname=aI),e.credentials){const{name:s,password:c}=e.credentials;hn(this,Vr,`${s}${c?":"+c:""}`,"f")}if(hn(this,ua,Promise.resolve(e.identity||new PE),"f"),e.ingressExpiryInMinutes&&e.ingressExpiryInMinutes>5)throw new Rt(`The maximum ingress expiry time is 5 minutes. Provided ingress expiry time is ${e.ingressExpiryInMinutes} minutes.`);if(e.ingressExpiryInMinutes&&e.ingressExpiryInMinutes<=0)throw new Rt(`Ingress expiry time must be greater than 0. Provided ingress expiry time is ${e.ingressExpiryInMinutes} minutes.`);hn(this,cc,e.ingressExpiryInMinutes||5,"f"),this.addTransform("update",KE(jg)),e.useQueryNonces&&this.addTransform("query",KE(jg)),e.logToConsole&&this.log.subscribe(s=>{s.level==="error"?console.error(s.message):s.level==="warn"?console.warn(s.message):console.log(s.message)})}get waterMark(){return we(this,Hu,"f")}static createSync(e={}){return new this(Object.assign({},e))}static async create(e={shouldFetchRootKey:!1}){const n=tl.createSync(e),r=[n.syncTime()];return n.host.toString()!=="https://icp-api.io"&&e.shouldFetchRootKey&&r.push(n.fetchRootKey()),await Promise.all(r),n}static async from(e){var n;try{return"config"in e?await tl.create(e.config):await tl.create({fetch:e._fetch,fetchOptions:e._fetchOptions,callOptions:e._callOptions,host:e._host.toString(),identity:(n=e._identity)!==null&&n!==void 0?n:void 0})}catch{throw new Rt("Failed to create agent from provided agent")}}isLocal(){const e=this.host.hostname;return e==="127.0.0.1"||e.endsWith("127.0.0.1")}addTransform(e,n,r=n.priority||0){if(e==="update"){const a=we(this,Io,"f").findIndex(i=>(i.priority||0)<r);we(this,Io,"f").splice(a>=0?a:we(this,Io,"f").length,0,Object.assign(n,{priority:r}))}else if(e==="query"){const a=we(this,qo,"f").findIndex(i=>(i.priority||0)<r);we(this,qo,"f").splice(a>=0?a:we(this,qo,"f").length,0,Object.assign(n,{priority:r}))}}async getPrincipal(){if(!we(this,ua,"f"))throw new _0("This identity has expired due this application's security policy. Please refresh your authentication.");return(await we(this,ua,"f")).getPrincipal()}async call(e,n,r){var a,i;await we(this,Tn,"m",lc).call(this);const s=(a=n.callSync)!==null&&a!==void 0?a:!0,c=await(r!==void 0?await r:await we(this,ua,"f"));if(!c)throw new _0("This identity has expired due this application's security policy. Please refresh your authentication.");const l=je.from(e),u=n.effectiveCanisterId?je.from(n.effectiveCanisterId):l,p=c.getPrincipal()||je.anonymous();let y=new p0(we(this,cc,"f")*v0);Math.abs(we(this,Mo,"f"))>1e3*30&&(y=new p0(we(this,cc,"f")*v0+we(this,Mo,"f")));const h={request_type:Fg.Call,canister_id:l,method_name:n.methodName,arg:n.arg,sender:p,ingress_expiry:y};let d=await this._transform({request:{body:null,method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},we(this,Vr,"f")?{Authorization:"Basic "+btoa(we(this,Vr,"f"))}:{})},endpoint:"call",body:h}),f;n!=null&&n.nonce?f=A(n.nonce):d.body.nonce?f=A(d.body.nonce):f=void 0,h.nonce=f;function A(_){return new Uint8Array(_)}d=await c.transformRequest(d);const N=Py(d.body),v=we(this,sc,"f").call(this),x=zE(h);try{const _=()=>(this.log.print(`fetching "/api/v3/canister/${u.toText()}/call" with request:`,d),we(this,Za,"f").call(this,""+new URL(`/api/v3/canister/${u.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},we(this,Vu,"f")),d.request),{body:N}))),M=()=>(this.log.print(`fetching "/api/v2/canister/${u.toText()}/call" with request:`,d),we(this,Za,"f").call(this,""+new URL(`/api/v2/canister/${u.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},we(this,Vu,"f")),d.request),{body:N}))),H=await we(this,Tn,"m",hh).call(this,{request:s?_:M,backoff:v,tries:0}),z=await H.arrayBuffer(),K=H.status===200&&z.byteLength>0?mi(z):null;if(K&&"certificate"in K){const Z=await this.parseTimeFromResponse({certificate:K.certificate});hn(this,Hu,Z,"f")}return{requestId:x,response:{ok:H.ok,status:H.status,statusText:H.statusText,body:K,headers:ku(H.headers)},requestDetails:h}}catch(_){if(_.message.includes("v3 api not supported."))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(e,Object.assign(Object.assign({},n),{callSync:!1}),r);const M=`Error while making call: ${(i=_.message)!==null&&i!==void 0?i:String(_)}`,S=new gM(M,_,sn(x),sn(d.body.sender_pubkey),sn(d.body.sender_sig),String(d.body.content.ingress_expiry._value));throw this.log.error(M,S),S}}async query(e,n,r){var a,i,s,c;await we(this,Tn,"m",lc).call(this);const l=we(this,sc,"f").call(this),u=n.effectiveCanisterId?je.from(n.effectiveCanisterId):je.from(e);this.log.print(`ecid ${u.toString()}`),this.log.print(`canisterId ${e.toString()}`);let p,y;const h=await(r!==void 0?r:we(this,ua,"f"));if(!h)throw new _0("This identity has expired due this application's security policy. Please refresh your authentication.");const d=je.from(e),f=(h==null?void 0:h.getPrincipal())||je.anonymous(),A={request_type:"query",canister_id:d,method_name:n.methodName,arg:n.arg,sender:f,ingress_expiry:new p0(we(this,cc,"f")*v0)},N=zE(A);p=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},we(this,Vr,"f")?{Authorization:"Basic "+btoa(we(this,Vr,"f"))}:{})},endpoint:"read",body:A}),p=await(h==null?void 0:h.transformRequest(p));const v=Py(p.body),x={canister:d.toText(),ecid:u,transformedRequest:p,body:v,requestId:N,backoff:l,tries:0},_=async()=>({requestDetails:A,query:await we(this,Tn,"m",UN).call(this,x)}),M=async()=>{if(!we(this,hc,"f"))return;const S=we(this,oc,"f").get(u.toString());return S||(await this.fetchSubnetKeys(u.toString()),we(this,oc,"f").get(u.toString()))};try{const[S,H]=await Promise.all([_(),M()]);y=S;const{requestDetails:z,query:K}=y,Z=Object.assign(Object.assign({},K),{requestDetails:z});if(this.log.print("Query response:",Z),!we(this,hc,"f"))return Z;try{return we(this,mh,"f").call(this,Z,H)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),we(this,oc,"f").delete(e.toString()),await this.fetchSubnetKeys(u.toString());const P=we(this,oc,"f").get(e.toString());if(!P)throw new ba("Invalid signature from replica signed query: no matching node key found.");return we(this,mh,"f").call(this,Z,P)}}catch(S){const H=`Error while making call: ${(a=S.message)!==null&&a!==void 0?a:String(S)}`,z=new bM(H,S,String(N),sn((i=p==null?void 0:p.body)===null||i===void 0?void 0:i.sender_pubkey),sn((s=p==null?void 0:p.body)===null||s===void 0?void 0:s.sender_sig),String((c=p==null?void 0:p.body)===null||c===void 0?void 0:c.content.ingress_expiry._value));throw this.log.error(H,z),z}}async createReadStateRequest(e,n){await we(this,Tn,"m",lc).call(this);const r=await(n!==void 0?await n:await we(this,ua,"f"));if(!r)throw new _0("This identity has expired due this application's security policy. Please refresh your authentication.");const a=(r==null?void 0:r.getPrincipal())||je.anonymous(),i=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},we(this,Vr,"f")?{Authorization:"Basic "+btoa(we(this,Vr,"f"))}:{})},endpoint:"read_state",body:{request_type:"read_state",paths:e.paths,sender:a,ingress_expiry:new p0(we(this,cc,"f")*v0)}});return r==null?void 0:r.transformRequest(i)}async readState(e,n,r,a){var i,s,c,l;function u(A){for(const N of A.paths){const[v,x]=N,_=new TextEncoder().encode("request_status");if(op(v,_))return x}}const p=u(n);await we(this,Tn,"m",lc).call(this);const y=typeof e=="string"?je.fromText(e):e,h=a??await this.createReadStateRequest(n,r),d=Py(h.body);this.log.print(`fetching "/api/v2/canister/${y}/read_state" with request:`,h);const f=we(this,sc,"f").call(this);try{const A=await we(this,Tn,"m",hh).call(this,{request:()=>we(this,Za,"f").call(this,""+new URL(`/api/v2/canister/${y.toString()}/read_state`,this.host),Object.assign(Object.assign(Object.assign({},we(this,el,"f")),h.request),{body:d})),backoff:f,tries:0});if(!A.ok)throw new Error(`Server returned an error:
  Code: ${A.status} (${A.statusText})
  Body: ${await A.text()}
`);const N=mi(await A.arrayBuffer());this.log.print("Read state response:",N);const v=await this.parseTimeFromResponse(N);return v>0&&(this.log.print("Read state response time:",v),hn(this,Hu,v,"f")),N}catch(A){const N=`Caught exception while attempting to read state: ${(i=A.message)!==null&&i!==void 0?i:String(A)}`,v=new xM(N,A,String(p),sn((s=h==null?void 0:h.body)===null||s===void 0?void 0:s.sender_pubkey),sn((c=h==null?void 0:h.body)===null||c===void 0?void 0:c.sender_sig),String((l=h==null?void 0:h.body)===null||l===void 0?void 0:l.content.ingress_expiry._value));throw this.log.error(N,v),v}}async parseTimeFromResponse(e){let n;if(e.certificate){const r=mi(e.certificate);if(r&&"tree"in r)n=r.tree;else throw new Error("Could not decode time from response");const a=eu(["time"],n);if(a.status!==Lt.Found)throw new Error("Time was not found in the response or was not in its expected format.");if(!(a.value instanceof ArrayBuffer)&&!ArrayBuffer.isView(a))throw new Error("Time was not found in the response or was not in its expected format.");const i=K2(L4(a.value));return this.log.print("Time from response:",i),this.log.print("Time from response in milliseconds:",Number(i)),Number(i)}else this.log.warn("No certificate found in response");return 0}async syncTime(e){await we(this,Tn,"m",lc).call(this);const n=await zU(()=>Promise.resolve().then(()=>cq),void 0,import.meta.url),r=Date.now();try{e||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");const a=tl.createSync({identity:new PE,host:this.host.toString(),fetch:we(this,Za,"f"),retryTimes:0}),s=(await n.request({canisterId:e??je.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),agent:a,paths:["time"]})).get("time");s&&(hn(this,Mo,Number(s)-Number(r),"f"),this.log.notify({message:`Syncing time: offset of ${we(this,Mo,"f")}`,level:"info"}))}catch(a){this.log.error("Caught exception while attempting to sync time",a)}}async status(){const e=we(this,Vr,"f")?{Authorization:"Basic "+btoa(we(this,Vr,"f"))}:{};this.log.print('fetching "/api/v2/status"');const n=we(this,sc,"f").call(this),r=await we(this,Tn,"m",hh).call(this,{backoff:n,request:()=>we(this,Za,"f").call(this,""+new URL("/api/v2/status",this.host),Object.assign({headers:e},we(this,el,"f"))),tries:0});return mi(await r.arrayBuffer())}async fetchRootKey(){let e;return we(this,ic,"f")?e=await we(this,ic,"f"):(hn(this,ic,new Promise((n,r)=>{this.status().then(a=>{const i=a.root_key;this.rootKey=i,n(i)}).catch(r)}),"f"),e=await we(this,ic,"f")),hn(this,ic,null,"f"),e}invalidateIdentity(){hn(this,ua,null,"f")}replaceIdentity(e){hn(this,ua,Promise.resolve(e),"f")}async fetchSubnetKeys(e){await we(this,Tn,"m",lc).call(this);const n=je.from(e),a=(await xN({canisterId:n,paths:["subnet"],agent:this})).get("subnet");if(a&&typeof a=="object"&&"nodeKeys"in a)return we(this,oc,"f").set(n.toText(),a),a}_transform(e){let n=Promise.resolve(e);if(e.endpoint==="call")for(const r of we(this,Io,"f"))n=n.then(a=>r(a).then(i=>i||a));else for(const r of we(this,qo,"f"))n=n.then(a=>r(a).then(i=>i||a));return n}}ic=new WeakMap,gl=new WeakMap,ua=new WeakMap,Za=new WeakMap,el=new WeakMap,Vu=new WeakMap,Mo=new WeakMap,Vr=new WeakMap,Dr=new WeakMap,sc=new WeakMap,cc=new WeakMap,Hu=new WeakMap,qo=new WeakMap,Io=new WeakMap,oc=new WeakMap,hc=new WeakMap,mh=new WeakMap,Tn=new WeakSet,UN=async function t(e){var n,r;const{ecid:a,transformedRequest:i,body:s,requestId:c,backoff:l,tries:u}=e,p=u===0?0:l.next();if(this.log.print(`fetching "/api/v2/canister/${a.toString()}/query" with tries:`,{tries:u,backoff:l,delay:p}),p===null)throw new Rt(`Timestamp failed to pass the watermark after retrying the configured ${we(this,Dr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);p>0&&await new Promise(f=>setTimeout(f,p));let y;try{this.log.print(`fetching "/api/v2/canister/${a.toString()}/query" with request:`,i);const f=await we(this,Za,"f").call(this,""+new URL(`/api/v2/canister/${a.toString()}/query`,this.host),Object.assign(Object.assign(Object.assign({},we(this,el,"f")),i.request),{body:s}));if(f.status===200){const A=mi(await f.arrayBuffer());y=Object.assign(Object.assign({},A),{httpDetails:{ok:f.ok,status:f.status,statusText:f.statusText,headers:ku(f.headers)},requestId:c})}else throw new Gy(`Gateway returned an error:
  Code: ${f.status} (${f.statusText})
  Body: ${await f.text()}
`,{ok:f.ok,status:f.status,statusText:f.statusText,headers:ku(f.headers)})}catch(f){if(u<we(this,Dr,"f"))return this.log.warn(`Caught exception while attempting to make query:
  ${f}
  Retrying query.`),await we(this,Tn,"m",t).call(this,Object.assign(Object.assign({},e),{tries:u+1}));throw f}const h=(r=(n=y.signatures)===null||n===void 0?void 0:n[0])===null||r===void 0?void 0:r.timestamp;if(!we(this,hc,"f"))return y;if(!h)throw new Error("Timestamp not found in query response. This suggests a malformed or malicious response.");const d=Number(BigInt(h)/BigInt(1e6));if(this.log.print("watermark and timestamp",{waterMark:this.waterMark,timestamp:d}),Number(this.waterMark)>d){const f=new Rt("Timestamp is below the watermark. Retrying query.");if(this.log.error("Timestamp is below",f,{timestamp:h,waterMark:this.waterMark}),u<we(this,Dr,"f"))return await we(this,Tn,"m",t).call(this,Object.assign(Object.assign({},e),{tries:u+1}));throw new Rt(`Timestamp failed to pass the watermark after retrying the configured ${we(this,Dr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`)}return y},hh=async function t(e){const{request:n,backoff:r,tries:a}=e,i=a===0?0:r.next();if(i===null)throw new Rt(`Timestamp failed to pass the watermark after retrying the configured ${we(this,Dr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);i>0&&await new Promise(u=>setTimeout(u,i));let s;try{s=await n()}catch(u){if(we(this,Dr,"f")>a)return this.log.warn(`Caught exception while attempting to make request:
  ${u}
  Retrying request.`),await we(this,Tn,"m",t).call(this,{request:n,backoff:r,tries:a+1});throw u}if(s.ok)return s;const c=await s.clone().text(),l=`Server returned an error:
  Code: ${s.status} (${s.statusText})
  Body: ${c}
`;if(s.status===404&&s.url.includes("api/v3"))throw new Gy("v3 api not supported. Fall back to v2",{ok:s.ok,status:s.status,statusText:s.statusText,headers:ku(s.headers)});if(a<we(this,Dr,"f"))return await we(this,Tn,"m",t).call(this,{request:n,backoff:r,tries:a+1});throw new Gy(l,{ok:s.ok,status:s.status,statusText:s.statusText,headers:ku(s.headers)})},lc=async function(){if(!this.rootKey)if(this.rootKey===null&&we(this,gl,"f"))await this.fetchRootKey();else throw new Rt(`Invalid root key detected. The root key for this agent is ${this.rootKey} and the shouldFetchRootKey value is set to ${we(this,gl,"f")}. The root key should only be unknown if you are in local development. Otherwise you should avoid fetching and use the default IC Root Key or the known root key of your environment.`)};var xv;(function(t){t.Error="err",t.GetPrincipal="gp",t.GetPrincipalResponse="gpr",t.Query="q",t.QueryResponse="qr",t.Call="c",t.CallResponse="cr",t.ReadState="rs",t.ReadStateResponse="rsr",t.Status="s",t.StatusResponse="sr"})(xv||(xv={}));function wv(){const t=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.ic.agent:global.ic.agent:window.ic.agent;if(!t)throw new Error("No Agent could be found.");return t}const oI=5*60*1e3;function CN(){return hI(uI(lI(),1e3),dI(1e3,1.2),fI(oI))}function lI(){let t=!0;return async()=>t?(t=!1,!0):!1}function uI(t,e){return async(n,r,a)=>{if(await t(n,r,a))return new Promise(i=>setTimeout(i,e))}}function fI(t){const e=Date.now()+t;return async(n,r,a)=>{if(Date.now()>e)throw new Error(`Request timed out after ${t} msec:
  Request ID: ${sn(r)}
  Request status: ${a}
`)}}function dI(t,e){let n=t;return()=>new Promise(r=>setTimeout(()=>{n*=e,r()},n))}function hI(...t){return async(e,n,r)=>{for(const a of t)await a(e,n,r)}}async function MN(t,e,n,r=CN(),a,i){var s;const c=[new TextEncoder().encode("request_status"),n],l=a??await((s=t.createReadStateRequest)===null||s===void 0?void 0:s.call(t,{paths:[c]})),u=await t.readState(e,{paths:[c]},void 0,l);if(t.rootKey==null)throw new Error("Agent root key not initialized before polling");const p=await Hc.create({certificate:u.certificate,rootKey:t.rootKey,canisterId:e,blsVerify:i}),y=Ur(p.lookup([...c,new TextEncoder().encode("status")]));let h;switch(typeof y>"u"?h=Xa.Unknown:h=new TextDecoder().decode(y),h){case Xa.Replied:return{reply:Ur(p.lookup([...c,"reply"])),certificate:p};case Xa.Received:case Xa.Unknown:case Xa.Processing:return await r(e,n,h),MN(t,e,n,r,l,i);case Xa.Rejected:{const d=new Uint8Array(Ur(p.lookup([...c,"reject_code"])))[0],f=new TextDecoder().decode(Ur(p.lookup([...c,"reject_message"])));throw new Error(`Call was rejected:
  Request ID: ${sn(n)}
  Reject code: ${d}
  Reject text: ${f}
`)}case Xa.Done:throw new Error(`Call was marked as done but we never saw the reply:
  Request ID: ${sn(n)}
`)}throw new Error("unreachable")}const mI=({IDL:t})=>{const e=t.Variant({mainnet:t.Null,testnet:t.Null}),n=t.Text,r=t.Record({network:e,address:n,min_confirmations:t.Opt(t.Nat32)}),a=t.Nat64,i=a,s=t.Nat32,c=t.Record({start_height:s,end_height:t.Opt(s),network:e}),l=t.Vec(t.Nat8),u=t.Record({tip_height:s,block_headers:t.Vec(l)}),p=t.Record({network:e}),y=t.Nat64,h=t.Vec(y),d=t.Record({network:e,filter:t.Opt(t.Variant({page:t.Vec(t.Nat8),min_confirmations:t.Nat32})),address:n}),f=t.Vec(t.Nat8),A=t.Record({txid:t.Vec(t.Nat8),vout:t.Nat32}),N=t.Record({height:t.Nat32,value:a,outpoint:A}),v=t.Record({next_page:t.Opt(t.Vec(t.Nat8)),tip_height:s,tip_block_hash:f,utxos:t.Vec(N)}),x=t.Record({transaction:t.Vec(t.Nat8),network:e}),_=t.Principal,M=t.Record({canister_id:_,num_requested_changes:t.Opt(t.Nat64)}),S=t.Variant({from_user:t.Record({user_id:t.Principal}),from_canister:t.Record({canister_version:t.Opt(t.Nat64),canister_id:t.Principal})}),H=t.Vec(t.Nat8),z=t.Variant({creation:t.Record({controllers:t.Vec(t.Principal)}),code_deployment:t.Record({mode:t.Variant({reinstall:t.Null,upgrade:t.Null,install:t.Null}),module_hash:t.Vec(t.Nat8)}),load_snapshot:t.Record({canister_version:t.Nat64,taken_at_timestamp:t.Nat64,snapshot_id:H}),controllers_change:t.Record({controllers:t.Vec(t.Principal)}),code_uninstall:t.Null}),K=t.Record({timestamp_nanos:t.Nat64,canister_version:t.Nat64,origin:S,details:z}),Z=t.Record({controllers:t.Vec(t.Principal),module_hash:t.Opt(t.Vec(t.Nat8)),recent_changes:t.Vec(K),total_num_changes:t.Nat64}),k=t.Record({canister_id:_}),P=t.Variant({controllers:t.Null,public:t.Null,allowed_viewers:t.Vec(t.Principal)}),X=t.Record({freezing_threshold:t.Nat,controllers:t.Vec(t.Principal),reserved_cycles_limit:t.Nat,log_visibility:P,wasm_memory_limit:t.Nat,memory_allocation:t.Nat,compute_allocation:t.Nat}),E=t.Record({status:t.Variant({stopped:t.Null,stopping:t.Null,running:t.Null}),memory_size:t.Nat,cycles:t.Nat,settings:X,query_stats:t.Record({response_payload_bytes_total:t.Nat,num_instructions_total:t.Nat,num_calls_total:t.Nat,request_payload_bytes_total:t.Nat}),idle_cycles_burned_per_day:t.Nat,module_hash:t.Opt(t.Vec(t.Nat8)),reserved_cycles:t.Nat}),O=t.Record({canister_id:_}),j=t.Record({freezing_threshold:t.Opt(t.Nat),controllers:t.Opt(t.Vec(t.Principal)),reserved_cycles_limit:t.Opt(t.Nat),log_visibility:t.Opt(P),wasm_memory_limit:t.Opt(t.Nat),memory_allocation:t.Opt(t.Nat),compute_allocation:t.Opt(t.Nat)}),C=t.Record({settings:t.Opt(j),sender_canister_version:t.Opt(t.Nat64)}),V=t.Record({canister_id:_}),F=t.Record({canister_id:_}),Q=t.Record({canister_id:_,snapshot_id:H}),oe=t.Record({canister_id:_}),ae=t.Variant({secp256k1:t.Null}),se=t.Record({key_id:t.Record({name:t.Text,curve:ae}),canister_id:t.Opt(_),derivation_path:t.Vec(t.Vec(t.Nat8))}),le=t.Record({public_key:t.Vec(t.Nat8),chain_code:t.Vec(t.Nat8)}),U=t.Record({canister_id:_}),de=t.Record({idx:t.Nat64,timestamp_nanos:t.Nat64,content:t.Vec(t.Nat8)}),pe=t.Record({canister_log_records:t.Vec(de)}),xe=t.Record({value:t.Text,name:t.Text}),me=t.Record({status:t.Nat,body:t.Vec(t.Nat8),headers:t.Vec(xe)}),ge=t.Record({url:t.Text,method:t.Variant({get:t.Null,head:t.Null,post:t.Null}),max_response_bytes:t.Opt(t.Nat64),body:t.Opt(t.Vec(t.Nat8)),transform:t.Opt(t.Record({function:t.Func([t.Record({context:t.Vec(t.Nat8),response:me})],[me],["query"]),context:t.Vec(t.Nat8)})),headers:t.Vec(xe)}),I=t.Variant({reinstall:t.Null,upgrade:t.Opt(t.Record({wasm_memory_persistence:t.Opt(t.Variant({keep:t.Null,replace:t.Null})),skip_pre_upgrade:t.Opt(t.Bool)})),install:t.Null}),D=t.Record({hash:t.Vec(t.Nat8)}),L=t.Record({arg:t.Vec(t.Nat8),wasm_module_hash:t.Vec(t.Nat8),mode:I,chunk_hashes_list:t.Vec(D),target_canister:_,store_canister:t.Opt(_),sender_canister_version:t.Opt(t.Nat64)}),te=t.Vec(t.Nat8),W=t.Record({arg:t.Vec(t.Nat8),wasm_module:te,mode:I,canister_id:_,sender_canister_version:t.Opt(t.Nat64)}),ne=t.Record({canister_id:_}),T=t.Record({id:H,total_size:t.Nat64,taken_at_timestamp:t.Nat64}),m=t.Vec(T),g=t.Record({canister_id:_,sender_canister_version:t.Opt(t.Nat64),snapshot_id:H}),B=t.Record({start_at_timestamp_nanos:t.Nat64,subnet_id:t.Principal}),q=t.Record({num_block_failures_total:t.Nat64,node_id:t.Principal,num_blocks_proposed_total:t.Nat64}),Y=t.Vec(t.Record({timestamp_nanos:t.Nat64,node_metrics:t.Vec(q)})),re=t.Record({settings:t.Opt(j),specified_id:t.Opt(_),amount:t.Opt(t.Nat),sender_canister_version:t.Opt(t.Nat64)}),fe=t.Record({canister_id:_}),Ee=t.Record({canister_id:_,amount:t.Nat}),ve=t.Vec(t.Nat8),Ce=t.Variant({ed25519:t.Null,bip340secp256k1:t.Null}),R=t.Record({key_id:t.Record({algorithm:Ce,name:t.Text}),canister_id:t.Opt(_),derivation_path:t.Vec(t.Vec(t.Nat8))}),b=t.Record({public_key:t.Vec(t.Nat8),chain_code:t.Vec(t.Nat8)}),w=t.Record({key_id:t.Record({name:t.Text,curve:ae}),derivation_path:t.Vec(t.Vec(t.Nat8)),message_hash:t.Vec(t.Nat8)}),G=t.Record({signature:t.Vec(t.Nat8)}),ee=t.Variant({bip341:t.Record({merkle_root_hash:t.Vec(t.Nat8)})}),ce=t.Record({aux:t.Opt(ee),key_id:t.Record({algorithm:Ce,name:t.Text}),derivation_path:t.Vec(t.Vec(t.Nat8)),message:t.Vec(t.Nat8)}),ie=t.Record({signature:t.Vec(t.Nat8)}),Ue=t.Record({canister_id:_}),$e=t.Record({canister_id:_}),Me=t.Record({canister_id:_}),Re=t.Vec(D),Je=t.Record({subnet_id:t.Principal}),ht=t.Record({replica_version:t.Text}),wp=t.Record({replace_snapshot:t.Opt(H),canister_id:_}),Ep=T,vp=t.Record({canister_id:_,sender_canister_version:t.Opt(t.Nat64)}),_p=t.Record({canister_id:t.Principal,settings:j,sender_canister_version:t.Opt(t.Nat64)}),Np=t.Record({chunk:t.Vec(t.Nat8),canister_id:t.Principal}),Oi=D;return t.Service({bitcoin_get_balance:t.Func([r],[i],[]),bitcoin_get_block_headers:t.Func([c],[u],[]),bitcoin_get_current_fee_percentiles:t.Func([p],[h],[]),bitcoin_get_utxos:t.Func([d],[v],[]),bitcoin_send_transaction:t.Func([x],[],[]),canister_info:t.Func([M],[Z],[]),canister_status:t.Func([k],[E],[]),clear_chunk_store:t.Func([O],[],[]),create_canister:t.Func([C],[V],[]),delete_canister:t.Func([F],[],[]),delete_canister_snapshot:t.Func([Q],[],[]),deposit_cycles:t.Func([oe],[],[]),ecdsa_public_key:t.Func([se],[le],[]),fetch_canister_logs:t.Func([U],[pe],["query"]),http_request:t.Func([ge],[me],[]),install_chunked_code:t.Func([L],[],[]),install_code:t.Func([W],[],[]),list_canister_snapshots:t.Func([ne],[m],[]),load_canister_snapshot:t.Func([g],[],[]),node_metrics_history:t.Func([B],[Y],[]),provisional_create_canister_with_cycles:t.Func([re],[fe],[]),provisional_top_up_canister:t.Func([Ee],[],[]),raw_rand:t.Func([],[ve],[]),schnorr_public_key:t.Func([R],[b],[]),sign_with_ecdsa:t.Func([w],[G],[]),sign_with_schnorr:t.Func([ce],[ie],[]),start_canister:t.Func([Ue],[],[]),stop_canister:t.Func([$e],[],[]),stored_chunks:t.Func([Me],[Re],[]),subnet_info:t.Func([Je],[ht],[]),take_canister_snapshot:t.Func([wp],[Ep],[]),uninstall_code:t.Func([vp],[],[]),update_settings:t.Func([_p],[],[]),upload_chunk:t.Func([Np],[Oi],[])})};class qN extends Rt{constructor(e,n,r,a){super(["Call failed:",`  Canister: ${e.toText()}`,`  Method: ${n} (${r})`,...Object.getOwnPropertyNames(a).map(i=>`  "${i}": ${JSON.stringify(a[i])}`)].join(`
`)),this.canisterId=e,this.methodName=n,this.type=r,this.props=a}}class pI extends qN{constructor(e,n,r){var a;super(e,n,"query",{Status:r.status,Code:(a=Bg[r.reject_code])!==null&&a!==void 0?a:`Unknown Code "${r.reject_code}"`,Message:r.reject_message}),this.result=r}}class Ev extends qN{constructor(e,n,r,a,i,s,c){super(e,n,"update",Object.assign({"Request ID":sn(r)},a.body?Object.assign(Object.assign({},c?{"Error code":c}:{}),{"Reject code":String(i),"Reject message":s}):{"HTTP status code":a.status.toString(),"HTTP status text":a.statusText})),this.requestId=r,this.response=a,this.reject_code=i,this.reject_message=s,this.error_code=c}}const vr=Symbol.for("ic-agent-metadata");class xp{constructor(e){this[vr]=Object.freeze(e)}static agentOf(e){return e[vr].config.agent}static interfaceOf(e){return e[vr].service}static canisterIdOf(e){return je.from(e[vr].config.canisterId)}static async install(e,n){const r=e.mode===void 0?{install:null}:e.mode,a=e.arg?[...new Uint8Array(e.arg)]:[],i=[...new Uint8Array(e.module)],s=typeof n.canisterId=="string"?je.fromText(n.canisterId):n.canisterId;await vv(n).install_code({mode:r,arg:a,wasm_module:i,canister_id:s,sender_canister_version:[]})}static async createCanister(e,n){function r(i){return[{controllers:i.controllers?[i.controllers]:[],compute_allocation:i.compute_allocation?[i.compute_allocation]:[],freezing_threshold:i.freezing_threshold?[i.freezing_threshold]:[],memory_allocation:i.memory_allocation?[i.memory_allocation]:[],reserved_cycles_limit:[],log_visibility:[],wasm_memory_limit:[]}]}const{canister_id:a}=await vv(e||{}).provisional_create_canister_with_cycles({amount:[],settings:r(n||{}),specified_id:[],sender_canister_version:[]});return a}static async createAndInstallCanister(e,n,r){const a=await this.createCanister(r);return await this.install(Object.assign({},n),Object.assign(Object.assign({},r),{canisterId:a})),this.createActor(e,Object.assign(Object.assign({},r),{canisterId:a}))}static createActorClass(e,n){const r=e({IDL:yC});class a extends xp{constructor(s){if(!s.canisterId)throw new Rt(`Canister ID is required, but received ${typeof s.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);const c=typeof s.canisterId=="string"?je.fromText(s.canisterId):s.canisterId;super({config:Object.assign(Object.assign(Object.assign({},IN),s),{canisterId:c}),service:r});for(const[l,u]of r._fields)n!=null&&n.httpDetails&&u.annotations.push(Yg),n!=null&&n.certificate&&u.annotations.push($N),this[l]=yI(this,l,u,s.blsVerify)}}return a}static createActor(e,n){if(!n.canisterId)throw new Rt(`Canister ID is required, but received ${typeof n.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);return new(this.createActorClass(e))(n)}static createActorWithHttpDetails(e,n){return new(this.createActorClass(e,{httpDetails:!0}))(n)}static createActorWithExtendedDetails(e,n,r={httpDetails:!0,certificate:!0}){return new(this.createActorClass(e,r))(n)}}function _o(t,e){const n=s5(t,V4.Buffer.from(e));switch(n.length){case 0:return;case 1:return n[0];default:return n}}const IN={pollingStrategyFactory:CN},Yg="http-details",$N="certificate";function yI(t,e,n,r){let a;n.annotations.includes("query")||n.annotations.includes("composite_query")?a=async(s,...c)=>{var l,u;s=Object.assign(Object.assign({},s),(u=(l=t[vr].config).queryTransform)===null||u===void 0?void 0:u.call(l,e,c,Object.assign(Object.assign({},t[vr].config),s)));const p=s.agent||t[vr].config.agent||wv(),y=je.from(s.canisterId||t[vr].config.canisterId),h=Og(n.argTypes,c),d=await p.query(y,{methodName:e,arg:h,effectiveCanisterId:s.effectiveCanisterId}),f=Object.assign(Object.assign({},d.httpDetails),{requestDetails:d.requestDetails});switch(d.status){case"rejected":throw new pI(y,e,d);case"replied":return n.annotations.includes(Yg)?{httpDetails:f,result:_o(n.retTypes,d.reply.arg)}:_o(n.retTypes,d.reply.arg)}}:a=async(s,...c)=>{var l,u;s=Object.assign(Object.assign({},s),(u=(l=t[vr].config).callTransform)===null||u===void 0?void 0:u.call(l,e,c,Object.assign(Object.assign({},t[vr].config),s)));const p=s.agent||t[vr].config.agent||wv(),{canisterId:y,effectiveCanisterId:h,pollingStrategyFactory:d}=Object.assign(Object.assign(Object.assign({},IN),t[vr].config),s),f=je.from(y),A=h!==void 0?je.from(h):f,N=Og(n.argTypes,c),{requestId:v,response:x,requestDetails:_}=await p.call(f,{methodName:e,arg:N,effectiveCanisterId:A});let M,S;if(x.body&&x.body.certificate){if(p.rootKey==null)throw new Error("Agent is missing root key");const Z=x.body.certificate;S=await Hc.create({certificate:vm(Z),rootKey:p.rootKey,canisterId:je.from(y),blsVerify:r});const k=[new TextEncoder().encode("request_status"),v];switch(new TextDecoder().decode(Ur(S.lookup([...k,"status"])))){case"replied":M=Ur(S.lookup([...k,"reply"]));break;case"rejected":{const X=new Uint8Array(Ur(S.lookup([...k,"reject_code"])))[0],E=new TextDecoder().decode(Ur(S.lookup([...k,"reject_message"]))),O=Ur(S.lookup([...k,"error_code"])),j=O?new TextDecoder().decode(O):void 0;throw new Ev(f,e,v,x,X,E,j)}}}else if(x.body&&"reject_message"in x.body){const{reject_code:Z,reject_message:k,error_code:P}=x.body;throw new Ev(f,e,v,x,Z,k,P)}if(x.status===202){const Z=d(),k=await MN(p,A,v,Z,r);S=k.certificate,M=k.reply}const H=n.annotations.includes(Yg),z=n.annotations.includes($N),K=Object.assign(Object.assign({},x),{requestDetails:_});if(M!==void 0)return H&&z?{httpDetails:K,certificate:S,result:_o(n.retTypes,M)}:z?{certificate:S,result:_o(n.retTypes,M)}:H?{httpDetails:K,result:_o(n.retTypes,M)}:_o(n.retTypes,M);if(n.retTypes.length===0)return H?{httpDetails:x,result:void 0}:void 0;throw new Error(`Call was returned undefined, but type [${n.retTypes.join(",")}].`)};const i=(...s)=>a({},...s);return i.withOptions=s=>(...c)=>a(s,...c),i}function vv(t){function e(n,r){if(t.effectiveCanisterId)return{effectiveCanisterId:je.from(t.effectiveCanisterId)};const a=r[0];let i=je.fromHex("");return a&&typeof a=="object"&&a.target_canister&&n==="install_chunked_code"&&(i=je.from(a.target_canister)),a&&typeof a=="object"&&a.canister_id&&(i=je.from(a.canister_id)),{effectiveCanisterId:i}}return xp.createActor(mI,Object.assign(Object.assign(Object.assign({},t),{canisterId:je.fromHex("")}),{callTransform:e,queryTransform:e}))}const kN="tqeln-aaaaa-aaaad-abn7q-cai",gI=(t,e={})=>{const n=e.agent||new tl({...e.agentOptions});return e.agent&&e.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),xp.createActor(j4,{agent:n,canisterId:t,...e.actorOptions})};gI(kN);const _v="actor",bI=j4;function Fa(){const t=Bi(),e=Bd({queryKey:[_v],queryFn:async()=>{const r=(await cp.create()).getIdentity(),a=new Df({identity:r});return qR.createActor(bI,{agent:a,canisterId:kN})},staleTime:1/0});return be.useEffect(()=>{e.data&&t.invalidateQueries({predicate:n=>!n.queryKey.includes(_v)})},[e.data,t]),{actor:e.data??null,isFetching:e.isFetching}}function FN(){const{actor:t,isFetching:e}=Fa();return Bd({queryKey:["listUsers"],queryFn:async()=>t?t.listUsers():[],enabled:!!t&&!e,staleTime:30*1e3})}function xI(){const{actor:t}=Fa(),e=Bi();return lu({mutationFn:async({user:n,approval:r})=>{if(!t)throw new Error("No actor available");Le.fromText(n)},onSuccess:()=>{e.invalidateQueries({queryKey:["listUsers"]})},retry:2})}function wI(){const{actor:t}=Fa(),e=Bi();return lu({mutationFn:async({user:n,role:r})=>{if(!t)throw new Error("No actor available");Le.fromText(n)},onSuccess:()=>{e.invalidateQueries({queryKey:["listUsers"]})},retry:2})}function EI(){const{actor:t}=Fa(),e=Bi();return lu({mutationFn:async({serverUrl:n,sessionId:r})=>{if(!t)throw new Error("No actor");return t.logTurnServerUsage(n,r)},onSuccess:()=>{e.invalidateQueries({queryKey:["turnServerUsage"]}),e.invalidateQueries({queryKey:["allTurnServerUsages"]})},retry:2})}function vI(){const{actor:t,isFetching:e}=Fa();return Bd({queryKey:["allTurnServerUsages"],queryFn:async()=>t?t.getAllTurnServerUsages():[],enabled:!!t&&!e,staleTime:30*1e3})}function Z2(){const{actor:t,isFetching:e}=Fa();return Bd({queryKey:["allTurnProviders"],queryFn:async()=>t?t.getAllTurnProviders():[],enabled:!!t&&!e,staleTime:2*60*1e3})}function _I(){const{actor:t}=Fa(),e=Bi();return lu({mutationFn:async n=>{if(!t)throw new Error("No actor");return t.registerTurnProvider(n.id,n.name,n.url,n.publicKey,n.attestationHash!==null?[n.attestationHash]:[],n.stakeAmount,n.location)},onSuccess:()=>{e.invalidateQueries({queryKey:["allTurnProviders"]})},retry:2})}function NI(){const{actor:t}=Fa(),e=Bi();return lu({mutationFn:async({name:n,maxParticipants:r})=>{if(!t)throw new Error("No actor");return t.createRoom(n,r)},onSuccess:()=>{e.invalidateQueries({queryKey:["allRooms"]})},retry:2})}function SI(){const{actor:t,isFetching:e}=Fa();return Bd({queryKey:["billingRecords"],queryFn:async()=>t?t.getBillingRecords():[],enabled:!!t&&!e,staleTime:60*1e3})}function TI(){const{actor:t}=Fa(),e=Bi();return lu({mutationFn:async n=>{if(!t)throw new Error("No actor");return t.recordBilling(n.sessionId,n.providerId,n.startTime,n.endTime,n.costPerMinute)},onSuccess:()=>{e.invalidateQueries({queryKey:["billingRecords"]})},retry:2})}function AI(){const{data:t=[]}=FN(),{data:e=[]}=vI(),{data:n=[]}=Z2(),{data:r=[]}=SI(),a=xI(),i=wI(),s=(d,f)=>{a.mutate({user:d,approval:f})},c=(d,f)=>{i.mutate({user:d,role:f})},l=d=>{switch(d){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},u=d=>{switch(d){case"admin":return"bg-purple-100 text-purple-800";case"user":return"bg-blue-100 text-blue-800";case"guest":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},p=r.reduce((d,f)=>d+f.totalCost,0),y=r.reduce((d,f)=>d+f.providerEarnings,0),h=r.reduce((d,f)=>d+f.protocolFee,0);return o.createElement("div",{className:"space-y-6"},o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6"},o.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},o.createElement("div",{className:"flex items-center space-x-3"},o.createElement(di,{className:"h-8 w-8 text-blue-600"}),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Total Users"),o.createElement("p",{className:"text-2xl font-bold text-gray-900"},t.length)))),o.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},o.createElement("div",{className:"flex items-center space-x-3"},o.createElement(rr,{className:"h-8 w-8 text-green-600"}),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Approved Users"),o.createElement("p",{className:"text-2xl font-bold text-gray-900"},t.filter(d=>d.approval==="approved").length)))),o.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},o.createElement("div",{className:"flex items-center space-x-3"},o.createElement(Hs,{className:"h-8 w-8 text-purple-600"}),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"TURN Providers"),o.createElement("p",{className:"text-2xl font-bold text-gray-900"},n.length)))),o.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},o.createElement("div",{className:"flex items-center space-x-3"},o.createElement(M2,{className:"h-8 w-8 text-yellow-600"}),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Total Revenue"),o.createElement("p",{className:"text-2xl font-bold text-gray-900"},p.toFixed(2)," TURNX"))))),o.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},o.createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-4"},"Revenue Breakdown"),o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},o.createElement("div",{className:"bg-green-50 rounded-lg p-4"},o.createElement("div",{className:"flex items-center space-x-2 mb-2"},o.createElement(k4,{className:"h-5 w-5 text-green-600"}),o.createElement("span",{className:"font-medium text-green-900"},"Provider Earnings (90%)")),o.createElement("p",{className:"text-2xl font-bold text-green-900"},y.toFixed(2)," TURNX")),o.createElement("div",{className:"bg-blue-50 rounded-lg p-4"},o.createElement("div",{className:"flex items-center space-x-2 mb-2"},o.createElement(rr,{className:"h-5 w-5 text-blue-600"}),o.createElement("span",{className:"font-medium text-blue-900"},"Protocol Treasury (10%)")),o.createElement("p",{className:"text-2xl font-bold text-blue-900"},h.toFixed(2)," TURNX")),o.createElement("div",{className:"bg-purple-50 rounded-lg p-4"},o.createElement("div",{className:"flex items-center space-x-2 mb-2"},o.createElement(bi,{className:"h-5 w-5 text-purple-600"}),o.createElement("span",{className:"font-medium text-purple-900"},"Total Sessions")),o.createElement("p",{className:"text-2xl font-bold text-purple-900"},r.length)))),o.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},o.createElement("div",{className:"p-6 border-b"},o.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"User Management")),o.createElement("div",{className:"p-6"},o.createElement("div",{className:"space-y-4"},t.map(d=>o.createElement("div",{key:d.principal.toString(),className:"border rounded-lg p-4"},o.createElement("div",{className:"flex items-center justify-between mb-3"},o.createElement("div",null,o.createElement("p",{className:"font-medium text-gray-900"},d.principal.toString().slice(0,20),"..."),o.createElement("div",{className:"flex items-center space-x-2 mt-1"},o.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u(d.role)}`},d.role),o.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l(d.approval)}`},d.approval)))),o.createElement("div",{className:"flex items-center space-x-3"},o.createElement("div",{className:"flex space-x-2"},o.createElement("button",{onClick:()=>s(d.principal.toString(),"approved"),disabled:a.isPending,className:"px-3 py-1 bg-green-100 text-green-700 rounded hover:bg-green-200 disabled:opacity-50 text-sm"},"Approve"),o.createElement("button",{onClick:()=>s(d.principal.toString(),"rejected"),disabled:a.isPending,className:"px-3 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 disabled:opacity-50 text-sm"},"Reject")),o.createElement("select",{onChange:f=>c(d.principal.toString(),f.target.value),value:d.role,disabled:i.isPending,className:"border rounded px-2 py-1 text-sm"},o.createElement("option",{value:"guest"},"Guest"),o.createElement("option",{value:"user"},"User"),o.createElement("option",{value:"admin"},"Admin")))))))),o.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},o.createElement("div",{className:"p-6 border-b"},o.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"TURN Provider Status")),o.createElement("div",{className:"p-6"},o.createElement("div",{className:"space-y-4"},n.length===0?o.createElement("p",{className:"text-gray-500 text-center py-8"},"No TURN providers registered yet"):n.map(d=>o.createElement("div",{key:d.id,className:"border rounded-lg p-4"},o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4"},o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Provider"),o.createElement("p",{className:"font-medium"},d.name),o.createElement("p",{className:"text-xs text-gray-500"},d.location)),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Stake Amount"),o.createElement("p",{className:"font-medium"},Number(d.stakeAmount).toLocaleString()," TURNX")),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Status"),o.createElement("div",{className:"flex items-center space-x-2"},o.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`},d.isActive?"Active":"Inactive"),d.isVerified&&o.createElement("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},"Verified"))),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Performance"),o.createElement("p",{className:"text-sm"},"Reputation: ",d.reputation,"%"),o.createElement("p",{className:"text-sm"},"Uptime: ",d.uptime,"%")))))))),o.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},o.createElement("div",{className:"p-6 border-b"},o.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"TURN Server Usage Audit")),o.createElement("div",{className:"p-6"},o.createElement("div",{className:"space-y-4"},e.length===0?o.createElement("p",{className:"text-gray-500 text-center py-8"},"No TURN server usage recorded yet"):e.map((d,f)=>o.createElement("div",{key:f,className:"border rounded-lg p-4"},o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4"},o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Session ID"),o.createElement("p",{className:"font-mono text-sm"},d.sessionId.slice(0,20),"...")),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"TURN Server"),o.createElement("p",{className:"text-sm"},d.serverUrl)),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"User"),o.createElement("p",{className:"font-mono text-sm"},d.user.toString().slice(0,15),"...")),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Timestamp"),o.createElement("div",{className:"flex items-center space-x-1"},o.createElement(bi,{className:"h-3 w-3 text-gray-400"}),o.createElement("p",{className:"text-sm"},new Date(Number(d.timestamp)/1e6).toLocaleString()))))))))),o.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},o.createElement("div",{className:"p-6 border-b"},o.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Recent Billing Records")),o.createElement("div",{className:"p-6"},o.createElement("div",{className:"space-y-4"},r.length===0?o.createElement("p",{className:"text-gray-500 text-center py-8"},"No billing records yet"):r.slice(0,10).map((d,f)=>o.createElement("div",{key:f,className:"border rounded-lg p-4"},o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4"},o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Session"),o.createElement("p",{className:"font-mono text-sm"},d.sessionId.slice(0,15),"...")),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Duration"),o.createElement("p",{className:"text-sm"},d.durationMinutes.toFixed(1)," min")),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Total Cost"),o.createElement("p",{className:"font-medium text-green-600"},d.totalCost.toFixed(4)," TURNX")),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Provider Earnings"),o.createElement("p",{className:"text-sm"},d.providerEarnings.toFixed(4)," TURNX")),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Protocol Fee"),o.createElement("p",{className:"text-sm"},d.protocolFee.toFixed(4)," TURNX")))))))))}function BI(){const[t,e]=be.useState(null),{data:n=[]}=FN(),[r,a]=be.useState(""),[i,s]=be.useState("connections"),[c,l]=be.useState([]),[u,p]=be.useState([]),[y,h]=be.useState([]);be.useEffect(()=>{(async()=>{const P=await cp.create();await P.isAuthenticated()?e(P.getIdentity()):await P.login({identityProvider:"https://identity.ic0.app/#authorize",onSuccess:()=>e(P.getIdentity())})})()},[]);const d=(t==null?void 0:t.getPrincipal().toString())||"",f=n.filter(P=>P.principal.toString()!==d&&Object.keys(P.approval)[0]==="approved"),A=f.filter(P=>P.principal.toString().toLowerCase().includes(r.toLowerCase())),N=f.filter(P=>c.includes(P.principal.toString())),v=f.filter(P=>u.includes(P.principal.toString())),x=f.filter(P=>y.includes(P.principal.toString())),_=A.filter(P=>!c.includes(P.principal.toString())&&!u.includes(P.principal.toString())&&!y.includes(P.principal.toString())),M=P=>{p(X=>[...X,P])},S=P=>{l(X=>[...X,P]),h(X=>X.filter(E=>E!==P))},H=P=>{h(X=>X.filter(E=>E!==P))},z=P=>{l(X=>X.filter(E=>E!==P))},K=P=>{p(X=>X.filter(E=>E!==P))},Z=(P,X)=>o.createElement("div",{key:P.principal.toString(),className:"bg-white rounded-lg border p-4 hover:shadow-md transition-shadow"},o.createElement("div",{className:"flex items-center justify-between"},o.createElement("div",{className:"flex items-center space-x-3"},o.createElement("div",{className:"bg-blue-100 rounded-full p-3"},o.createElement(di,{className:"h-6 w-6 text-blue-600"})),o.createElement("div",null,o.createElement("p",{className:"font-medium text-gray-900"},P.principal.toString().slice(0,15),"..."),o.createElement("div",{className:"flex items-center space-x-2 mt-1"},o.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Object.keys(P.role)[0]==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`},Object.keys(P.role)[0]),o.createElement("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},Object.keys(P.approval)[0])))),o.createElement("div",{className:"flex items-center space-x-2"},X))),k=[{id:"connections",label:"My Connections",count:c.length},{id:"requests",label:"Requests",count:y.length+u.length},{id:"discover",label:"Discover Users",count:_.length}];return o.createElement("div",{className:"space-y-6"},o.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},o.createElement("div",{className:"flex items-center justify-between mb-4"},o.createElement("div",{className:"flex items-center space-x-3"},o.createElement(K0,{className:"h-8 w-8 text-blue-600"}),o.createElement("div",null,o.createElement("h2",{className:"text-2xl font-bold text-gray-900"},"Connection Manager"),o.createElement("p",{className:"text-gray-600"},"Connect with other users for private communications")))),o.createElement("div",{className:"relative"},o.createElement(UE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.createElement("input",{type:"text",placeholder:"Search users by principal ID...",value:r,onChange:P=>a(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}))),o.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},o.createElement("div",{className:"border-b"},o.createElement("nav",{className:"flex space-x-1 p-4"},k.map(P=>o.createElement("button",{key:P.id,onClick:()=>s(P.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${i===P.id?"bg-blue-100 text-blue-700 border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`},o.createElement("span",null,P.label),P.count>0&&o.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i===P.id?"bg-blue-200 text-blue-800":"bg-gray-200 text-gray-700"}`},P.count))))),o.createElement("div",{className:"p-6"},i==="connections"&&o.createElement("div",{className:"space-y-4"},o.createElement("div",{className:"flex items-center justify-between"},o.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Your Connections"),o.createElement("div",{className:"text-sm text-gray-500"},c.length," connection",c.length!==1?"s":"")),N.length===0?o.createElement("div",{className:"text-center py-12"},o.createElement(NU,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.createElement("p",{className:"text-gray-500 text-lg"},"No connections yet"),o.createElement("p",{className:"text-gray-400 text-sm"},"Start by discovering and connecting with other users")):o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},N.map(P=>Z(P,o.createElement("div",{className:"flex space-x-2"},o.createElement("button",{className:"flex items-center space-x-1 px-3 py-1 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm",title:"Start video call"},o.createElement(ss,{className:"h-3 w-3"}),o.createElement("span",null,"Call")),o.createElement("button",{className:"flex items-center space-x-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",title:"Send message"},o.createElement(KO,{className:"h-3 w-3"}),o.createElement("span",null,"Message")),o.createElement("button",{onClick:()=>z(P.principal.toString()),className:"flex items-center space-x-1 px-3 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm",title:"Remove connection"},o.createElement(Ds,{className:"h-3 w-3"}),o.createElement("span",null,"Remove"))))))),i==="requests"&&o.createElement("div",{className:"space-y-6"},o.createElement("div",null,o.createElement("div",{className:"flex items-center justify-between mb-4"},o.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Received Requests"),o.createElement("div",{className:"text-sm text-gray-500"},y.length," pending request",y.length!==1?"s":"")),x.length===0?o.createElement("div",{className:"text-center py-8 bg-gray-50 rounded-lg"},o.createElement(bi,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),o.createElement("p",{className:"text-gray-500"},"No pending requests")):o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},x.map(P=>Z(P,o.createElement("div",{className:"flex space-x-2"},o.createElement("button",{onClick:()=>S(P.principal.toString()),className:"flex items-center space-x-1 px-3 py-1 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm"},o.createElement(_O,{className:"h-3 w-3"}),o.createElement("span",null,"Accept")),o.createElement("button",{onClick:()=>H(P.principal.toString()),className:"flex items-center space-x-1 px-3 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm"},o.createElement(Ds,{className:"h-3 w-3"}),o.createElement("span",null,"Reject"))))))),o.createElement("div",null,o.createElement("div",{className:"flex items-center justify-between mb-4"},o.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Sent Requests"),o.createElement("div",{className:"text-sm text-gray-500"},u.length," pending request",u.length!==1?"s":"")),v.length===0?o.createElement("div",{className:"text-center py-8 bg-gray-50 rounded-lg"},o.createElement(bi,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),o.createElement("p",{className:"text-gray-500"},"No sent requests")):o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},v.map(P=>Z(P,o.createElement("div",{className:"flex space-x-2"},o.createElement("span",{className:"flex items-center space-x-1 px-3 py-1 bg-yellow-100 text-yellow-700 rounded-lg text-sm"},o.createElement(bi,{className:"h-3 w-3"}),o.createElement("span",null,"Pending")),o.createElement("button",{onClick:()=>K(P.principal.toString()),className:"flex items-center space-x-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm"},o.createElement(Ds,{className:"h-3 w-3"}),o.createElement("span",null,"Cancel")))))))),i==="discover"&&o.createElement("div",{className:"space-y-4"},o.createElement("div",{className:"flex items-center justify-between"},o.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Discover Users"),o.createElement("div",{className:"text-sm text-gray-500"},_.length," user",_.length!==1?"s":""," available")),_.length===0?o.createElement("div",{className:"text-center py-12"},o.createElement(UE,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.createElement("p",{className:"text-gray-500 text-lg"},r?"No users found":"No new users to discover"),o.createElement("p",{className:"text-gray-400 text-sm"},r?"Try a different search term":"You've already connected with all available users")):o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},_.map(P=>Z(P,o.createElement("button",{onClick:()=>M(P.principal.toString()),className:"flex items-center space-x-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium"},o.createElement(K0,{className:"h-3 w-3"}),o.createElement("span",null,"Connect")))))))),o.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4"},o.createElement("div",{className:"flex items-start space-x-3"},o.createElement(K0,{className:"h-5 w-5 text-blue-600 mt-0.5"}),o.createElement("div",{className:"flex-1"},o.createElement("h3",{className:"font-medium text-blue-900"},"Privacy & Connections"),o.createElement("p",{className:"text-blue-800 text-sm mt-1"},"Connections are managed privately using your Principal ID. Only approved users can send and receive connection requests. All communications remain end-to-end encrypted through the $TURNX network.")))))}function RI(){const[t,e]=be.useState(null);be.useEffect(()=>{(async()=>{const B=await cp.create();await B.isAuthenticated()&&e(B.getIdentity())})()},[]);const{data:n=[]}=Z2(),r=NI(),a=EI(),i=TI(),[s,c]=be.useState(!1),[l,u]=be.useState(null),[p,y]=be.useState(!0),[h,d]=be.useState(!0),[f,A]=be.useState(0),[N,v]=be.useState(null),[x,_]=be.useState(0),[M,S]=be.useState(0),[H,z]=be.useState(0),[K,Z]=be.useState("excellent"),[k,P]=be.useState(!1),[X,E]=be.useState("disconnected"),[O,j]=be.useState(0),C=be.useRef(null),V=be.useRef(null),F=be.useRef(null),Q=be.useRef(null),oe=be.useRef(null),ae=(t==null?void 0:t.getPrincipal().toString())||"",se=["rdmx6-jaaaa-aaaah-qcaiq-cai","rrkah-fqaaa-aaaah-qcaiq-cai","ryjl3-tyaaa-aaaah-qcaiq-cai","renrk-eyaaa-aaaah-qcaiq-cai","rdbzx-hqaaa-aaaah-qcaiq-cai","rjmkw-byaaa-aaaah-qcaiq-cai"];be.useEffect(()=>{if(l&&l.isActive)return Q.current=setInterval(()=>{const q=Math.floor((new Date().getTime()-l.startTime.getTime())/1e3);A(q)},1e3),()=>{Q.current&&clearInterval(Q.current)}},[l]),be.useEffect(()=>{if(l&&l.isVideoCallActive&&N)return oe.current=setInterval(()=>{const re=(new Date().getTime()-l.startTime.getTime())/(1e3*60)*.2;j(re)},1e3),()=>{oe.current&&clearInterval(oe.current)}},[l,N]),be.useEffect(()=>{if(s){const B=Date.now();return F.current=setInterval(()=>{_(Math.floor((Date.now()-B)/1e3))},1e3),()=>{F.current&&clearInterval(F.current)}}else _(0)},[s]),be.useEffect(()=>{if(l&&l.isVideoCallActive){const B=setInterval(()=>{const q=["excellent","good","fair"],Y=q[Math.floor(Math.random()*q.length)];Z(Y)},1e4);return()=>clearInterval(B)}},[l]);const le=()=>{const B=n.filter(Y=>Y.rating>4.5&&Y.reputation>90&&Y.isVerified&&Y.attestationHash);if(B.length===0){const Y=n.filter(re=>re.isVerified&&re.attestationHash);if(Y.length>0){const re=Math.floor(Math.random()*Y.length);return Y[re]}if(n.length>0){const re=Math.floor(Math.random()*n.length);return n[re]}return null}const q=Math.floor(Math.random()*B.length);return B[q]},U=B=>({username:`user_${Math.random().toString(36).substr(2,9)}`,credential:`temp_pass_${Math.random().toString(36).substr(2,9)}`,urls:B.url}),de=async B=>{const q={iceServers:[{urls:B.urls,username:B.username,credential:B.credential}],iceTransportPolicy:"relay"},Y=new RTCPeerConnection(q);return Y.oniceconnectionstatechange=()=>{switch(console.log("ICE connection state:",Y.iceConnectionState),Y.iceConnectionState){case"checking":E("connecting");break;case"connected":case"completed":E("connected");break;case"failed":case"disconnected":E("failed");break}},Y.ontrack=re=>{console.log("Received remote stream"),V.current&&re.streams[0]&&(V.current.srcObject=re.streams[0],u(fe=>fe?{...fe,remoteStream:re.streams[0]}:null))},Y},pe=async()=>{try{const B=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"},audio:!0});return C.current&&(C.current.srcObject=B),B}catch(B){throw console.error("Error accessing camera:",B),B}},xe=async B=>{try{P(!0),E("connecting");const q=await pe(),Y=await de(B.turnCredentials);q.getTracks().forEach(fe=>{Y.addTrack(fe,q)});const re=await Y.createOffer();await Y.setLocalDescription(re),setTimeout(async()=>{try{const fe={type:"answer",sdp:re.sdp};await Y.setRemoteDescription(fe),u(Ee=>Ee?{...Ee,peerConnection:Y,localStream:q,isVideoCallActive:!0}:null),P(!1),E("connected"),N&&a.mutate({serverUrl:N.url,sessionId:B.roomId})}catch(fe){console.error("Error setting remote description:",fe),E("failed"),P(!1)}},2e3)}catch(q){console.error("Error initiating video call:",q),E("failed"),P(!1)}},me=async()=>{c(!0),P(!1),E("disconnected");const B=Math.random()*6e3+2e3;setTimeout(async()=>{c(!1),P(!0);const q=se.filter(fe=>fe!==ae),Y=q[Math.floor(Math.random()*q.length)],re=le();re&&v(re);try{const fe=await r.mutateAsync({name:`Random Chat ${Date.now()}`,maxParticipants:BigInt(2)}),Ee=re?U(re):null,ve={roomId:fe.id,partnerId:Y,partnerVideoRef:V,peerConnection:null,localStream:null,remoteStream:null,startTime:new Date,isActive:!0,isVideoCallActive:!1,turnCredentials:Ee};u(ve),A(0),j(0),Z("excellent"),await xe(ve)}catch(fe){console.error("Failed to create random chat room:",fe),c(!1),P(!1),E("failed")}},B)},ge=async()=>{if(l){if(l.localStream&&l.localStream.getTracks().forEach(q=>q.stop()),l.peerConnection&&l.peerConnection.close(),C.current&&(C.current.srcObject=null),V.current&&(V.current.srcObject=null),O>0&&N){const q=BigInt(Date.now()*1e6),Y=BigInt(l.startTime.getTime()*1e6);i.mutate({sessionId:l.roomId,providerId:N.id,startTime:Y,endTime:q,costPerMinute:.2})}S(q=>q+1);const B=f/60;z(q=>q===0?B:(q+B)/2)}u(null),y(!0),d(!0),A(0),j(0),v(null),Z("excellent"),P(!1),E("disconnected")},I=async()=>{await ge(),setTimeout(()=>{me()},500)},D=()=>{if(l&&l.localStream){const B=l.localStream.getVideoTracks()[0];B&&(B.enabled=!B.enabled,y(B.enabled))}},L=()=>{if(l&&l.localStream){const B=l.localStream.getAudioTracks()[0];B&&(B.enabled=!B.enabled,d(B.enabled))}},te=B=>{const q=Math.floor(B/60),Y=B%60;return`${q}:${Y.toString().padStart(2,"0")}`},W=B=>B<1?`${Math.floor(B*60)}s`:`${Math.floor(B)}m`,ne=()=>{switch(K){case"excellent":return"text-green-600";case"good":return"text-blue-600";case"fair":return"text-yellow-600";case"poor":return"text-red-600";default:return"text-gray-600"}},T=()=>{switch(K){case"excellent":return o.createElement(xm,{className:"h-4 w-4"});case"good":return o.createElement(cf,{className:"h-4 w-4"});case"fair":return o.createElement(bi,{className:"h-4 w-4"});case"poor":return o.createElement(Ds,{className:"h-4 w-4"});default:return o.createElement(cf,{className:"h-4 w-4"})}},m=()=>{switch(X){case"connected":return"text-green-600";case"connecting":return"text-yellow-600";case"failed":return"text-red-600";default:return"text-gray-600"}},g=()=>{switch(X){case"connected":return o.createElement(eU,{className:"h-4 w-4"});case"connecting":return o.createElement(RE,{className:"h-4 w-4 animate-spin"});case"failed":return o.createElement(OE,{className:"h-4 w-4"});default:return o.createElement(OE,{className:"h-4 w-4"})}};return o.createElement("div",{className:"space-y-6"},o.createElement("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-6"},o.createElement("div",{className:"flex items-center justify-between"},o.createElement("div",{className:"flex items-center space-x-4"},o.createElement("div",{className:"bg-purple-100 rounded-full p-3"},o.createElement(Y0,{className:"h-8 w-8 text-purple-600"})),o.createElement("div",null,o.createElement("h2",{className:"text-2xl font-bold text-purple-900"},"Random Video Chat"),o.createElement("p",{className:"text-purple-800"},"Connect with random users for anonymous one-on-one live video conversations with end-to-end encryption"))),o.createElement("div",{className:"grid grid-cols-2 gap-4 text-center"},o.createElement("div",{className:"bg-white rounded-lg p-3 border border-purple-100"},o.createElement("p",{className:"text-2xl font-bold text-purple-600"},M),o.createElement("p",{className:"text-xs text-purple-700"},"Total Chats")),o.createElement("div",{className:"bg-white rounded-lg p-3 border border-purple-100"},o.createElement("p",{className:"text-2xl font-bold text-pink-600"},W(H)),o.createElement("p",{className:"text-xs text-pink-700"},"Avg. Duration"))))),o.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},!s&&!k&&!l&&o.createElement("div",{className:"p-8 text-center"},o.createElement("div",{className:"mb-8"},o.createElement(Y0,{className:"h-16 w-16 text-purple-600 mx-auto mb-4"}),o.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-2"},"Ready for Random Video Chat?"),o.createElement("p",{className:"text-gray-600 max-w-md mx-auto"},"Connect instantly with another user for a private, anonymous live video conversation. All video calls are end-to-end encrypted and completely private.")),o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 max-w-2xl mx-auto"},o.createElement("div",{className:"bg-green-50 rounded-lg p-4 text-center"},o.createElement(rr,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),o.createElement("h4",{className:"font-medium text-green-900"},"Private & Secure"),o.createElement("p",{className:"text-sm text-green-700"},"End-to-end encrypted live video calls")),o.createElement("div",{className:"bg-blue-50 rounded-lg p-4 text-center"},o.createElement(di,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),o.createElement("h4",{className:"font-medium text-blue-900"},"Anonymous Matching"),o.createElement("p",{className:"text-sm text-blue-700"},"Random pairing with live video connection")),o.createElement("div",{className:"bg-purple-50 rounded-lg p-4 text-center"},o.createElement(ss,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),o.createElement("h4",{className:"font-medium text-purple-900"},"Instant Video Call"),o.createElement("p",{className:"text-sm text-purple-700"},"Live video streaming in seconds"))),o.createElement("button",{onClick:me,className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-xl font-semibold text-lg hover:from-purple-700 hover:to-pink-700 transition-all transform hover:scale-105 shadow-lg"},o.createElement("div",{className:"flex items-center space-x-3"},o.createElement(ss,{className:"h-6 w-6"}),o.createElement("span",null,"Start Random Video Chat")))),s&&o.createElement("div",{className:"p-8 text-center"},o.createElement("div",{className:"mb-6"},o.createElement("div",{className:"relative"},o.createElement("div",{className:"w-20 h-20 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin mx-auto mb-4"}),o.createElement(Y0,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 h-8 w-8 text-purple-600"})),o.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-2"},"Finding your video chat partner..."),o.createElement("p",{className:"text-gray-600"},"Searching for available users worldwide for live video chat"),o.createElement("p",{className:"text-sm text-purple-600 mt-2"},"Search time: ",te(x))),o.createElement("div",{className:"bg-blue-50 rounded-lg p-4 mb-6 max-w-md mx-auto"},o.createElement("div",{className:"flex items-center space-x-2 mb-2"},o.createElement(cf,{className:"h-4 w-4 text-blue-600"}),o.createElement("span",{className:"text-sm font-medium text-blue-900"},"Global Video Matching")),o.createElement("p",{className:"text-xs text-blue-700"},"Connecting you with users from around the world for live video conversations")),o.createElement("button",{onClick:()=>c(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors"},"Cancel Search")),k&&o.createElement("div",{className:"p-8 text-center"},o.createElement("div",{className:"mb-6"},o.createElement("div",{className:"relative"},o.createElement("div",{className:"w-20 h-20 border-4 border-green-200 border-t-green-600 rounded-full animate-spin mx-auto mb-4"}),o.createElement(ss,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 h-8 w-8 text-green-600"})),o.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-2"},"Establishing live video connection..."),o.createElement("p",{className:"text-gray-600"},"Setting up secure video call with your partner")),o.createElement("div",{className:"bg-green-50 rounded-lg p-4 max-w-md mx-auto"},o.createElement("div",{className:"flex items-center space-x-2 mb-2"},o.createElement(rr,{className:"h-4 w-4 text-green-600"}),o.createElement("span",{className:"text-sm font-medium text-green-900"},"Secure Video Connection")),o.createElement("p",{className:"text-xs text-green-700"},"Setting up end-to-end encryption and TURN relay for private video streaming"))),l&&o.createElement("div",{className:"p-6"},o.createElement("div",{className:"flex items-center justify-between mb-6"},o.createElement("div",{className:"flex items-center space-x-4"},o.createElement("div",{className:"bg-green-100 rounded-full p-2"},o.createElement("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"})),o.createElement("div",null,o.createElement("h3",{className:"font-semibold text-gray-900"},"Live Video Chat Active"),o.createElement("div",{className:"flex items-center space-x-4 text-sm text-gray-600"},o.createElement("span",null,"Duration: ",te(f)),o.createElement("span",null,""),o.createElement("span",null,"Partner: ",l.partnerId.slice(0,10),"..."),o.createElement("span",null,""),o.createElement("div",{className:`flex items-center space-x-1 ${m()}`},g(),o.createElement("span",{className:"capitalize"},X)),o.createElement("span",null,""),o.createElement("div",{className:`flex items-center space-x-1 ${ne()}`},T(),o.createElement("span",{className:"capitalize"},K))))),o.createElement("div",{className:"flex items-center space-x-2"},o.createElement("button",{onClick:I,className:"flex items-center space-x-2 px-4 py-2 bg-yellow-100 text-yellow-700 rounded-lg hover:bg-yellow-200 transition-colors"},o.createElement(mU,{className:"h-4 w-4"}),o.createElement("span",null,"Next Partner")),o.createElement("button",{onClick:ge,className:"flex items-center space-x-2 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors"},o.createElement(Ds,{className:"h-4 w-4"}),o.createElement("span",null,"End Video Chat")))),o.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},o.createElement("div",{className:"space-y-4"},o.createElement("div",{className:"flex items-center justify-between"},o.createElement("h4",{className:"font-medium text-gray-900"},"Your Video"),o.createElement("div",{className:"flex items-center space-x-2 text-sm text-gray-600"},o.createElement("div",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),o.createElement("span",null,"Live"))),o.createElement("div",{className:"simple-camera-preview"},l.isVideoCallActive&&p?o.createElement(o.Fragment,null,o.createElement("video",{ref:C,autoPlay:!0,muted:!0,playsInline:!0,className:"simple-camera-video"}),o.createElement("div",{className:"absolute top-3 left-3 bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm font-medium"},o.createElement("div",{className:"flex items-center space-x-2"},o.createElement("div",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),o.createElement("span",null,"You"))),o.createElement("div",{className:"absolute top-3 right-3 bg-green-600 text-white px-3 py-1 rounded-full text-sm flex items-center space-x-1"},o.createElement(rr,{className:"h-3 w-3"}),o.createElement("span",null,"E2EE")),N&&o.createElement("div",{className:"absolute bottom-3 left-3 bg-black bg-opacity-70 text-white px-2 py-1 rounded text-xs flex items-center space-x-1"},o.createElement("span",null,N.name),N.attestationHash&&o.createElement(rr,{className:"h-3 w-3 text-green-400"}))):o.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 bg-gray-900"},o.createElement(ss,{className:"h-16 w-16 mb-4 text-gray-500"}),o.createElement("p",{className:"text-center font-medium text-lg text-gray-300"},"Your Camera"),o.createElement("p",{className:"text-sm text-center mt-2 text-gray-500"},l.isVideoCallActive?"Camera disabled":"Connecting...")))),o.createElement("div",{className:"space-y-4"},o.createElement("div",{className:"flex items-center justify-between"},o.createElement("h4",{className:"font-medium text-gray-900"},"Partner Video"),o.createElement("div",{className:"flex items-center space-x-2 text-sm text-gray-600"},o.createElement("div",{className:`w-2 h-2 rounded-full ${X==="connected"?"bg-blue-400 animate-pulse":"bg-gray-400"}`}),o.createElement("span",null,X==="connected"?"Connected":"Connecting..."))),o.createElement("div",{className:"simple-camera-preview"},l.remoteStream&&X==="connected"?o.createElement(o.Fragment,null,o.createElement("video",{ref:V,autoPlay:!0,playsInline:!0,className:"simple-camera-video"}),o.createElement("div",{className:"absolute top-3 left-3 bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm font-medium"},o.createElement("div",{className:"flex items-center space-x-2"},o.createElement("div",{className:"w-2 h-2 rounded-full bg-blue-400 animate-pulse"}),o.createElement("span",null,"Partner"))),o.createElement("div",{className:"absolute top-3 right-3 bg-green-600 text-white px-3 py-1 rounded-full text-sm flex items-center space-x-1"},o.createElement(rr,{className:"h-3 w-3"}),o.createElement("span",null,"E2EE"))):o.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 bg-gray-800"},X==="connecting"?o.createElement(o.Fragment,null,o.createElement(RE,{className:"h-16 w-16 mb-4 text-gray-500 animate-spin"}),o.createElement("p",{className:"text-center font-medium text-lg text-gray-300"},"Connecting to Partner"),o.createElement("p",{className:"text-sm text-center mt-2 text-gray-500"},"Establishing live video connection...")):X==="failed"?o.createElement(o.Fragment,null,o.createElement(Ds,{className:"h-16 w-16 mb-4 text-red-500"}),o.createElement("p",{className:"text-center font-medium text-lg text-gray-300"},"Connection Failed"),o.createElement("p",{className:"text-sm text-center mt-2 text-gray-500"},"Unable to establish video connection")):o.createElement(o.Fragment,null,o.createElement(di,{className:"h-16 w-16 mb-4 text-gray-500"}),o.createElement("p",{className:"text-center font-medium text-lg text-gray-300"},"Partner Camera"),o.createElement("p",{className:"text-sm text-center mt-2 text-gray-500"},"Waiting for partner video...")))))),o.createElement("div",{className:"flex justify-center space-x-4 mt-6"},o.createElement("button",{onClick:D,disabled:!l.isVideoCallActive,className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-colors disabled:opacity-50 ${p?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`},p?o.createElement(ss,{className:"h-5 w-5"}):o.createElement(F4,{className:"h-5 w-5"}),o.createElement("span",null,p?"Camera On":"Camera Off")),o.createElement("button",{onClick:L,disabled:!l.isVideoCallActive,className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-colors disabled:opacity-50 ${h?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`},h?o.createElement($4,{className:"h-5 w-5"}):o.createElement(I4,{className:"h-5 w-5"}),o.createElement("span",null,h?"Mic On":"Mic Off"))),N&&o.createElement("div",{className:"mt-6 bg-blue-50 rounded-lg p-4"},o.createElement("h4",{className:"font-medium text-blue-900 mb-2"},"Live Video Session Details"),o.createElement("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 text-sm"},o.createElement("div",null,o.createElement("p",{className:"text-blue-700"},"Duration"),o.createElement("p",{className:"font-medium text-blue-900"},te(f))),o.createElement("div",null,o.createElement("p",{className:"text-blue-700"},"Provider"),o.createElement("p",{className:"font-medium text-blue-900"},N.name)),o.createElement("div",null,o.createElement("p",{className:"text-blue-700"},"Cost Rate"),o.createElement("p",{className:"font-medium text-blue-900"},"0.20 TURNX/min")),o.createElement("div",null,o.createElement("p",{className:"text-blue-700"},"Session Cost"),o.createElement("p",{className:"font-medium text-red-600"},O.toFixed(4)," TURNX")),o.createElement("div",null,o.createElement("p",{className:"text-blue-700"},"Connection"),o.createElement("div",{className:`flex items-center space-x-1 ${m()}`},g(),o.createElement("span",{className:"font-medium capitalize"},X))),o.createElement("div",null,o.createElement("p",{className:"text-blue-700"},"Attestation"),o.createElement("div",{className:"flex items-center space-x-1"},N.attestationHash?o.createElement(o.Fragment,null,o.createElement(rr,{className:"h-3 w-3 text-green-600"}),o.createElement("span",{className:"font-medium text-green-700"},"Verified")):o.createElement("span",{className:"font-medium text-red-700"},"Not Available"))))))),o.createElement("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4"},o.createElement("div",{className:"flex items-start space-x-3"},o.createElement(rr,{className:"h-5 w-5 text-purple-600 mt-0.5"}),o.createElement("div",{className:"flex-1"},o.createElement("h3",{className:"font-medium text-purple-900"},"Privacy & Safety in Random Video Chat"),o.createElement("p",{className:"text-purple-800 text-sm mt-1"},"Random video chats are completely anonymous and private. Your identity is not revealed to your chat partner. All video and audio streams are end-to-end encrypted through verified TURN providers with live video transmission. You can end or skip to the next video chat at any time. Each session creates a secure 1-on-1 room with automatic cleanup.")))),o.createElement("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 border border-blue-200 rounded-xl p-4"},o.createElement("div",{className:"flex items-start space-x-3"},o.createElement(bm,{className:"h-5 w-5 text-blue-600 mt-0.5"}),o.createElement("div",{className:"flex-1"},o.createElement("h3",{className:"font-medium text-blue-900"},"Tips for Great Random Video Chats"),o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2 text-sm text-blue-800"},o.createElement("div",null,o.createElement("p",{className:"font-medium"}," Be respectful and friendly on video"),o.createElement("p",{className:"font-medium"}," Ensure good lighting for video quality"),o.createElement("p",{className:"font-medium"}," Use clear audio for better communication")),o.createElement("div",null,o.createElement("p",{className:"font-medium"}," Skip if you feel uncomfortable"),o.createElement("p",{className:"font-medium"}," Report inappropriate video behavior"),o.createElement("p",{className:"font-medium"}," Enjoy meeting people through live video")))))))}function OI(){const[t,e]=be.useState("overview"),[n,r]=be.useState(null),a=(u,p)=>{navigator.clipboard.writeText(u).then(()=>{r(p),setTimeout(()=>r(null),2e3)})},i=[{id:"overview",label:"Platform Overview",icon:Sg},{id:"users",label:"User Guide",icon:di},{id:"providers",label:"TURN Providers",icon:Hs},{id:"developers",label:"Developer Guide",icon:$y}],s=`// Rust Attestation Agent Example
use std::time::{Duration, SystemTime, UNIX_EPOCH};
use serde::{Deserialize, Serialize};
use tokio::time::interval;

#[derive(Serialize, Deserialize)]
struct AttestationReport {
    provider_id: String,
    timestamp: u64,
    turn_server_status: String,
    security_metrics: SecurityMetrics,
    signature: String,
}

#[derive(Serialize, Deserialize)]
struct SecurityMetrics {
    uptime_percentage: f64,
    data_integrity_score: u8,
    encryption_compliance: bool,
    traffic_volume: u64,
}

async fn run_attestation_agent(provider_id: String) -> Result<(), Box<dyn std::error::Error>> {
    let mut interval = interval(Duration::from_secs(60)); // Report every minute
    
    loop {
        interval.tick().await;
        
        // Monitor TURN server operations
        let metrics = collect_security_metrics().await?;
        
        // Generate attestation report
        let report = AttestationReport {
            provider_id: provider_id.clone(),
            timestamp: SystemTime::now().duration_since(UNIX_EPOCH)?.as_secs(),
            turn_server_status: check_turn_server_status().await?,
            security_metrics: metrics,
            signature: generate_cryptographic_signature(&metrics).await?,
        };
        
        // Submit to coordination canister
        submit_attestation_report(report).await?;
    }
}

async fn collect_security_metrics() -> Result<SecurityMetrics, Box<dyn std::error::Error>> {
    // Implementation for collecting security metrics
    Ok(SecurityMetrics {
        uptime_percentage: 99.9,
        data_integrity_score: 100,
        encryption_compliance: true,
        traffic_volume: get_traffic_volume().await?,
    })
}`,c=`#!/bin/bash
# TURN Provider Setup Script

# 1. Install Rust and dependencies
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
source ~/.cargo/env

# 2. Clone attestation agent
git clone https://github.com/turnx-network/attestation-agent.git
cd attestation-agent

# 3. Configure environment
cp .env.example .env
# Edit .env with your provider details:
# PROVIDER_ID=your_provider_id
# TURN_SERVER_URL=your_turn_server_url
# PRIVATE_KEY_PATH=path_to_your_private_key
# CANISTER_ID=coordination_canister_id

# 4. Build and run
cargo build --release
./target/release/attestation-agent --config .env

# 5. Register with coordination canister
dfx canister call coordination_canister registerTurnProvider \\
  '("provider_001", "My TURN Provider", "turn:myserver.com:3478", \\
    "public_key_here", opt "attestation_hash", 1000, "US-East")'`,l=`// WebRTC Integration Example
const configuration = {
  iceServers: [
    {
      urls: 'turn:turnx-provider.com:3478',
      username: 'generated_username',
      credential: 'hmac_credential'
    }
  ],
  iceTransportPolicy: 'relay' // Force TURN relay for privacy
};

const peerConnection = new RTCPeerConnection(configuration);

// Enable DTLS-SRTP encryption
peerConnection.addEventListener('connectionstatechange', () => {
  if (peerConnection.connectionState === 'connected') {
    console.log('E2EE connection established via TURN relay');
  }
});`;return o.createElement("div",{className:"space-y-6"},o.createElement("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6"},o.createElement("div",{className:"flex items-center space-x-4"},o.createElement("div",{className:"bg-blue-100 rounded-full p-3"},o.createElement(Sg,{className:"h-8 w-8 text-blue-600"})),o.createElement("div",null,o.createElement("h2",{className:"text-2xl font-bold text-blue-900"},"$TURNX Network Documentation"),o.createElement("p",{className:"text-blue-800"},"Comprehensive guide to privacy-preserving WebRTC coordination with attestation-based TURN providers")))),o.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},o.createElement("div",{className:"border-b"},o.createElement("nav",{className:"flex space-x-1 p-4"},i.map(u=>{const p=u.icon;return o.createElement("button",{key:u.id,onClick:()=>e(u.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${t===u.id?"bg-blue-100 text-blue-700 border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`},o.createElement(p,{className:"h-4 w-4"}),o.createElement("span",null,u.label))}))),o.createElement("div",{className:"p-6"},t==="overview"&&o.createElement("div",{className:"space-y-8"},o.createElement("div",null,o.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"Platform Architecture"),o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},o.createElement("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200"},o.createElement("div",{className:"flex items-center space-x-3 mb-4"},o.createElement(rr,{className:"h-8 w-8 text-green-600"}),o.createElement("h4",{className:"font-semibold text-green-900"},"Privacy-First Design")),o.createElement("ul",{className:"space-y-2 text-sm text-green-800"},o.createElement("li",null," End-to-end DTLS-SRTP encryption"),o.createElement("li",null," ICE relay-only configuration"),o.createElement("li",null," No personal data storage"),o.createElement("li",null," Anonymous session tracking"))),o.createElement("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200"},o.createElement("div",{className:"flex items-center space-x-3 mb-4"},o.createElement(Hs,{className:"h-8 w-8 text-blue-600"}),o.createElement("h4",{className:"font-semibold text-blue-900"},"Attestation System")),o.createElement("ul",{className:"space-y-2 text-sm text-blue-800"},o.createElement("li",null," Rust-based attestation agents"),o.createElement("li",null," Continuous security monitoring"),o.createElement("li",null," Cryptographic proof of compliance"),o.createElement("li",null," Real-time status reporting"))),o.createElement("div",{className:"bg-purple-50 rounded-lg p-6 border border-purple-200"},o.createElement("div",{className:"flex items-center space-x-3 mb-4"},o.createElement(xm,{className:"h-8 w-8 text-purple-600"}),o.createElement("h4",{className:"font-semibold text-purple-900"},"$TURNX Economy")),o.createElement("ul",{className:"space-y-2 text-sm text-purple-800"},o.createElement("li",null," Per-minute billing system"),o.createElement("li",null," 90% provider earnings"),o.createElement("li",null," 10% protocol treasury"),o.createElement("li",null," Transparent fee distribution"))))),o.createElement("div",null,o.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"Key Features"),o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},o.createElement("div",{className:"space-y-4"},o.createElement("div",{className:"flex items-start space-x-3"},o.createElement(di,{className:"h-5 w-5 text-blue-600 mt-1"}),o.createElement("div",null,o.createElement("h4",{className:"font-medium text-gray-900"},"Multi-Participant Rooms"),o.createElement("p",{className:"text-sm text-gray-600"},"Support for up to 50 participants with scalable WebRTC mesh networking"))),o.createElement("div",{className:"flex items-start space-x-3"},o.createElement(cf,{className:"h-5 w-5 text-green-600 mt-1"}),o.createElement("div",null,o.createElement("h4",{className:"font-medium text-gray-900"},"Random Video Chat"),o.createElement("p",{className:"text-sm text-gray-600"},"Anonymous one-on-one matching with privacy-preserving pairing"))),o.createElement("div",{className:"flex items-start space-x-3"},o.createElement(Tg,{className:"h-5 w-5 text-purple-600 mt-1"}),o.createElement("div",null,o.createElement("h4",{className:"font-medium text-gray-900"},"User Connections"),o.createElement("p",{className:"text-sm text-gray-600"},"Private connection management with request/approval system")))),o.createElement("div",{className:"space-y-4"},o.createElement("div",{className:"flex items-start space-x-3"},o.createElement(zf,{className:"h-5 w-5 text-orange-600 mt-1"}),o.createElement("div",null,o.createElement("h4",{className:"font-medium text-gray-900"},"DAO Governance"),o.createElement("p",{className:"text-sm text-gray-600"},"Decentralized protocol parameter management and treasury control"))),o.createElement("div",{className:"flex items-start space-x-3"},o.createElement(bm,{className:"h-5 w-5 text-yellow-600 mt-1"}),o.createElement("div",null,o.createElement("h4",{className:"font-medium text-gray-900"},"Provider Reputation"),o.createElement("p",{className:"text-sm text-gray-600"},"Performance-based scoring with staking and slashing mechanisms"))),o.createElement("div",{className:"flex items-start space-x-3"},o.createElement(is,{className:"h-5 w-5 text-teal-600 mt-1"}),o.createElement("div",null,o.createElement("h4",{className:"font-medium text-gray-900"},"Transparent Billing"),o.createElement("p",{className:"text-sm text-gray-600"},"Real-time cost tracking with detailed session records"))))))),t==="users"&&o.createElement("div",{className:"space-y-8"},o.createElement("div",null,o.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"Getting Started"),o.createElement("div",{className:"space-y-6"},o.createElement("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200"},o.createElement("h4",{className:"font-semibold text-blue-900 mb-3"},"1. Authentication & Profile Setup"),o.createElement("div",{className:"space-y-3 text-sm text-blue-800"},o.createElement("p",null," Connect using Internet Identity for secure, privacy-preserving authentication"),o.createElement("p",null," Set up your profile with a display name (no personal information required)"),o.createElement("p",null," Wait for admin approval to access full platform features"),o.createElement("p",null," Your Principal ID serves as your unique, anonymous identifier"))),o.createElement("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200"},o.createElement("h4",{className:"font-semibold text-green-900 mb-3"},"2. WebRTC Communication"),o.createElement("div",{className:"space-y-3 text-sm text-green-800"},o.createElement("p",null," Create rooms supporting up to 50 participants with integrated chat"),o.createElement("p",null," Join rooms using room codes or shareable links"),o.createElement("p",null," All communications are end-to-end encrypted using DTLS-SRTP"),o.createElement("p",null," TURN providers relay encrypted data without access to content"))),o.createElement("div",{className:"bg-purple-50 rounded-lg p-6 border border-purple-200"},o.createElement("h4",{className:"font-semibold text-purple-900 mb-3"},"3. $TURNX Token Management"),o.createElement("div",{className:"space-y-3 text-sm text-purple-800"},o.createElement("p",null," Monitor your $TURNX balance in real-time during sessions"),o.createElement("p",null," Pay per-minute rates (typically 0.20 TURNX/min) for TURN relay usage"),o.createElement("p",null," View detailed billing records and session history"),o.createElement("p",null," Top up your balance to continue using the service"))))),o.createElement("div",null,o.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"Advanced Features"),o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},o.createElement("div",{className:"bg-white border rounded-lg p-6"},o.createElement("div",{className:"flex items-center space-x-3 mb-4"},o.createElement(di,{className:"h-6 w-6 text-blue-600"}),o.createElement("h4",{className:"font-semibold text-gray-900"},"Connection Management")),o.createElement("ul",{className:"space-y-2 text-sm text-gray-700"},o.createElement("li",null," Send connection requests to other users"),o.createElement("li",null," Accept or reject incoming requests"),o.createElement("li",null," Manage your network of connected users"),o.createElement("li",null," Start private video calls with connections"))),o.createElement("div",{className:"bg-white border rounded-lg p-6"},o.createElement("div",{className:"flex items-center space-x-3 mb-4"},o.createElement(cf,{className:"h-6 w-6 text-green-600"}),o.createElement("h4",{className:"font-semibold text-gray-900"},"Random Video Chat")),o.createElement("ul",{className:"space-y-2 text-sm text-gray-700"},o.createElement("li",null," Anonymous matching with random users"),o.createElement("li",null," One-on-one encrypted video conversations"),o.createElement("li",null," Skip to next partner anytime"),o.createElement("li",null," Complete privacy protection"))))),o.createElement("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6"},o.createElement("div",{className:"flex items-start space-x-3"},o.createElement(Ba,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),o.createElement("div",null,o.createElement("h4",{className:"font-medium text-yellow-900"},"Privacy & Security Best Practices"),o.createElement("ul",{className:"mt-2 space-y-1 text-sm text-yellow-800"},o.createElement("li",null," Never share personal information during video calls"),o.createElement("li",null," Use the platform's built-in features for communication"),o.createElement("li",null," Report inappropriate behavior to administrators"),o.createElement("li",null," Verify TURN provider attestation status for maximum security"),o.createElement("li",null," Monitor your session costs and balance regularly")))))),t==="providers"&&o.createElement("div",{className:"space-y-8"},o.createElement("div",null,o.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"Rust Attestation Agent Requirements"),o.createElement("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6"},o.createElement("div",{className:"flex items-start space-x-3"},o.createElement(Ba,{className:"h-5 w-5 text-red-600 mt-0.5"}),o.createElement("div",null,o.createElement("h4",{className:"font-medium text-red-900"},"Mandatory Requirement"),o.createElement("p",{className:"text-sm text-red-800 mt-1"},"All TURN providers MUST deploy and maintain a Rust-based attestation agent. Failure to do so will result in provider suspension and potential stake slashing.")))),o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},o.createElement("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200"},o.createElement("div",{className:"flex items-center space-x-3 mb-4"},o.createElement(Tg,{className:"h-6 w-6 text-blue-600"}),o.createElement("h4",{className:"font-semibold text-blue-900"},"Security Monitoring")),o.createElement("ul",{className:"space-y-2 text-sm text-blue-800"},o.createElement("li",null," Continuous TURN server operation monitoring"),o.createElement("li",null," Data integrity and encryption compliance checks"),o.createElement("li",null," Traffic volume and pattern analysis"),o.createElement("li",null," Uptime and performance metrics collection"))),o.createElement("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200"},o.createElement("div",{className:"flex items-center space-x-3 mb-4"},o.createElement(zf,{className:"h-6 w-6 text-green-600"}),o.createElement("h4",{className:"font-semibold text-green-900"},"Transparency Features")),o.createElement("ul",{className:"space-y-2 text-sm text-green-800"},o.createElement("li",null," Real-time attestation status reporting"),o.createElement("li",null," Cryptographic proof of secure operations"),o.createElement("li",null," Public verification of compliance status"),o.createElement("li",null," Automated canister integration"))))),o.createElement("div",null,o.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"Setup Instructions"),o.createElement("div",{className:"space-y-6"},o.createElement("div",{className:"bg-gray-50 rounded-lg p-6 border"},o.createElement("div",{className:"flex items-center justify-between mb-4"},o.createElement("h4",{className:"font-semibold text-gray-900"},"1. Automated Setup Script"),o.createElement("button",{onClick:()=>a(c,"setup-script"),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700"},n==="setup-script"?o.createElement(is,{className:"h-4 w-4"}):o.createElement(G0,{className:"h-4 w-4"}),o.createElement("span",{className:"text-sm"},n==="setup-script"?"Copied!":"Copy"))),o.createElement("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg text-xs overflow-x-auto"},o.createElement("code",null,c))),o.createElement("div",{className:"bg-gray-50 rounded-lg p-6 border"},o.createElement("div",{className:"flex items-center justify-between mb-4"},o.createElement("h4",{className:"font-semibold text-gray-900"},"2. Attestation Agent Implementation"),o.createElement("button",{onClick:()=>a(s,"rust-code"),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700"},n==="rust-code"?o.createElement(is,{className:"h-4 w-4"}):o.createElement(G0,{className:"h-4 w-4"}),o.createElement("span",{className:"text-sm"},n==="rust-code"?"Copied!":"Copy"))),o.createElement("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg text-xs overflow-x-auto"},o.createElement("code",null,s))))),o.createElement("div",null,o.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"Provider Requirements"),o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},o.createElement("div",{className:"bg-white border rounded-lg p-6"},o.createElement("div",{className:"flex items-center space-x-3 mb-4"},o.createElement(Hs,{className:"h-6 w-6 text-purple-600"}),o.createElement("h4",{className:"font-semibold text-gray-900"},"Technical")),o.createElement("ul",{className:"space-y-2 text-sm text-gray-700"},o.createElement("li",null," Rust 1.70+ installed"),o.createElement("li",null," TURN server (coturn recommended)"),o.createElement("li",null," SSL/TLS certificates"),o.createElement("li",null," 24/7 uptime requirement"),o.createElement("li",null," Minimum 1Gbps bandwidth"))),o.createElement("div",{className:"bg-white border rounded-lg p-6"},o.createElement("div",{className:"flex items-center space-x-3 mb-4"},o.createElement(xm,{className:"h-6 w-6 text-yellow-600"}),o.createElement("h4",{className:"font-semibold text-gray-900"},"Economic")),o.createElement("ul",{className:"space-y-2 text-sm text-gray-700"},o.createElement("li",null," Minimum 500 TURNX stake"),o.createElement("li",null," Earn 90% of session fees"),o.createElement("li",null," Performance-based reputation"),o.createElement("li",null," Slashing for non-compliance"),o.createElement("li",null," Monthly earnings reports"))),o.createElement("div",{className:"bg-white border rounded-lg p-6"},o.createElement("div",{className:"flex items-center space-x-3 mb-4"},o.createElement(rr,{className:"h-6 w-6 text-green-600"}),o.createElement("h4",{className:"font-semibold text-gray-900"},"Security")),o.createElement("ul",{className:"space-y-2 text-sm text-gray-700"},o.createElement("li",null," Attestation agent deployment"),o.createElement("li",null," Cryptographic key management"),o.createElement("li",null," Regular security audits"),o.createElement("li",null," Compliance monitoring"),o.createElement("li",null," Incident response procedures"))))),o.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6"},o.createElement("div",{className:"flex items-start space-x-3"},o.createElement(MO,{className:"h-5 w-5 text-blue-600 mt-0.5"}),o.createElement("div",null,o.createElement("h4",{className:"font-medium text-blue-900"},"Resources & Support"),o.createElement("div",{className:"mt-3 space-y-2"},o.createElement("a",{href:"#",className:"flex items-center space-x-2 text-sm text-blue-700 hover:text-blue-800"},o.createElement(BE,{className:"h-3 w-3"}),o.createElement("span",null,"Download Attestation Agent Template")),o.createElement("a",{href:"#",className:"flex items-center space-x-2 text-sm text-blue-700 hover:text-blue-800"},o.createElement(gm,{className:"h-3 w-3"}),o.createElement("span",null,"Technical Specification Document")),o.createElement("a",{href:"#",className:"flex items-center space-x-2 text-sm text-blue-700 hover:text-blue-800"},o.createElement(CE,{className:"h-3 w-3"}),o.createElement("span",null,"Provider Setup Troubleshooting Guide"))))))),t==="developers"&&o.createElement("div",{className:"space-y-8"},o.createElement("div",null,o.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"WebRTC Integration"),o.createElement("div",{className:"bg-gray-50 rounded-lg p-6 border"},o.createElement("div",{className:"flex items-center justify-between mb-4"},o.createElement("h4",{className:"font-semibold text-gray-900"},"Privacy-First WebRTC Configuration"),o.createElement("button",{onClick:()=>a(l,"webrtc-code"),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700"},n==="webrtc-code"?o.createElement(is,{className:"h-4 w-4"}):o.createElement(G0,{className:"h-4 w-4"}),o.createElement("span",{className:"text-sm"},n==="webrtc-code"?"Copied!":"Copy"))),o.createElement("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg text-xs overflow-x-auto"},o.createElement("code",null,l)))),o.createElement("div",null,o.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"API Integration"),o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},o.createElement("div",{className:"bg-white border rounded-lg p-6"},o.createElement("h4",{className:"font-semibold text-gray-900 mb-4"},"Canister Methods"),o.createElement("div",{className:"space-y-3 text-sm"},o.createElement("div",{className:"bg-gray-50 p-3 rounded"},o.createElement("code",{className:"text-blue-600"},"createRoom(name, maxParticipants)"),o.createElement("p",{className:"text-gray-600 mt-1"},"Create a new room with up to 50 participants")),o.createElement("div",{className:"bg-gray-50 p-3 rounded"},o.createElement("code",{className:"text-blue-600"},"logTurnServerUsage(serverUrl, sessionId)"),o.createElement("p",{className:"text-gray-600 mt-1"},"Log TURN server usage for billing")),o.createElement("div",{className:"bg-gray-50 p-3 rounded"},o.createElement("code",{className:"text-blue-600"},"recordBilling(sessionId, providerId, ...)"),o.createElement("p",{className:"text-gray-600 mt-1"},"Record session billing information")))),o.createElement("div",{className:"bg-white border rounded-lg p-6"},o.createElement("h4",{className:"font-semibold text-gray-900 mb-4"},"Authentication Flow"),o.createElement("div",{className:"space-y-3 text-sm"},o.createElement("div",{className:"flex items-center space-x-2"},o.createElement("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-xs font-medium text-blue-600"},"1"),o.createElement("span",null,"Internet Identity authentication")),o.createElement("div",{className:"flex items-center space-x-2"},o.createElement("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-xs font-medium text-blue-600"},"2"),o.createElement("span",null,"Principal ID extraction")),o.createElement("div",{className:"flex items-center space-x-2"},o.createElement("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-xs font-medium text-blue-600"},"3"),o.createElement("span",null,"User profile setup")),o.createElement("div",{className:"flex items-center space-x-2"},o.createElement("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-xs font-medium text-blue-600"},"4"),o.createElement("span",null,"Admin approval process")))))),o.createElement("div",null,o.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"Security Considerations"),o.createElement("div",{className:"space-y-4"},o.createElement("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6"},o.createElement("div",{className:"flex items-start space-x-3"},o.createElement(Ba,{className:"h-5 w-5 text-red-600 mt-0.5"}),o.createElement("div",null,o.createElement("h4",{className:"font-medium text-red-900"},"Critical Security Requirements"),o.createElement("ul",{className:"mt-2 space-y-1 text-sm text-red-800"},o.createElement("li",null," Always use iceTransportPolicy: 'relay' to force TURN usage"),o.createElement("li",null," Verify TURN provider attestation status before connection"),o.createElement("li",null," Implement proper credential refresh mechanisms"),o.createElement("li",null," Never store or log personal user information"),o.createElement("li",null," Use HTTPS/WSS for all signaling communications"))))),o.createElement("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6"},o.createElement("div",{className:"flex items-start space-x-3"},o.createElement(is,{className:"h-5 w-5 text-green-600 mt-0.5"}),o.createElement("div",null,o.createElement("h4",{className:"font-medium text-green-900"},"Best Practices"),o.createElement("ul",{className:"mt-2 space-y-1 text-sm text-green-800"},o.createElement("li",null," Implement automatic credential refresh before expiry"),o.createElement("li",null," Monitor connection quality and switch providers if needed"),o.createElement("li",null," Use React Query for efficient state management"),o.createElement("li",null," Implement proper error handling for network failures"),o.createElement("li",null," Provide clear user feedback for connection status"))))))),o.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6"},o.createElement("div",{className:"flex items-start space-x-3"},o.createElement($y,{className:"h-5 w-5 text-blue-600 mt-0.5"}),o.createElement("div",null,o.createElement("h4",{className:"font-medium text-blue-900"},"Development Resources"),o.createElement("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-4"},o.createElement("div",{className:"space-y-2"},o.createElement("a",{href:"#",className:"flex items-center space-x-2 text-sm text-blue-700 hover:text-blue-800"},o.createElement(BE,{className:"h-3 w-3"}),o.createElement("span",null,"GitHub Repository")),o.createElement("a",{href:"#",className:"flex items-center space-x-2 text-sm text-blue-700 hover:text-blue-800"},o.createElement(gm,{className:"h-3 w-3"}),o.createElement("span",null,"API Documentation")),o.createElement("a",{href:"#",className:"flex items-center space-x-2 text-sm text-blue-700 hover:text-blue-800"},o.createElement(nU,{className:"h-3 w-3"}),o.createElement("span",null,"Video Tutorials"))),o.createElement("div",{className:"space-y-2"},o.createElement("a",{href:"#",className:"flex items-center space-x-2 text-sm text-blue-700 hover:text-blue-800"},o.createElement(CE,{className:"h-3 w-3"}),o.createElement("span",null,"CLI Tools")),o.createElement("a",{href:"#",className:"flex items-center space-x-2 text-sm text-blue-700 hover:text-blue-800"},o.createElement($y,{className:"h-3 w-3"}),o.createElement("span",null,"SDK Downloads")),o.createElement("a",{href:"#",className:"flex items-center space-x-2 text-sm text-blue-700 hover:text-blue-800"},o.createElement(di,{className:"h-3 w-3"}),o.createElement("span",null,"Developer Community")))))))))))}function UI(){const[t,e]=be.useState("proposals"),[n,r]=be.useState(null),[a,i]=be.useState(!1),[s,c]=be.useState({title:"",description:"",type:"fee_adjustment",details:{}}),[l]=be.useState([{id:"prop_001",title:"Reduce TURN Provider Fee Rate to 0.15 TURNX/min",description:"Proposal to reduce the per-minute fee rate from 0.20 to 0.15 TURNX to increase platform adoption and competitiveness.",type:"fee_adjustment",status:"active",votesFor:1250,votesAgainst:340,totalVotes:1590,quorumRequired:2e3,endTime:new Date(Date.now()+5*24*60*60*1e3),proposer:"rdmx6-jaaaa-aaaah-qcaiq-cai",executionDelay:48,details:{currentRate:.2,proposedRate:.15,estimatedImpact:"Increase in user adoption by ~25%"}},{id:"prop_002",title:"Approve New TURN Provider: CloudRelay Networks",description:"Proposal to approve CloudRelay Networks as a verified TURN provider with proper attestation agent deployment.",type:"provider_approval",status:"active",votesFor:890,votesAgainst:120,totalVotes:1010,quorumRequired:1500,endTime:new Date(Date.now()+3*24*60*60*1e3),proposer:"rrkah-fqaaa-aaaah-qcaiq-cai",executionDelay:24,details:{providerName:"CloudRelay Networks",stakeAmount:2500,location:"EU-West",attestationStatus:"verified"}},{id:"prop_003",title:"Allocate 50,000 TURNX for Marketing Campaign",description:"Proposal to allocate treasury funds for a comprehensive marketing campaign to increase platform awareness.",type:"treasury_allocation",status:"passed",votesFor:2100,votesAgainst:450,totalVotes:2550,quorumRequired:2e3,endTime:new Date(Date.now()-2*24*60*60*1e3),proposer:"ryjl3-tyaaa-aaaah-qcaiq-cai",executionDelay:72,details:{amount:5e4,purpose:"Marketing Campaign",duration:"6 months"}}]),[u]=be.useState({totalBalance:125750.5,monthlyInflow:8420.25,monthlyOutflow:3200,totalProposals:15,activeProposals:3,passedProposals:8,rejectedProposals:4}),[p]=be.useState(450),y=(x,_)=>{console.log(`Voting ${_} on proposal ${x} with ${p} voting power`)},h=x=>{x.preventDefault(),console.log("Creating proposal:",s),i(!1),c({title:"",description:"",type:"fee_adjustment",details:{}})},d=x=>{switch(x){case"active":return"bg-blue-100 text-blue-800";case"passed":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"executed":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},f=x=>{switch(x){case"fee_adjustment":return o.createElement(M2,{className:"h-4 w-4"});case"provider_approval":return o.createElement(rr,{className:"h-4 w-4"});case"treasury_allocation":return o.createElement(ky,{className:"h-4 w-4"});case"protocol_upgrade":return o.createElement(uU,{className:"h-4 w-4"});default:return o.createElement(gm,{className:"h-4 w-4"})}},A=x=>Math.min(x.totalVotes/x.quorumRequired*100,100),N=x=>x.totalVotes===0?0:x.votesFor/x.totalVotes*100,v=[{id:"proposals",label:"Active Proposals",count:l.filter(x=>x.status==="active").length},{id:"treasury",label:"Treasury",count:null},{id:"create",label:"Create Proposal",count:null},{id:"history",label:"History",count:l.filter(x=>x.status!=="active").length}];return o.createElement("div",{className:"space-y-6"},o.createElement("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-xl p-6"},o.createElement("div",{className:"flex items-center justify-between"},o.createElement("div",{className:"flex items-center space-x-4"},o.createElement("div",{className:"bg-purple-100 rounded-full p-3"},o.createElement(Ag,{className:"h-8 w-8 text-purple-600"})),o.createElement("div",null,o.createElement("h2",{className:"text-2xl font-bold text-purple-900"},"DAO Governance"),o.createElement("p",{className:"text-purple-800"},"Decentralized protocol parameter management and treasury control"))),o.createElement("div",{className:"text-right"},o.createElement("div",{className:"bg-white rounded-lg p-4 border border-purple-100"},o.createElement("p",{className:"text-sm text-gray-600"},"Your Voting Power"),o.createElement("p",{className:"text-2xl font-bold text-purple-600"},p.toLocaleString()),o.createElement("p",{className:"text-xs text-gray-500"},"Based on TURNX holdings"))))),o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6"},o.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},o.createElement("div",{className:"flex items-center space-x-3"},o.createElement(gm,{className:"h-8 w-8 text-blue-600"}),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Total Proposals"),o.createElement("p",{className:"text-2xl font-bold text-gray-900"},u.totalProposals)))),o.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},o.createElement("div",{className:"flex items-center space-x-3"},o.createElement(bi,{className:"h-8 w-8 text-yellow-600"}),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Active Proposals"),o.createElement("p",{className:"text-2xl font-bold text-gray-900"},u.activeProposals)))),o.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},o.createElement("div",{className:"flex items-center space-x-3"},o.createElement(is,{className:"h-8 w-8 text-green-600"}),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Passed"),o.createElement("p",{className:"text-2xl font-bold text-gray-900"},u.passedProposals)))),o.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},o.createElement("div",{className:"flex items-center space-x-3"},o.createElement(ky,{className:"h-8 w-8 text-purple-600"}),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Treasury Balance"),o.createElement("p",{className:"text-2xl font-bold text-gray-900"},u.totalBalance.toLocaleString()),o.createElement("p",{className:"text-xs text-gray-500"},"TURNX"))))),o.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},o.createElement("div",{className:"border-b"},o.createElement("nav",{className:"flex space-x-1 p-4"},v.map(x=>o.createElement("button",{key:x.id,onClick:()=>e(x.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${t===x.id?"bg-purple-100 text-purple-700 border border-purple-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`},o.createElement("span",null,x.label),x.count!==null&&o.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t===x.id?"bg-purple-200 text-purple-800":"bg-gray-200 text-gray-700"}`},x.count))))),o.createElement("div",{className:"p-6"},t==="proposals"&&o.createElement("div",{className:"space-y-6"},l.filter(x=>x.status==="active").map(x=>o.createElement("div",{key:x.id,className:"border rounded-lg p-6 hover:shadow-md transition-shadow"},o.createElement("div",{className:"flex items-start justify-between mb-4"},o.createElement("div",{className:"flex-1"},o.createElement("div",{className:"flex items-center space-x-3 mb-2"},o.createElement("div",{className:"bg-gray-100 rounded-full p-2"},f(x.type)),o.createElement("div",null,o.createElement("h3",{className:"font-semibold text-gray-900"},x.title),o.createElement("div",{className:"flex items-center space-x-2 mt-1"},o.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d(x.status)}`},x.status),o.createElement("span",{className:"text-xs text-gray-500"},"by ",x.proposer.slice(0,10),"...")))),o.createElement("p",{className:"text-gray-700 text-sm mb-4"},x.description))),o.createElement("div",{className:"space-y-4 mb-6"},o.createElement("div",null,o.createElement("div",{className:"flex justify-between text-sm mb-2"},o.createElement("span",{className:"text-gray-600"},"Approval Rate"),o.createElement("span",{className:"font-medium"},N(x).toFixed(1),"%")),o.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2"},o.createElement("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${N(x)}%`}})),o.createElement("div",{className:"flex justify-between text-xs text-gray-500 mt-1"},o.createElement("span",null,x.votesFor.toLocaleString()," for"),o.createElement("span",null,x.votesAgainst.toLocaleString()," against"))),o.createElement("div",null,o.createElement("div",{className:"flex justify-between text-sm mb-2"},o.createElement("span",{className:"text-gray-600"},"Quorum Progress"),o.createElement("span",{className:"font-medium"},x.totalVotes.toLocaleString()," / ",x.quorumRequired.toLocaleString())),o.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2"},o.createElement("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${A(x)}%`}})))),o.createElement("div",{className:"flex items-center justify-between"},o.createElement("div",{className:"flex items-center space-x-4 text-sm text-gray-600"},o.createElement("div",{className:"flex items-center space-x-1"},o.createElement(bi,{className:"h-4 w-4"}),o.createElement("span",null,"Ends ",x.endTime.toLocaleDateString())),o.createElement("div",{className:"flex items-center space-x-1"},o.createElement(Ba,{className:"h-4 w-4"}),o.createElement("span",null,x.executionDelay,"h execution delay"))),o.createElement("div",{className:"flex items-center space-x-3"},o.createElement("button",{onClick:()=>r(x),className:"flex items-center space-x-1 px-3 py-1 text-blue-600 hover:text-blue-700 text-sm"},o.createElement(zf,{className:"h-4 w-4"}),o.createElement("span",null,"Details")),o.createElement("button",{onClick:()=>y(x.id,"against"),className:"flex items-center space-x-1 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm"},o.createElement(bU,{className:"h-4 w-4"}),o.createElement("span",null,"Against")),o.createElement("button",{onClick:()=>y(x.id,"for"),className:"flex items-center space-x-1 px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm"},o.createElement(wU,{className:"h-4 w-4"}),o.createElement("span",null,"For")))))),l.filter(x=>x.status==="active").length===0&&o.createElement("div",{className:"text-center py-12"},o.createElement(Ag,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.createElement("p",{className:"text-gray-500 text-lg"},"No active proposals"),o.createElement("p",{className:"text-gray-400 text-sm"},"Create a new proposal to get started"))),t==="treasury"&&o.createElement("div",{className:"space-y-6"},o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},o.createElement("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200"},o.createElement("div",{className:"flex items-center space-x-3 mb-4"},o.createElement(k4,{className:"h-8 w-8 text-green-600"}),o.createElement("div",null,o.createElement("p",{className:"text-sm text-green-700"},"Monthly Inflow"),o.createElement("p",{className:"text-2xl font-bold text-green-900"},u.monthlyInflow.toLocaleString()),o.createElement("p",{className:"text-xs text-green-600"},"TURNX"))),o.createElement("p",{className:"text-sm text-green-700"},"From protocol fees (10% of session costs)")),o.createElement("div",{className:"bg-red-50 rounded-lg p-6 border border-red-200"},o.createElement("div",{className:"flex items-center space-x-3 mb-4"},o.createElement(EO,{className:"h-8 w-8 text-red-600"}),o.createElement("div",null,o.createElement("p",{className:"text-sm text-red-700"},"Monthly Outflow"),o.createElement("p",{className:"text-2xl font-bold text-red-900"},u.monthlyOutflow.toLocaleString()),o.createElement("p",{className:"text-xs text-red-600"},"TURNX"))),o.createElement("p",{className:"text-sm text-red-700"},"From approved treasury allocations")),o.createElement("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200"},o.createElement("div",{className:"flex items-center space-x-3 mb-4"},o.createElement(ky,{className:"h-8 w-8 text-blue-600"}),o.createElement("div",null,o.createElement("p",{className:"text-sm text-blue-700"},"Net Growth"),o.createElement("p",{className:"text-2xl font-bold text-blue-900"},"+",(u.monthlyInflow-u.monthlyOutflow).toLocaleString()),o.createElement("p",{className:"text-xs text-blue-600"},"TURNX/month"))),o.createElement("p",{className:"text-sm text-blue-700"},"Sustainable treasury growth"))),o.createElement("div",{className:"bg-white border rounded-lg p-6"},o.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4"},"Treasury Allocation History"),o.createElement("div",{className:"space-y-4"},o.createElement("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},o.createElement("div",null,o.createElement("p",{className:"font-medium text-gray-900"},"Marketing Campaign"),o.createElement("p",{className:"text-sm text-gray-600"},"Approved via Proposal #003")),o.createElement("div",{className:"text-right"},o.createElement("p",{className:"font-medium text-red-600"},"-50,000 TURNX"),o.createElement("p",{className:"text-xs text-gray-500"},"2 days ago"))),o.createElement("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},o.createElement("div",null,o.createElement("p",{className:"font-medium text-gray-900"},"Developer Grants Program"),o.createElement("p",{className:"text-sm text-gray-600"},"Approved via Proposal #001")),o.createElement("div",{className:"text-right"},o.createElement("p",{className:"font-medium text-red-600"},"-25,000 TURNX"),o.createElement("p",{className:"text-xs text-gray-500"},"1 week ago"))),o.createElement("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},o.createElement("div",null,o.createElement("p",{className:"font-medium text-gray-900"},"Security Audit"),o.createElement("p",{className:"text-sm text-gray-600"},"Emergency allocation")),o.createElement("div",{className:"text-right"},o.createElement("p",{className:"font-medium text-red-600"},"-15,000 TURNX"),o.createElement("p",{className:"text-xs text-gray-500"},"2 weeks ago")))))),t==="create"&&o.createElement("div",{className:"max-w-2xl mx-auto"},o.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6"},o.createElement("div",{className:"flex items-start space-x-3"},o.createElement(Ba,{className:"h-5 w-5 text-blue-600 mt-0.5"}),o.createElement("div",null,o.createElement("h3",{className:"font-medium text-blue-900"},"Proposal Requirements"),o.createElement("ul",{className:"mt-2 space-y-1 text-sm text-blue-800"},o.createElement("li",null," Minimum 100 TURNX voting power required to create proposals"),o.createElement("li",null," Proposals require a quorum of 2,000 votes to pass"),o.createElement("li",null," Execution delay varies by proposal type (24-72 hours)"),o.createElement("li",null," Treasury allocations require detailed justification"))))),o.createElement("form",{onSubmit:h,className:"space-y-6"},o.createElement("div",null,o.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Proposal Type"),o.createElement("select",{value:s.type,onChange:x=>c(_=>({..._,type:x.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent"},o.createElement("option",{value:"fee_adjustment"},"Fee Rate Adjustment"),o.createElement("option",{value:"provider_approval"},"TURN Provider Approval"),o.createElement("option",{value:"treasury_allocation"},"Treasury Allocation"),o.createElement("option",{value:"protocol_upgrade"},"Protocol Upgrade"))),o.createElement("div",null,o.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Proposal Title"),o.createElement("input",{type:"text",value:s.title,onChange:x=>c(_=>({..._,title:x.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter a clear, descriptive title...",required:!0})),o.createElement("div",null,o.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Description"),o.createElement("textarea",{value:s.description,onChange:x=>c(_=>({..._,description:x.target.value})),rows:6,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Provide a detailed description of the proposal, including rationale and expected impact...",required:!0})),o.createElement("div",{className:"flex space-x-4"},o.createElement("button",{type:"button",onClick:()=>c({title:"",description:"",type:"fee_adjustment",details:{}}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors"},"Reset"),o.createElement("button",{type:"submit",disabled:p<100,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},"Create Proposal")),p<100&&o.createElement("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},o.createElement("div",{className:"flex items-start space-x-3"},o.createElement(Ba,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),o.createElement("div",null,o.createElement("p",{className:"text-sm text-yellow-800"},"You need at least 100 TURNX voting power to create proposals. Your current voting power is ",p," TURNX.")))))),t==="history"&&o.createElement("div",{className:"space-y-4"},l.filter(x=>x.status!=="active").map(x=>o.createElement("div",{key:x.id,className:"border rounded-lg p-6"},o.createElement("div",{className:"flex items-start justify-between"},o.createElement("div",{className:"flex-1"},o.createElement("div",{className:"flex items-center space-x-3 mb-2"},o.createElement("div",{className:"bg-gray-100 rounded-full p-2"},f(x.type)),o.createElement("div",null,o.createElement("h3",{className:"font-semibold text-gray-900"},x.title),o.createElement("div",{className:"flex items-center space-x-2 mt-1"},o.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d(x.status)}`},x.status),o.createElement("span",{className:"text-xs text-gray-500"},"by ",x.proposer.slice(0,10),"...")))),o.createElement("p",{className:"text-gray-700 text-sm mb-4"},x.description)),o.createElement("div",{className:"text-right text-sm text-gray-600"},o.createElement("p",null,"Final: ",x.votesFor.toLocaleString()," for, ",x.votesAgainst.toLocaleString()," against"),o.createElement("p",null,"Approval: ",N(x).toFixed(1),"%")))))))),n&&o.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},o.createElement("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto"},o.createElement("div",{className:"flex items-center justify-between mb-6"},o.createElement("h3",{className:"text-xl font-semibold text-gray-900"},"Proposal Details"),o.createElement("button",{onClick:()=>r(null),className:"text-gray-400 hover:text-gray-600"},o.createElement(TO,{className:"h-6 w-6"}))),o.createElement("div",{className:"space-y-6"},o.createElement("div",null,o.createElement("h4",{className:"font-medium text-gray-900 mb-2"},n.title),o.createElement("p",{className:"text-gray-700"},n.description)),o.createElement("div",{className:"grid grid-cols-2 gap-4"},o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Proposer"),o.createElement("p",{className:"font-mono text-sm"},n.proposer)),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Type"),o.createElement("p",{className:"font-medium"},n.type.replace("_"," "))),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"End Time"),o.createElement("p",{className:"font-medium"},n.endTime.toLocaleString())),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Execution Delay"),o.createElement("p",{className:"font-medium"},n.executionDelay," hours"))),n.details&&Object.keys(n.details).length>0&&o.createElement("div",null,o.createElement("h4",{className:"font-medium text-gray-900 mb-2"},"Additional Details"),o.createElement("div",{className:"bg-gray-50 rounded-lg p-4"},Object.entries(n.details).map(([x,_])=>o.createElement("div",{key:x,className:"flex justify-between py-1"},o.createElement("span",{className:"text-sm text-gray-600 capitalize"},x.replace(/([A-Z])/g," $1")),o.createElement("span",{className:"text-sm font-medium"},String(_))))))))))}function CI(){const{data:t=[]}=Z2(),e=_I(),[n,r]=be.useState(!1),[a,i]=be.useState(null),[s,c]=be.useState({id:"",name:"",url:"",publicKey:"",attestationHash:"",stakeAmount:"",location:""}),l=N=>{N.preventDefault(),e.mutate({id:s.id,name:s.name,url:s.url,publicKey:s.publicKey,attestationHash:s.attestationHash||null,stakeAmount:BigInt(s.stakeAmount),location:s.location},{onSuccess:()=>{r(!1),c({id:"",name:"",url:"",publicKey:"",attestationHash:"",stakeAmount:"",location:""})}})},u=N=>N.attestationHash?N.isVerified?{status:"verified",color:"text-green-600",bg:"bg-green-100",text:"Verified",icon:is}:{status:"pending",color:"text-yellow-600",bg:"bg-yellow-100",text:"Pending",icon:bi}:{status:"missing",color:"text-red-600",bg:"bg-red-100",text:"No Attestation",icon:Ba},p=(N,v)=>N>=v.good?"text-green-600":N>=v.fair?"text-yellow-600":"text-red-600",y=N=>o.createElement("div",{className:"flex items-center space-x-1"},[1,2,3,4,5].map(v=>o.createElement(bm,{key:v,className:`h-4 w-4 ${v<=N?"text-yellow-400 fill-current":"text-gray-300"}`}))),h=t.filter(N=>N.isVerified&&N.attestationHash);t.filter(N=>!N.isVerified||!N.attestationHash);const d=t.filter(N=>N.isActive),f=t.reduce((N,v)=>N+Number(v.stakeAmount),0),A=t.length>0?t.reduce((N,v)=>N+v.rating,0)/t.length:0;return o.createElement("div",{className:"space-y-6"},o.createElement("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6"},o.createElement("div",{className:"flex items-center justify-between"},o.createElement("div",{className:"flex items-center space-x-4"},o.createElement("div",{className:"bg-blue-100 rounded-full p-3"},o.createElement(Hs,{className:"h-8 w-8 text-blue-600"})),o.createElement("div",null,o.createElement("h2",{className:"text-2xl font-bold text-blue-900"},"TURN Provider Network"),o.createElement("p",{className:"text-blue-800"},"Attestation-verified providers with staking and reputation system"))),o.createElement("button",{onClick:()=>r(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"},o.createElement(aU,{className:"h-4 w-4"}),o.createElement("span",null,"Register Provider")))),o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6"},o.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},o.createElement("div",{className:"flex items-center space-x-3"},o.createElement(Hs,{className:"h-8 w-8 text-blue-600"}),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Total Providers"),o.createElement("p",{className:"text-2xl font-bold text-gray-900"},t.length)))),o.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},o.createElement("div",{className:"flex items-center space-x-3"},o.createElement(rr,{className:"h-8 w-8 text-green-600"}),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Verified"),o.createElement("p",{className:"text-2xl font-bold text-gray-900"},h.length)))),o.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},o.createElement("div",{className:"flex items-center space-x-3"},o.createElement(bO,{className:"h-8 w-8 text-purple-600"}),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Active"),o.createElement("p",{className:"text-2xl font-bold text-gray-900"},d.length)))),o.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},o.createElement("div",{className:"flex items-center space-x-3"},o.createElement(M2,{className:"h-8 w-8 text-yellow-600"}),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Total Staked"),o.createElement("p",{className:"text-2xl font-bold text-gray-900"},f.toLocaleString()),o.createElement("p",{className:"text-xs text-gray-500"},"TURNX")))),o.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},o.createElement("div",{className:"flex items-center space-x-3"},o.createElement(bm,{className:"h-8 w-8 text-orange-600"}),o.createElement("div",null,o.createElement("p",{className:"text-sm text-gray-600"},"Avg Rating"),o.createElement("p",{className:"text-2xl font-bold text-gray-900"},A.toFixed(1)))))),o.createElement("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6"},o.createElement("div",{className:"flex items-start space-x-3"},o.createElement(Ba,{className:"h-6 w-6 text-red-600 mt-0.5"}),o.createElement("div",{className:"flex-1"},o.createElement("h3",{className:"font-semibold text-red-900 mb-2"},"Mandatory Rust Attestation Agent"),o.createElement("p",{className:"text-red-800 mb-4"},"All TURN providers MUST deploy and maintain a Rust-based attestation agent for continuous security monitoring. Failure to maintain attestation will result in provider suspension and potential stake slashing."),o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},o.createElement("div",{className:"bg-white rounded-lg p-4 border border-red-100"},o.createElement("div",{className:"flex items-center space-x-2 mb-2"},o.createElement(Tg,{className:"h-4 w-4 text-red-600"}),o.createElement("span",{className:"font-medium text-red-900"},"Security Monitoring")),o.createElement("p",{className:"text-sm text-red-700"},"Continuous TURN server operation and data integrity checks")),o.createElement("div",{className:"bg-white rounded-lg p-4 border border-red-100"},o.createElement("div",{className:"flex items-center space-x-2 mb-2"},o.createElement(zf,{className:"h-4 w-4 text-red-600"}),o.createElement("span",{className:"font-medium text-red-900"},"Transparency")),o.createElement("p",{className:"text-sm text-red-700"},"Real-time attestation status reporting to coordination canister")),o.createElement("div",{className:"bg-white rounded-lg p-4 border border-red-100"},o.createElement("div",{className:"flex items-center space-x-2 mb-2"},o.createElement(xm,{className:"h-4 w-4 text-red-600"}),o.createElement("span",{className:"font-medium text-red-900"},"Accountability")),o.createElement("p",{className:"text-sm text-red-700"},"Attestation compliance directly linked to provider rewards")))))),o.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},o.createElement("div",{className:"p-6 border-b"},o.createElement("h3",{className:"text-xl font-semibold text-gray-900"},"Provider Network")),o.createElement("div",{className:"p-6"},t.length===0?o.createElement("div",{className:"text-center py-12"},o.createElement(Hs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.createElement("p",{className:"text-gray-500 text-lg"},"No TURN providers registered"),o.createElement("p",{className:"text-gray-400 text-sm"},"Be the first to register a provider with attestation agent")):o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},t.map(N=>{const v=u(N),x=v.icon;return o.createElement("div",{key:N.id,className:`border rounded-lg p-6 transition-all hover:shadow-md ${N.isVerified&&N.attestationHash?"border-green-200 bg-green-50":N.attestationHash?"border-yellow-200 bg-yellow-50":"border-red-200 bg-red-50"}`},o.createElement("div",{className:"flex items-start justify-between mb-4"},o.createElement("div",{className:"flex-1"},o.createElement("div",{className:"flex items-center space-x-2 mb-2"},o.createElement("h4",{className:"font-semibold text-gray-900"},N.name),N.isActive&&o.createElement("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})),o.createElement("p",{className:"text-sm text-gray-600 mb-2"},N.url),o.createElement("div",{className:"flex items-center space-x-2"},o.createElement(zO,{className:"h-3 w-3 text-gray-400"}),o.createElement("span",{className:"text-xs text-gray-500"},N.location))),o.createElement("button",{onClick:()=>i(N),className:"text-blue-600 hover:text-blue-700"},o.createElement(zf,{className:"h-4 w-4"}))),o.createElement("div",{className:`flex items-center space-x-2 p-3 rounded-lg mb-4 ${v.bg}`},o.createElement(x,{className:`h-4 w-4 ${v.color}`}),o.createElement("span",{className:`text-sm font-medium ${v.color}`},v.text)),o.createElement("div",{className:"space-y-3"},o.createElement("div",{className:"flex justify-between items-center"},o.createElement("span",{className:"text-sm text-gray-600"},"Rating:"),o.createElement("div",{className:"flex items-center space-x-1"},y(N.rating),o.createElement("span",{className:"text-sm font-medium ml-1"},N.rating))),o.createElement("div",{className:"flex justify-between items-center"},o.createElement("span",{className:"text-sm text-gray-600"},"Reputation:"),o.createElement("span",{className:`text-sm font-medium ${p(N.reputation,{good:90,fair:70})}`},N.reputation,"%")),o.createElement("div",{className:"flex justify-between items-center"},o.createElement("span",{className:"text-sm text-gray-600"},"Uptime:"),o.createElement("span",{className:`text-sm font-medium ${p(N.uptime,{good:99,fair:95})}`},N.uptime,"%")),o.createElement("div",{className:"flex justify-between items-center"},o.createElement("span",{className:"text-sm text-gray-600"},"Stake:"),o.createElement("span",{className:"text-sm font-medium"},Number(N.stakeAmount).toLocaleString()," TURNX")),o.createElement("div",{className:"flex justify-between items-center"},o.createElement("span",{className:"text-sm text-gray-600"},"Sessions:"),o.createElement("span",{className:"text-sm font-medium"},Number(N.totalSessions).toLocaleString())),o.createElement("div",{className:"flex justify-between items-center"},o.createElement("span",{className:"text-sm text-gray-600"},"Earnings:"),o.createElement("span",{className:"text-sm font-medium text-green-600"},N.totalEarnings.toFixed(2)," TURNX"))),o.createElement("div",{className:"flex items-center justify-between mt-4 pt-4 border-t"},o.createElement("div",{className:"flex items-center space-x-2"},N.isVerified?o.createElement("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full font-medium"},"Verified"):o.createElement("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded-full font-medium"},"Unverified"),N.isActive?o.createElement("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full font-medium"},"Active"):o.createElement("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded-full font-medium"},"Inactive")),o.createElement("div",{className:"text-xs text-gray-500"},"Security: ",Number(N.securityScore),"/100")))})))),n&&o.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},o.createElement("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto"},o.createElement("div",{className:"flex items-center justify-between mb-6"},o.createElement("h3",{className:"text-xl font-semibold text-gray-900"},"Register TURN Provider"),o.createElement("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-gray-600"},o.createElement(Ds,{className:"h-6 w-6"}))),o.createElement("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6"},o.createElement("div",{className:"flex items-start space-x-3"},o.createElement(Ba,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),o.createElement("div",null,o.createElement("h4",{className:"font-medium text-yellow-900"},"Attestation Agent Required"),o.createElement("p",{className:"text-sm text-yellow-800 mt-1"},"You must deploy and maintain a Rust-based attestation agent before registering. See the Documentation tab for setup instructions.")))),o.createElement("form",{onSubmit:l,className:"space-y-6"},o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},o.createElement("div",null,o.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Provider ID"),o.createElement("input",{type:"text",value:s.id,onChange:N=>c(v=>({...v,id:N.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"provider_001",required:!0})),o.createElement("div",null,o.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Provider Name"),o.createElement("input",{type:"text",value:s.name,onChange:N=>c(v=>({...v,name:N.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"My TURN Provider",required:!0}))),o.createElement("div",null,o.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"TURN Server URL"),o.createElement("input",{type:"url",value:s.url,onChange:N=>c(v=>({...v,url:N.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"turn:myserver.com:3478",required:!0})),o.createElement("div",null,o.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Public Key"),o.createElement("textarea",{value:s.publicKey,onChange:N=>c(v=>({...v,publicKey:N.target.value})),rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your public key for authentication...",required:!0})),o.createElement("div",null,o.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Attestation Hash (Optional)"),o.createElement("input",{type:"text",value:s.attestationHash,onChange:N=>c(v=>({...v,attestationHash:N.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Hash from your attestation agent..."}),o.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Leave empty if attestation agent is not yet deployed. You can update this later.")),o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},o.createElement("div",null,o.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Stake Amount (TURNX)"),o.createElement("input",{type:"number",min:"500",value:s.stakeAmount,onChange:N=>c(v=>({...v,stakeAmount:N.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1000",required:!0}),o.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Minimum 500 TURNX required")),o.createElement("div",null,o.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Location"),o.createElement("select",{value:s.location,onChange:N=>c(v=>({...v,location:N.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0},o.createElement("option",{value:""},"Select location..."),o.createElement("option",{value:"US-East"},"US East"),o.createElement("option",{value:"US-West"},"US West"),o.createElement("option",{value:"EU-West"},"EU West"),o.createElement("option",{value:"EU-Central"},"EU Central"),o.createElement("option",{value:"Asia-Pacific"},"Asia Pacific"),o.createElement("option",{value:"Other"},"Other")))),o.createElement("div",{className:"flex space-x-4"},o.createElement("button",{type:"button",onClick:()=>r(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors"},"Cancel"),o.createElement("button",{type:"submit",disabled:e.isPending,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors"},e.isPending?"Registering...":"Register Provider"))))),a&&o.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},o.createElement("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full p-6 max-h-[90vh] overflow-y-auto"},o.createElement("div",{className:"flex items-center justify-between mb-6"},o.createElement("h3",{className:"text-xl font-semibold text-gray-900"},a.name),o.createElement("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-gray-600"},o.createElement(Ds,{className:"h-6 w-6"}))),o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},o.createElement("div",{className:"space-y-4"},o.createElement("div",null,o.createElement("h4",{className:"font-medium text-gray-900 mb-2"},"Provider Information"),o.createElement("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2"},o.createElement("div",{className:"flex justify-between"},o.createElement("span",{className:"text-sm text-gray-600"},"ID:"),o.createElement("span",{className:"text-sm font-mono"},a.id)),o.createElement("div",{className:"flex justify-between"},o.createElement("span",{className:"text-sm text-gray-600"},"URL:"),o.createElement("span",{className:"text-sm font-mono"},a.url)),o.createElement("div",{className:"flex justify-between"},o.createElement("span",{className:"text-sm text-gray-600"},"Location:"),o.createElement("span",{className:"text-sm"},a.location)),o.createElement("div",{className:"flex justify-between"},o.createElement("span",{className:"text-sm text-gray-600"},"Owner:"),o.createElement("span",{className:"text-sm font-mono"},a.owner.toString().slice(0,15),"...")))),o.createElement("div",null,o.createElement("h4",{className:"font-medium text-gray-900 mb-2"},"Attestation Status"),o.createElement("div",{className:"bg-gray-50 rounded-lg p-4"},a.attestationHash?o.createElement("div",{className:"space-y-2"},o.createElement("div",{className:"flex items-center space-x-2"},o.createElement(is,{className:"h-4 w-4 text-green-600"}),o.createElement("span",{className:"text-sm font-medium text-green-900"},"Attestation Agent Deployed")),o.createElement("div",{className:"text-xs text-gray-600"},"Hash: ",a.attestationHash.slice(0,20),"..."),o.createElement("div",{className:"text-xs text-gray-600"},"Last seen: ",new Date(Number(a.lastSeen)/1e6).toLocaleString())):o.createElement("div",{className:"flex items-center space-x-2"},o.createElement(Ba,{className:"h-4 w-4 text-red-600"}),o.createElement("span",{className:"text-sm font-medium text-red-900"},"No Attestation Agent"))))),o.createElement("div",{className:"space-y-4"},o.createElement("div",null,o.createElement("h4",{className:"font-medium text-gray-900 mb-2"},"Performance Metrics"),o.createElement("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3"},o.createElement("div",{className:"flex justify-between items-center"},o.createElement("span",{className:"text-sm text-gray-600"},"Rating:"),o.createElement("div",{className:"flex items-center space-x-1"},y(a.rating),o.createElement("span",{className:"text-sm font-medium ml-1"},a.rating))),o.createElement("div",{className:"flex justify-between"},o.createElement("span",{className:"text-sm text-gray-600"},"Reputation:"),o.createElement("span",{className:`text-sm font-medium ${p(a.reputation,{good:90,fair:70})}`},a.reputation,"%")),o.createElement("div",{className:"flex justify-between"},o.createElement("span",{className:"text-sm text-gray-600"},"Uptime:"),o.createElement("span",{className:`text-sm font-medium ${p(a.uptime,{good:99,fair:95})}`},a.uptime,"%")),o.createElement("div",{className:"flex justify-between"},o.createElement("span",{className:"text-sm text-gray-600"},"Security Score:"),o.createElement("span",{className:"text-sm font-medium"},Number(a.securityScore),"/100")))),o.createElement("div",null,o.createElement("h4",{className:"font-medium text-gray-900 mb-2"},"Economics"),o.createElement("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2"},o.createElement("div",{className:"flex justify-between"},o.createElement("span",{className:"text-sm text-gray-600"},"Stake Amount:"),o.createElement("span",{className:"text-sm font-medium"},Number(a.stakeAmount).toLocaleString()," TURNX")),o.createElement("div",{className:"flex justify-between"},o.createElement("span",{className:"text-sm text-gray-600"},"Total Sessions:"),o.createElement("span",{className:"text-sm font-medium"},Number(a.totalSessions).toLocaleString())),o.createElement("div",{className:"flex justify-between"},o.createElement("span",{className:"text-sm text-gray-600"},"Total Earnings:"),o.createElement("span",{className:"text-sm font-medium text-green-600"},a.totalEarnings.toFixed(2)," TURNX")))))))))}function MI(){const[t,e]=be.useState(null),[n,r]=be.useState(null),[a,i]=be.useState(null),[s,c]=be.useState("landing"),l="jl3ck-2cds7-rddbn-ww2i7-uo3ti-huzcp-5p673-miyae-vc22n-nzkna-2qe";be.useEffect(()=>{(async()=>{const N=await cp.create();if(i(N),await N.isAuthenticated()){const x=N.getIdentity(),_=new Df({identity:x});e(x),r(_),c("landing")}})()},[]);const u=async()=>{a&&await a.login({identityProvider:"https://identity.ic0.app/#authorize",onSuccess:async()=>{const A=a.getIdentity(),N=new Df({identity:A});e(A),r(N),c("landing")}})},p=async()=>{a&&(await a.logout(),e(null),r(null),c("landing"))},y=()=>{const A=t==null?void 0:t.getPrincipal().toText();A&&navigator.clipboard.writeText(A)},h=t==null?void 0:t.getPrincipal().toText(),d=h===l,f=[{id:"webrtc",label:"WebRTC",icon:ss},{id:"connections",label:"Connections",icon:K0},{id:"random-chat",label:"Random Chat",icon:Y0},{id:"providers",label:"TURN Providers",icon:Hs},{id:"dao",label:"DAO",icon:Ag},{id:"onboarding",label:"Docs",icon:Sg},...d?[{id:"admin",label:"Admin",icon:di}]:[]];return t?o.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 text-gray-800"},o.createElement("div",{className:"flex justify-between items-center p-4 bg-white shadow-sm border-b"},o.createElement("nav",{className:"flex space-x-2 overflow-x-auto"},o.createElement("button",{onClick:()=>c("landing"),className:`flex items-center space-x-1 px-4 py-2 rounded-full font-medium ${s==="landing"?"bg-green-100 text-green-700 border border-green-300":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`}," ",o.createElement("span",null,"Home")),f.map(A=>{const N=A.icon;return o.createElement("button",{key:A.id,onClick:()=>c(A.id),className:`flex items-center space-x-1 px-4 py-2 rounded-full font-medium ${s===A.id?"bg-green-100 text-green-700 border border-green-300":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`},o.createElement(N,{className:"h-4 w-4"}),o.createElement("span",null,A.label))})),o.createElement("div",{className:"flex items-center space-x-2"},o.createElement("span",{className:"text-sm text-gray-500 max-w-[250px] truncate"},h),o.createElement("button",{onClick:y,className:"px-2 py-1 text-xs bg-gray-200 hover:bg-gray-300 rounded"},"Copy"),o.createElement("button",{onClick:p,className:"px-2 py-1 text-xs bg-red-200 hover:bg-red-300 rounded flex items-center space-x-1"},o.createElement(HO,{size:14})," ",o.createElement("span",null,"Logout")))),o.createElement("div",{className:"p-4"},s==="landing"&&o.createElement("div",{className:"text-center mt-20"},o.createElement("h1",{className:"text-3xl font-bold text-green-700 mb-4"},"Welcome to TURNX"),o.createElement("p",{className:"text-gray-600 mb-6"},"Select a feature from the top navigation to start a call, manage connections, or explore other tools."),o.createElement("p",{className:"text-gray-500 text-sm"},"Logged in as: ",h)),s==="webrtc"&&o.createElement(CU,{turnConfig:{url:"stun:stun.l.google.com:19302",username:"",password:""},callMode:"start",callId:"12345",onEndCall:()=>console.log("Call ended")}),s==="connections"&&o.createElement(BI,null),s==="random-chat"&&o.createElement(RI,null),s==="providers"&&o.createElement(CI,null),s==="dao"&&o.createElement(UI,null),s==="onboarding"&&o.createElement(OI,null),s==="admin"&&d&&o.createElement(AI,null))):o.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 text-gray-800 flex items-center justify-center"},o.createElement("button",{onClick:u,className:"px-6 py-3 bg-green-600 text-white rounded-full font-semibold shadow hover:bg-green-700"},"Login with Internet Identity"))}const qI=new f9;ZT.createRoot(document.getElementById("root")).render(o.createElement(o.StrictMode,null,o.createElement(x9,{client:qI},o.createElement(MI,null))));
